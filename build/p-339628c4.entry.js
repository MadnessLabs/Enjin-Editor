import{r as t,c as n,h as i,a as e,H as r}from"./p-a469560d.js";
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(t){return t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let o,s,u=/(url\()([^)]*)(\))/g,a=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function c(t,n){if(t&&a.test(t))return t;if("//"===t)return t;if(void 0===o){o=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",o="http://a/c%20d"===t.href}catch(t){}}if(n||(n=document.baseURI||window.location.href),o)try{return new URL(t,n).href}catch(n){return t}return s||(s=document.implementation.createHTMLDocument("temp"),s.base=s.createElement("base"),s.head.appendChild(s.base),s.anchor=s.createElement("a"),s.body.appendChild(s.anchor)),s.base.href=n,s.anchor.href=t,s.anchor.href||t}function h(t,n){return t.replace(u,(function(t,i,e,r){return i+"'"+c(e.replace(/["']/g,""),n)+"'"+r}))}function f(t){return t.substring(0,t.lastIndexOf("/")+1)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const l=(!window.ShadyDOM||!window.ShadyDOM.inUse)&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const t=new CSSStyleSheet;t.replaceSync("");const n=document.createElement("div");return n.attachShadow({mode:"open"}),n.shadowRoot.adoptedStyleSheets=[t],n.shadowRoot.adoptedStyleSheets[0]===t}catch(t){return!1}})();let d=window.Polymer&&window.Polymer.rootPath||f(document.baseURI||window.location.href),v=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,p=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,m=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,b=window.Polymer&&window.Polymer.legacyOptimizations||!1,g=window.Polymer&&window.Polymer.legacyWarnings||!1,y=window.Polymer&&window.Polymer.syncInitialRender||!1,w=window.Polymer&&window.Polymer.legacyUndefined||!1,x=window.Polymer&&window.Polymer.orderedComputed||!1,k=window.Polymer&&window.Polymer.removeNestedTemplates||!1,_=window.Polymer&&window.Polymer.fastDomIf||!1,A=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1,S=0;const E=function(t){let n=t.__mixinApplications;n||(n=new WeakMap,t.__mixinApplications=n);let i=S++;return function(e){let r=e.__mixinSet;if(r&&r[i])return e;let o=n,s=o.get(e);if(!s){s=t(e),o.set(e,s);let n=Object.create(s.__mixinSet||r||null);n[i]=!0,s.__mixinSet=n}return s}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let O={},M={};function C(t,n){O[t]=M[t.toLowerCase()]=n}function T(t){return O[t]||M[t.toLowerCase()]}class j extends HTMLElement{static get observedAttributes(){return["id"]}static import(t,n){if(t){let i=T(t);return i&&n?i.querySelector(n):i}return null}attributeChangedCallback(t,n,i,e){n!==i&&this.register()}get assetpath(){if(!this.__assetpath){const t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,n=c(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=f(n)}return this.__assetpath}register(t){if(t=t||this.id){if(p&&void 0!==T(t))throw C(t,null),new Error(`strictTemplatePolicy: dom-module ${t} re-registered`);this.id=t,C(t,this),(n=this).querySelector("style")&&console.warn("dom-module %s has style outside template",n.id)}var n}}function R(t){return j.import(t)}function F(t){const n=h((t.body?t.body:t).textContent,t.baseURI),i=document.createElement("style");return i.textContent=n,i}function I(t){const n=t.trim().split(/\s+/),i=[];for(let t=0;t<n.length;t++)i.push(...B(n[t]));return i}function B(t){const n=R(t);if(!n)return console.warn("Could not find style data in module named",t),[];if(void 0===n._styles){const t=[];t.push(...L(n));const i=n.querySelector("template");i&&t.push(...P(i,n.assetpath)),n._styles=t}return n._styles}function P(t,n){if(!t._styles){const i=[],e=t.content.querySelectorAll("style");for(let t=0;t<e.length;t++){let r=e[t],o=r.getAttribute("include");o&&i.push(...I(o).filter((function(t,n,i){return i.indexOf(t)===n}))),n&&(r.textContent=h(r.textContent,n)),i.push(r)}t._styles=i}return t._styles}function L(t){const n=[],i=t.querySelectorAll("link[rel=import][type~=css]");for(let t=0;t<i.length;t++){let e=i[t];if(e.import){const t=e.import,i=e.hasAttribute("shady-unscoped");if(i&&!t._unscopedStyle){const n=F(t);n.setAttribute("shady-unscoped",""),t._unscopedStyle=n}else t._style||(t._style=F(t));n.push(i?t._unscopedStyle:t._style)}}return n}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/j.prototype.modules=O,customElements.define("dom-module",j);const z=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?t=>ShadyDOM.patch(t):t=>t;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function D(t){return t.indexOf(".")>=0}function N(t){let n=t.indexOf(".");return-1===n?t:t.slice(0,n)}function U(t,n){return 0===n.indexOf(t+".")}function V(t,n,i){return n+i.slice(t.length)}function H(t){if(Array.isArray(t)){let n=[];for(let i=0;i<t.length;i++){let e=t[i].toString().split(".");for(let t=0;t<e.length;t++)n.push(e[t])}return n.join(".")}return t}function $(t){return Array.isArray(t)?H(t).split("."):t.toString().split(".")}function K(t,n,i){let e=t,r=$(n);for(let t=0;t<r.length;t++){if(!e)return;e=e[r[t]]}return i&&(i.path=r.join(".")),e}function W(t,n,i){let e=t,r=$(n),o=r[r.length-1];if(r.length>1){for(let t=0;t<r.length-1;t++)if(e=e[r[t]],!e)return;e[o]=i}else e[n]=i;return r.join(".")}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const G={},q=/-[a-z]/g,J=/([A-Z])/g;function Y(t){return G[t]||(G[t]=t.indexOf("-")<0?t:t.replace(q,(t=>t[1].toUpperCase())))}function Q(t){return G[t]||(G[t]=t.replace(J,"-$1").toLowerCase())}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Z=0,X=0,tt=[],nt=0,it=!1,et=document.createTextNode("");new window.MutationObserver((function(){it=!1;const t=tt.length;for(let n=0;n<t;n++){let t=tt[n];if(t)try{t()}catch(t){setTimeout((()=>{throw t}))}}tt.splice(0,t),X+=t})).observe(et,{characterData:!0});const rt={run:t=>(it||(it=!0,et.textContent=nt++),tt.push(t),Z++),cancel(t){const n=t-X;if(n>=0){if(!tt[n])throw new Error("invalid async handle: "+t);tt[n]=null}}},ot=E((t=>class extends t{static createProperties(t){const n=this.prototype;for(let i in t)i in n||n._createPropertyAccessor(i)}static attributeNameForProperty(t){return t.toLowerCase()}static typeForProperty(t){}_createPropertyAccessor(t,n){this._addPropertyToAttributeMap(t),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,n))}_addPropertyToAttributeMap(t){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let n=this.__dataAttributes[t];return n||(n=this.constructor.attributeNameForProperty(t),this.__dataAttributes[n]=t),n}_definePropertyAccessor(t,n){Object.defineProperty(this,t,{get(){return this.__data[t]},set:n?function(){}:function(n){this._setPendingProperty(t,n,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}_initializeInstanceProperties(t){Object.assign(this,t)}_setProperty(t,n){this._setPendingProperty(t,n)&&this._invalidateProperties()}_getProperty(t){return this.__data[t]}_setPendingProperty(t,n,i){let e=this.__data[t],r=this._shouldPropertyChange(t,n,e);return r&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(t in this.__dataOld)&&(this.__dataOld[t]=e),this.__data[t]=n,this.__dataPending[t]=n),r}_isPropertyPending(t){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(t))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,rt.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const t=this.__data,n=this.__dataPending,i=this.__dataOld;this._shouldPropertiesChange(t,n,i)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,n,i)),this.__dataCounter--}_shouldPropertiesChange(t,n,i){return Boolean(n)}_propertiesChanged(t,n,i){}_shouldPropertyChange(t,n,i){return i!==n&&(i==i||n==n)}attributeChangedCallback(t,n,i,e){n!==i&&this._attributeToProperty(t,i),super.attributeChangedCallback&&super.attributeChangedCallback(t,n,i,e)}_attributeToProperty(t,n,i){if(!this.__serializing){const e=this.__dataAttributes,r=e&&e[t]||t;this[r]=this._deserializeValue(n,i||this.constructor.typeForProperty(r))}}_propertyToAttribute(t,n,i){this.__serializing=!0,this._valueToNodeAttribute(this,i=arguments.length<3?this[t]:i,n||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}_valueToNodeAttribute(t,n,i){const e=this._serializeValue(n);"class"!==i&&"name"!==i&&"slot"!==i||(t=z(t)),void 0===e?t.removeAttribute(i):t.setAttribute(i,e)}_serializeValue(t){switch(typeof t){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}_deserializeValue(t,n){switch(n){case Boolean:return null!==t;case Number:return Number(t);default:return t}}})),st={};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let ut=HTMLElement.prototype;for(;ut;){let t=Object.getOwnPropertyNames(ut);for(let n=0;n<t.length;n++)st[t[n]]=!0;ut=Object.getPrototypeOf(ut)}const at=E((t=>{const n=ot(t);return class extends n{static createPropertiesForAttributes(){let t=this.observedAttributes;for(let n=0;n<t.length;n++)this.prototype._createPropertyAccessor(Y(t[n]))}static attributeNameForProperty(t){return Q(t)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(t){for(let n in t)this._setProperty(n,t[n])}_ensureAttribute(t,n){this.hasAttribute(t)||this._valueToNodeAttribute(this,n,t)}_serializeValue(t){switch(typeof t){case"object":if(t instanceof Date)return t.toString();if(t)try{return JSON.stringify(t)}catch(t){return""}default:return super._serializeValue(t)}}_deserializeValue(t,n){let i;switch(n){case Object:try{i=JSON.parse(t)}catch(n){i=t}break;case Array:try{i=JSON.parse(t)}catch(n){i=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${t}`)}break;case Date:i=isNaN(t)?String(t):Number(t),i=new Date(i);break;default:i=super._deserializeValue(t,n)}return i}_definePropertyAccessor(t,n){!function(t,n){if(!st[n]){let i=t[n];void 0!==i&&(t.__data?t._setPendingProperty(n,i):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[n]=i))}}(this,t),super._definePropertyAccessor(t,n)}_hasAccessor(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}_isPropertyPending(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}})),ct={"dom-if":!0,"dom-repeat":!0};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let ht=!1,ft=!1;function lt(t){let n=t.getAttribute("is");if(n&&ct[n]){let i=t;for(i.removeAttribute("is"),t=i.ownerDocument.createElement(n),i.parentNode.replaceChild(t,i),t.appendChild(i);i.attributes.length;)t.setAttribute(i.attributes[0].name,i.attributes[0].value),i.removeAttribute(i.attributes[0].name)}return t}function dt(t,n){let i=n.parentInfo&&dt(t,n.parentInfo);if(!i)return t;for(let t=i.firstChild,e=0;t;t=t.nextSibling)if(n.parentIndex===e++)return t}function vt(t,n,i,e){e.id&&(n[e.id]=i)}function pt(t,n,i){if(i.events&&i.events.length)for(let e,r=0,o=i.events;r<o.length&&(e=o[r]);r++)t._addMethodEventListenerToNode(n,e.name,e.value,t)}function mt(t,n,i,e){i.templateInfo&&(n._templateInfo=i.templateInfo,n._parentTemplateInfo=e)}const bt=E((t=>class extends t{static _parseTemplate(t,n){if(!t._templateInfo){let i=t._templateInfo={};i.nodeInfoList=[],i.nestedTemplate=Boolean(n),i.stripWhiteSpace=n&&n.stripWhiteSpace||t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,i,{parent:null})}return t._templateInfo}static _parseTemplateContent(t,n,i){return this._parseTemplateNode(t.content,n,i)}static _parseTemplateNode(t,n,i){let e=!1,r=t;return"template"!=r.localName||r.hasAttribute("preserve-content")?"slot"===r.localName&&(n.hasInsertionPoint=!0):e=this._parseTemplateNestedTemplate(r,n,i)||e,function(t){(function(){if(!ht){ht=!0;const t=document.createElement("textarea");t.placeholder="a",ft=t.placeholder===t.textContent}return ft})()&&"textarea"===t.localName&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}(r),r.firstChild&&this._parseTemplateChildNodes(r,n,i),r.hasAttributes&&r.hasAttributes()&&(e=this._parseTemplateNodeAttributes(r,n,i)||e),e||i.noted}static _parseTemplateChildNodes(t,n,i){if("script"!==t.localName&&"style"!==t.localName)for(let e,r=t.firstChild,o=0;r;r=e){if("template"==r.localName&&(r=lt(r)),e=r.nextSibling,r.nodeType===Node.TEXT_NODE){let i=e;for(;i&&i.nodeType===Node.TEXT_NODE;)r.textContent+=i.textContent,e=i.nextSibling,t.removeChild(i),i=e;if(n.stripWhiteSpace&&!r.textContent.trim()){t.removeChild(r);continue}}let s={parentIndex:o,parentInfo:i};this._parseTemplateNode(r,n,s)&&(s.infoIndex=n.nodeInfoList.push(s)-1),r.parentNode&&o++}}static _parseTemplateNestedTemplate(t,n,i){let e=t,r=this._parseTemplate(e,n);return(r.content=e.content.ownerDocument.createDocumentFragment()).appendChild(e.content),i.templateInfo=r,!0}static _parseTemplateNodeAttributes(t,n,i){let e=!1,r=Array.from(t.attributes);for(let o,s=r.length-1;o=r[s];s--)e=this._parseTemplateNodeAttribute(t,n,i,o.name,o.value)||e;return e}static _parseTemplateNodeAttribute(t,n,i,e,r){return"on-"===e.slice(0,3)?(t.removeAttribute(e),i.events=i.events||[],i.events.push({name:e.slice(3),value:r}),!0):"id"===e&&(i.id=r,!0)}static _contentForTemplate(t){let n=t._templateInfo;return n&&n.content||t.content}_stampTemplate(t,n){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);let i=(n=n||this.constructor._parseTemplate(t)).nodeInfoList,e=document.importNode(n.content||t.content,!0);e.__noInsertionPoint=!n.hasInsertionPoint;let r=e.nodeList=new Array(i.length);e.$={};for(let t,o=0,s=i.length;o<s&&(t=i[o]);o++){let i=r[o]=dt(e,t);vt(0,e.$,i,t),mt(0,i,t,n),pt(this,i,t)}return e=e,e}_addMethodEventListenerToNode(t,n,i,e){let r=function(t,n,i){return t=t._methodHost||t,function(n){t[i]?t[i](n,n.detail):console.warn("listener method `"+i+"` not defined")}}(e=e||t,0,i);return this._addEventListenerToNode(t,n,r),r}_addEventListenerToNode(t,n,i){t.addEventListener(n,i)}_removeEventListenerFromNode(t,n,i){t.removeEventListener(n,i)}}));
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let gt=0;const yt=[],wt={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},xt=/[A-Z]/;function kt(t,n,i){let e=t[n];if(e){if(!t.hasOwnProperty(n)&&(e=t[n]=Object.create(t[n]),i))for(let t in e){let n=e[t],i=e[t]=Array(n.length);for(let t=0;t<n.length;t++)i[t]=n[t]}}else e=t[n]={};return e}function _t(t,n,i,e,r,o){if(n){let s=!1;const u=gt++;for(let a in i){let c=n[r?N(a):a];if(c)for(let n,h=0,f=c.length;h<f&&(n=c[h]);h++)n.info&&n.info.lastRun===u||r&&!St(a,n.trigger)||(n.info&&(n.info.lastRun=u),n.fn(t,a,i,e,n.info,r,o),s=!0)}return s}return!1}function At(t,n,i,e,r,o,s,u){let a=!1,c=n[s?N(e):e];if(c)for(let n,h=0,f=c.length;h<f&&(n=c[h]);h++)n.info&&n.info.lastRun===i||s&&!St(e,n.trigger)||(n.info&&(n.info.lastRun=i),n.fn(t,e,r,o,n.info,s,u),a=!0);return a}function St(t,n){if(n){let i=n.name;return i==t||!(!n.structured||!function(t,n){return 0===t.indexOf(n+".")}(i,t))||!(!n.wildcard||!U(i,t))}return!0}function Et(t,n,i,e,r){let o="string"==typeof r.method?t[r.method]:r.method,s=r.property;o?o.call(t,t.__data[s],e[s]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function Ot(t,n,i){let e=N(n);return e!==n&&(Mt(t,Q(e)+"-changed",i[n],n),!0)}function Mt(t,n,i,e){let r={value:i,queueProperty:!0};e&&(r.path=e),z(t).dispatchEvent(new CustomEvent(n,{detail:r}))}function Ct(t,n,i,e,r,o){let s=(o?N(n):n)!=n?n:null,u=s?K(t,s):t.__data[n];s&&void 0===u&&(u=i[n]),Mt(t,r.eventName,u,s)}function Tt(t,n,i,e,r){let o=t.__data[n];v&&(o=v(o,r.attrName,"attribute",t)),t._propertyToAttribute(n,r.attrName,o)}const jt=(t,n,i)=>{let e=0,r=n.length-1,o=-1;for(;e<=r;){const s=e+r>>1,u=i.get(n[s].methodInfo)-i.get(t.methodInfo);if(u<0)e=s+1;else{if(!(u>0)){o=s;break}r=s-1}}o<0&&(o=r+1),n.splice(o,0,t)},Rt=(t,n,i,e,r)=>{const o=n[r?N(t):t];if(o)for(let n=0;n<o.length;n++){const s=o[n];s.info.lastRun===gt||r&&!St(t,s.trigger)||(s.info.lastRun=gt,jt(s.info,i,e))}};function Ft(t,n,i,e,r){let o=Nt(t,n,i,0,r);if(o===yt)return!1;let s=r.methodInfo;return t.__dataHasAccessor&&t.__dataHasAccessor[s]?t._setPendingProperty(s,o,!0):(t[s]=o,!1)}function It(t,n,i,e,r,o,s){i.bindings=i.bindings||[];let u={kind:e,target:r,parts:o,literal:s,isCompound:1!==o.length};if(i.bindings.push(u),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(u)){let{event:t,negate:n}=u.parts[0];u.listenerEvent=t||Q(r)+"-changed",u.listenerNegate=n}let a=n.nodeInfoList.length;for(let i=0;i<u.parts.length;i++){let e=u.parts[i];e.compoundIndex=i,Bt(t,n,u,e,a)}}function Bt(t,n,i,e,r){if(!e.literal)if("attribute"===i.kind&&"-"===i.target[0])console.warn("Cannot set attribute "+i.target+' because "-" is not a valid attribute starting character');else{let o=e.dependencies,s={index:r,binding:i,part:e,evaluator:t};for(let i=0;i<o.length;i++){let e=o[i];"string"==typeof e&&(e=Kt(e),e.wildcard=!0),t._addTemplatePropertyEffect(n,e.rootProperty,{fn:Pt,info:s,trigger:e})}}}function Pt(t,n,i,e,r,o,s){let u=s[r.index],a=r.binding,c=r.part;if(o&&c.source&&n.length>c.source.length&&"property"==a.kind&&!a.isCompound&&u.__isPropertyEffectsClient&&u.__dataHasAccessor&&u.__dataHasAccessor[a.target]){let e=i[n];n=V(c.source,a.target,n),u._setPendingPropertyOrPath(n,e,!1,!0)&&t._enqueueClient(u)}else{let s=r.evaluator._evaluateBinding(t,c,n,i,e,o);s!==yt&&function(t,n,i,e,r){if(r=function(t,n,i,e){if(i.isCompound){let r=t.__dataCompoundStorage[i.target];r[e.compoundIndex]=n,n=r.join("")}return"attribute"!==i.kind&&("textContent"!==i.target&&("value"!==i.target||"input"!==t.localName&&"textarea"!==t.localName)||(n=null==n?"":n)),n}(n,r,i,e),v&&(r=v(r,i.target,i.kind,n)),"attribute"==i.kind)t._valueToNodeAttribute(n,r,i.target);else{let e=i.target;n.__isPropertyEffectsClient&&n.__dataHasAccessor&&n.__dataHasAccessor[e]?n[wt.READ_ONLY]&&n[wt.READ_ONLY][e]||n._setPendingProperty(e,r)&&t._enqueueClient(n):t._setUnmanagedPropertyToNode(n,e,r)}}(t,u,a,c,s)}}function Lt(t,n){if(n.isCompound){let i=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),e=n.parts,r=new Array(e.length);for(let t=0;t<e.length;t++)r[t]=e[t].literal;let o=n.target;i[o]=r,n.literal&&"property"==n.kind&&("className"===o&&(t=z(t)),t[o]=n.literal)}}function zt(t,n,i){if(i.listenerEvent){let e=i.parts[0];t.addEventListener(i.listenerEvent,(function(t){!function(t,n,i,e,r){let o,s=t.detail,u=s&&s.path;u?(e=V(i,e,u),o=s&&s.value):o=t.currentTarget[i],o=r?!o:o,n[wt.READ_ONLY]&&n[wt.READ_ONLY][e]||!n._setPendingPropertyOrPath(e,o,!0,Boolean(u))||s&&s.queueProperty||n._invalidateProperties()}(t,n,i.target,e.source,e.negate)}))}}function Dt(t,n,i,e,r,o){let s={methodName:n.methodName,args:n.args,methodInfo:r,dynamicFn:o=n.static||o&&("object"!=typeof o||o[n.methodName])};for(let r,o=0;o<n.args.length&&(r=n.args[o]);o++)r.literal||t._addPropertyEffect(r.rootProperty,i,{fn:e,info:s,trigger:r});return o&&t._addPropertyEffect(n.methodName,i,{fn:e,info:s}),s}function Nt(t,n,i,e,r){let o=t._methodHost||t,s=o[r.methodName];if(s){let e=t._marshalArgs(r.args,n,i);return e===yt?yt:s.apply(o,e)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}const Ut=[],Vt=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function Ht(t){let n="";for(let i=0;i<t.length;i++)n+=t[i].literal||"";return n}function $t(t){let n=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(n){let t={methodName:n[1],static:!0,args:Ut};return n[2].trim()?function(t,n){return n.args=t.map((function(t){let i=Kt(t);return i.literal||(n.static=!1),i}),this),n}(n[2].replace(/\\,/g,"&comma;").split(","),t):t}return null}function Kt(t){let n=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),i={name:n,value:"",literal:!1},e=n[0];switch("-"===e&&(e=n[1]),e>="0"&&e<="9"&&(e="#"),e){case"'":case'"':i.value=n.slice(1,-1),i.literal=!0;break;case"#":i.value=Number(n),i.literal=!0}return i.literal||(i.rootProperty=N(n),i.structured=D(n),i.structured&&(i.wildcard=".*"==n.slice(-2),i.wildcard&&(i.name=n.slice(0,-2)))),i}function Wt(t,n,i){let e=K(t,i);return void 0===e&&(e=n[i]),e}function Gt(t,n,i,e){const r={indexSplices:e};w&&!t._overrideLegacyUndefined&&(n.splices=r),t.notifyPath(i+".splices",r),t.notifyPath(i+".length",n.length),w&&!t._overrideLegacyUndefined&&(r.indexSplices=[])}function qt(t,n,i,e,r,o){Gt(t,n,i,[{index:e,addedCount:r,removed:o,object:n,type:"splice"}])}const Jt=E((t=>{const n=bt(at(t));return class extends n{constructor(){super(),this.__isPropertyEffectsClient=!0}get PROPERTY_EFFECT_TYPES(){return wt}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(Yt.length){let t=Yt[Yt.length-1];t._enqueueClient(this),this.__dataHost=t}}_initializeProtoProperties(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}_initializeInstanceProperties(t){let n=this[wt.READ_ONLY];for(let i in t)n&&n[i]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[i]=this.__dataPending[i]=t[i])}_addPropertyEffect(t,n,i){this._createPropertyAccessor(t,n==wt.READ_ONLY);let e=kt(this,n,!0)[t];e||(e=this[n][t]=[]),e.push(i)}_removePropertyEffect(t,n,i){let e=kt(this,n,!0)[t],r=e.indexOf(i);r>=0&&e.splice(r,1)}_hasPropertyEffect(t,n){let i=this[n];return Boolean(i&&i[t])}_hasReadOnlyEffect(t){return this._hasPropertyEffect(t,wt.READ_ONLY)}_hasNotifyEffect(t){return this._hasPropertyEffect(t,wt.NOTIFY)}_hasReflectEffect(t){return this._hasPropertyEffect(t,wt.REFLECT)}_hasComputedEffect(t){return this._hasPropertyEffect(t,wt.COMPUTE)}_setPendingPropertyOrPath(t,n,i,e){if(e||N(Array.isArray(t)?t[0]:t)!==t){if(!e){let i=K(this,t);if(!(t=W(this,t,n))||!super._shouldPropertyChange(t,n,i))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,n,i))return function(t,n,i){let e=t.__dataLinkedPaths;if(e){let r;for(let o in e){let s=e[o];U(o,n)?(r=V(o,s,n),t._setPendingPropertyOrPath(r,i,!0,!0)):U(s,n)&&(r=V(s,o,n),t._setPendingPropertyOrPath(r,i,!0,!0))}}}(this,t,n),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,n,i);this[t]=n}return!1}_setUnmanagedPropertyToNode(t,n,i){i===t[n]&&"object"!=typeof i||("className"===n&&(t=z(t)),t[n]=i)}_setPendingProperty(t,n,i){let e=this.__dataHasPaths&&D(t);return!!this._shouldPropertyChange(t,n,(e?this.__dataTemp:this.__data)[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),e?this.__dataTemp[t]=n:this.__data[t]=n,this.__dataPending[t]=n,(e||this[wt.NOTIFY]&&this[wt.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=i),!0)}_setProperty(t,n){this._setPendingProperty(t,n,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(let n=0;n<t.length;n++){let i=t[n];i.__dataEnabled?i.__dataPending&&i._flushProperties():i._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(t,n){for(let i in t)!n&&this[wt.READ_ONLY]&&this[wt.READ_ONLY][i]||this._setPendingPropertyOrPath(i,t[i],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(t,n,i){let e,r=this.__dataHasPaths;this.__dataHasPaths=!1,function(t,n,i,e){let r=t[wt.COMPUTE];if(r)if(x){gt++;const o=function(t){let n=t.constructor.__orderedComputedDeps;if(!n){n=new Map;const i=t[wt.COMPUTE];let e,{counts:r,ready:o,total:s}=function(t){const n=t.__computeInfo,i={},e=t[wt.COMPUTE],r=[];let o=0;for(let t in n){const e=n[t];o+=i[t]=e.args.filter((t=>!t.literal)).length+(e.dynamicFn?1:0)}for(let t in e)n[t]||r.push(t);return{counts:i,ready:r,total:o}}(t);for(;e=o.shift();){n.set(e,n.size);const t=i[e];t&&t.forEach((t=>{const n=t.info.methodInfo;--s,0==--r[n]&&o.push(n)}))}0!==s&&console.warn(`Computed graph for ${t.localName} incomplete; circular?`),t.constructor.__orderedComputedDeps=n}return n}(t),s=[];for(let t in n)Rt(t,r,s,o,e);let u;for(;u=s.shift();)Ft(t,"",n,0,u)&&Rt(u.methodInfo,r,s,o,e);Object.assign(i,t.__dataOld),Object.assign(n,t.__dataPending),t.__dataPending=null}else{let o=n;for(;_t(t,r,o,i,e);)Object.assign(i,t.__dataOld),Object.assign(n,t.__dataPending),o=t.__dataPending,t.__dataPending=null}}(this,n,i,r),e=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(n,i,r),this._flushClients(),_t(this,this[wt.REFLECT],n,i,r),_t(this,this[wt.OBSERVE],n,i,r),e&&function(t,n,i,e,r){let o,s,u=t[wt.NOTIFY],a=gt++;for(let s in n)n[s]&&(u&&At(t,u,a,s,i,e,r)||r&&Ot(t,s,i))&&(o=!0);o&&(s=t.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}(this,e,n,i,r),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(t,n,i){this[wt.PROPAGATE]&&_t(this,this[wt.PROPAGATE],t,n,i),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,t,n,i)}_runEffectsForTemplate(t,n,i,e){const r=(n,e)=>{_t(this,t.propertyEffects,n,i,e,t.nodeList);for(let r=t.firstChild;r;r=r.nextSibling)this._runEffectsForTemplate(r,n,i,e)};t.runEffects?t.runEffects(r,n,e):r(n,e)}linkPaths(t,n){t=H(t),n=H(n),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=n}unlinkPaths(t){t=H(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}notifySplices(t,n){let i={path:""};Gt(this,K(this,t,i),i.path,n)}get(t,n){return K(n||this,t)}set(t,n,i){i?W(i,t,n):this[wt.READ_ONLY]&&this[wt.READ_ONLY][t]||this._setPendingPropertyOrPath(t,n,!0)&&this._invalidateProperties()}push(t,...n){let i={path:""},e=K(this,t,i),r=e.length,o=e.push(...n);return n.length&&qt(this,e,i.path,r,n.length,[]),o}pop(t){let n={path:""},i=K(this,t,n),e=Boolean(i.length),r=i.pop();return e&&qt(this,i,n.path,i.length,0,[r]),r}splice(t,n,i,...e){let r,o={path:""},s=K(this,t,o);return n<0?n=s.length-Math.floor(-n):n&&(n=Math.floor(n)),r=2===arguments.length?s.splice(n):s.splice(n,i,...e),(e.length||r.length)&&qt(this,s,o.path,n,e.length,r),r}shift(t){let n={path:""},i=K(this,t,n),e=Boolean(i.length),r=i.shift();return e&&qt(this,i,n.path,0,0,[r]),r}unshift(t,...n){let i={path:""},e=K(this,t,i),r=e.unshift(...n);return n.length&&qt(this,e,i.path,0,n.length,[]),r}notifyPath(t,n){let i;if(1==arguments.length){let e={path:""};n=K(this,t,e),i=e.path}else i=Array.isArray(t)?H(t):t;this._setPendingPropertyOrPath(i,n,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(t,n){var i;this._addPropertyEffect(t,wt.READ_ONLY),n&&(this["_set"+(i=t,i[0].toUpperCase()+i.substring(1))]=function(n){this._setProperty(t,n)})}_createPropertyObserver(t,n,i){let e={property:t,method:n,dynamicFn:Boolean(i)};this._addPropertyEffect(t,wt.OBSERVE,{fn:Et,info:e,trigger:{name:t}}),i&&this._addPropertyEffect(n,wt.OBSERVE,{fn:Et,info:e,trigger:{name:n}})}_createMethodObserver(t,n){let i=$t(t);if(!i)throw new Error("Malformed observer expression '"+t+"'");Dt(this,i,wt.OBSERVE,Nt,null,n)}_createNotifyingProperty(t){this._addPropertyEffect(t,wt.NOTIFY,{fn:Ct,info:{eventName:Q(t)+"-changed",property:t}})}_createReflectedProperty(t){let n=this.constructor.attributeNameForProperty(t);"-"===n[0]?console.warn("Property "+t+" cannot be reflected to attribute "+n+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,wt.REFLECT,{fn:Tt,info:{attrName:n}})}_createComputedProperty(t,n,i){let e=$t(n);if(!e)throw new Error("Malformed computed expression '"+n+"'");const r=Dt(this,e,wt.COMPUTE,Ft,t,i);kt(this,"__computeInfo")[t]=r}_marshalArgs(t,n,i){const e=this.__data,r=[];for(let o=0,s=t.length;o<s;o++){let{name:s,structured:u,wildcard:a,value:c,literal:h}=t[o];if(!h)if(a){const t=U(s,n),r=Wt(e,i,t?n:s);c={path:t?n:s,value:r,base:t?K(e,s):r}}else c=u?Wt(e,i,s):e[s];if(w&&!this._overrideLegacyUndefined&&void 0===c&&t.length>1)return yt;r[o]=c}return r}static addPropertyEffect(t,n,i){this.prototype._addPropertyEffect(t,n,i)}static createPropertyObserver(t,n,i){this.prototype._createPropertyObserver(t,n,i)}static createMethodObserver(t,n){this.prototype._createMethodObserver(t,n)}static createNotifyingProperty(t){this.prototype._createNotifyingProperty(t)}static createReadOnlyProperty(t,n){this.prototype._createReadOnlyProperty(t,n)}static createReflectedProperty(t){this.prototype._createReflectedProperty(t)}static createComputedProperty(t,n,i){this.prototype._createComputedProperty(t,n,i)}static bindTemplate(t){return this.prototype._bindTemplate(t)}_bindTemplate(t,n){let i=this.constructor._parseTemplate(t),e=this.__preBoundTemplateInfo==i;if(!e)for(let t in i.propertyEffects)this._createPropertyAccessor(t);if(n)if(i=Object.create(i),i.wasPreBound=e,this.__templateInfo){const n=t._parentTemplateInfo||this.__templateInfo,e=n.lastChild;i.parent=n,n.lastChild=i,i.previousSibling=e,e?e.nextSibling=i:n.firstChild=i}else this.__templateInfo=i;else this.__preBoundTemplateInfo=i;return i}static _addTemplatePropertyEffect(t,n,i){(t.hostProps=t.hostProps||{})[n]=!0;let e=t.propertyEffects=t.propertyEffects||{};(e[n]=e[n]||[]).push(i)}_stampTemplate(t,n){n=n||this._bindTemplate(t,!0),Yt.push(this);let i=super._stampTemplate(t,n);if(Yt.pop(),n.nodeList=i.nodeList,!n.wasPreBound){let t=n.childNodes=[];for(let n=i.firstChild;n;n=n.nextSibling)t.push(n)}return i.templateInfo=n,function(t,n){let{nodeList:i,nodeInfoList:e}=n;if(e.length)for(let n=0;n<e.length;n++){let r=i[n],o=e[n].bindings;if(o)for(let n=0;n<o.length;n++){let i=o[n];Lt(r,i),zt(r,t,i)}r.__dataHost=t}}(this,n),this.__dataClientsReady&&(this._runEffectsForTemplate(n,this.__data,null,!1),this._flushClients()),i}_removeBoundDom(t){const n=t.templateInfo,{previousSibling:i,nextSibling:e,parent:r}=n;i?i.nextSibling=e:r&&(r.firstChild=e),e?e.previousSibling=i:r&&(r.lastChild=i),n.nextSibling=n.previousSibling=null;let o=n.childNodes;for(let t=0;t<o.length;t++){let n=o[t];z(z(n).parentNode).removeChild(n)}}static _parseTemplateNode(t,i,e){let r=n._parseTemplateNode.call(this,t,i,e);if(t.nodeType===Node.TEXT_NODE){let n=this._parseBindings(t.textContent,i);n&&(t.textContent=Ht(n)||" ",It(this,i,e,"text","textContent",n),r=!0)}return r}static _parseTemplateNodeAttribute(t,i,e,r,o){let s=this._parseBindings(o,i);if(s){let n=r,o="property";xt.test(r)?o="attribute":"$"==r[r.length-1]&&(r=r.slice(0,-1),o="attribute");let u=Ht(s);return u&&"attribute"==o&&("class"==r&&t.hasAttribute("class")&&(u+=" "+t.getAttribute(r)),t.setAttribute(r,u)),"attribute"==o&&"disable-upgrade$"==n&&t.setAttribute(r,""),"input"===t.localName&&"value"===n&&t.setAttribute(n,""),t.removeAttribute(n),"property"===o&&(r=Y(r)),It(this,i,e,o,r,s,u),!0}return n._parseTemplateNodeAttribute.call(this,t,i,e,r,o)}static _parseTemplateNestedTemplate(t,i,e){let r=n._parseTemplateNestedTemplate.call(this,t,i,e);const o=t.parentNode,s=e.templateInfo,u="dom-if"===o.localName;k&&(u||"dom-repeat"===o.localName)&&(o.removeChild(t),(e=e.parentInfo).templateInfo=s,e.noted=!0,r=!1);let a=s.hostProps;if(_&&u)a&&(i.hostProps=Object.assign(i.hostProps||{},a),k||(e.parentInfo.noted=!0));else{let t="{";for(let n in a)It(this,i,e,"property","_host_"+n,[{mode:t,source:n,dependencies:[n],hostProp:!0}])}return r}static _parseBindings(t,n){let i,e=[],r=0;for(;null!==(i=Vt.exec(t));){i.index>r&&e.push({literal:t.slice(r,i.index)});let o=i[1][0],s=Boolean(i[2]),u=i[3].trim(),a=!1,c="",h=-1;"{"==o&&(h=u.indexOf("::"))>0&&(c=u.substring(h+2),u=u.substring(0,h),a=!0);let f=$t(u),l=[];if(f){let{args:t,methodName:i}=f;for(let n=0;n<t.length;n++){let i=t[n];i.literal||l.push(i)}let e=n.dynamicFns;(e&&e[i]||f.static)&&(l.push(i),f.dynamicFn=!0)}else l.push(u);e.push({source:u,mode:o,negate:s,customEvent:a,signature:f,dependencies:l,event:c}),r=Vt.lastIndex}if(r&&r<t.length){let n=t.substring(r);n&&e.push({literal:n})}return e.length?e:null}static _evaluateBinding(t,n,i,e,r,o){let s;return s=n.signature?Nt(t,i,e,0,n.signature):i!=n.source?K(t,n.source):o&&D(i)?K(t,i):t.__data[i],n.negate&&(s=!s),s}}})),Yt=[],Qt=E((t=>{const n=ot(t);function i(t){const n=Object.getPrototypeOf(t);return n.prototype instanceof r?n:null}function e(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){let n=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){const i=t.properties;i&&(n=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(t){const n={};for(let i in t){const e=t[i];n[i]="function"==typeof e?{type:e}:e}return n}(i))}t.__ownProperties=n}return t.__ownProperties}class r extends n{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){const t=this._properties;this.__observedAttributes=t?Object.keys(t).map((t=>this.prototype._addPropertyToAttributeMap(t))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const t=i(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const t=e(this);t&&this.createProperties(t)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const t=i(this);this.__properties=Object.assign({},t&&t._properties,e(this))}return this.__properties}static typeForProperty(t){const n=this._properties[t];return n&&n.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return r})),Zt=window.ShadyCSS&&window.ShadyCSS.cssBuild,Xt=E((t=>{const n=Qt(Jt(t));function i(t,n,i,e){i.computed&&(i.readOnly=!0),i.computed&&(t._hasReadOnlyEffect(n)?console.warn(`Cannot redefine computed property '${n}'.`):t._createComputedProperty(n,i.computed,e)),i.readOnly&&!t._hasReadOnlyEffect(n)?t._createReadOnlyProperty(n,!i.computed):!1===i.readOnly&&t._hasReadOnlyEffect(n)&&console.warn(`Cannot make readOnly property '${n}' non-readOnly.`),i.reflectToAttribute&&!t._hasReflectEffect(n)?t._createReflectedProperty(n):!1===i.reflectToAttribute&&t._hasReflectEffect(n)&&console.warn(`Cannot make reflected property '${n}' non-reflected.`),i.notify&&!t._hasNotifyEffect(n)?t._createNotifyingProperty(n):!1===i.notify&&t._hasNotifyEffect(n)&&console.warn(`Cannot make notify property '${n}' non-notify.`),i.observer&&t._createPropertyObserver(n,i.observer,e[i.observer]),t._addPropertyToAttributeMap(n)}return class extends n{static get polymerElementVersion(){return"3.4.1"}static _finalizeClass(){n._finalizeClass.call(this);const t=((i=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",i))||(i.__ownObservers=i.hasOwnProperty(JSCompiler_renameProperty("observers",i))?i.observers:null),i.__ownObservers);var i;t&&this.createObservers(t,this._properties),this._prepareTemplate()}static _prepareTemplate(){let t=this.template;t&&("string"==typeof t?(console.error("template getter must return HTMLTemplateElement"),t=null):b||(t=t.cloneNode(!0))),this.prototype._template=t}static createProperties(t){for(let n in t)i(this.prototype,n,t[n],t)}static createObservers(t,n){const i=this.prototype;for(let e=0;e<t.length;e++)i._createMethodObserver(t[e],n)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){const t=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;this._template=void 0!==t?t:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(t){let n=null;if(t&&(!p||m)&&(n=j.import(t,"template"),p&&!n))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${t}`);return n}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(t){this._template=t}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const t=this.importMeta;if(t)this._importPath=f(t.url);else{const t=j.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super()}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=d,this.importPath=this.constructor.importPath;let t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;let n=t._properties;for(let i in n){let e=n[i];"value"in e&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[i]=e)}}return t.__propertyDefaults}(this.constructor);if(t)for(let n in t){let i=t[n];if(this._canApplyPropertyDefault(n)){let t="function"==typeof i.value?i.value.call(this):i.value;this._hasAccessor(n)?this._setPendingProperty(n,t,!0):this[n]=t}}}_canApplyPropertyDefault(t){return!this.hasOwnProperty(t)}static _processStyleText(t,n){return h(t,n)}static _finalizeTemplate(t){const n=this.prototype._template;if(n&&!n.__polymerFinalized){n.__polymerFinalized=!0;const i=this.importPath;(function(t,n,i,e){if(!Zt){const r=n.content.querySelectorAll("style"),o=P(n),s=function(t){let n=R(t);return n?L(n):[]}(i),u=n.content.firstElementChild;for(let i=0;i<s.length;i++){let r=s[i];r.textContent=t._processStyleText(r.textContent,e),n.content.insertBefore(r,u)}let a=0;for(let n=0;n<o.length;n++){let i=o[n],s=r[a];s!==i?(i=i.cloneNode(!0),s.parentNode.insertBefore(i,s)):a++,i.textContent=t._processStyleText(i.textContent,e)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(n,i),A&&Zt&&l){const i=n.content.querySelectorAll("style");if(i){let n="";Array.from(i).forEach((t=>{n+=t.textContent,t.parentNode.removeChild(t)})),t._styleSheet=new CSSStyleSheet,t._styleSheet.replaceSync(n)}}})(this,n,t,i?c(i):""),this.prototype._bindTemplate(n)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(t){const n=z(this);if(n.attachShadow)return t?(n.shadowRoot||(n.attachShadow({mode:"open",shadyUpgradeFragment:t}),n.shadowRoot.appendChild(t),this.constructor._styleSheet&&(n.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),y&&window.ShadyDOM&&window.ShadyDOM.flushInitial(n.shadowRoot),n.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}resolveUrl(t,n){return!n&&this.importPath&&(n=c(this.importPath)),c(t,n)}static _parseTemplateContent(t,i,e){return i.dynamicFns=i.dynamicFns||this._properties,n._parseTemplateContent.call(this,t,i,e)}static _addTemplatePropertyEffect(t,i,e){return!g||i in this._properties||e.info.part.signature&&e.info.part.signature.static||e.info.part.hostProp||t.nestedTemplate||console.warn(`Property '${i}' used in template but not declared in 'properties'; attribute will not be observed.`),n._addTemplatePropertyEffect.call(this,t,i,e)}}}));
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class tn{constructor(t){this.value=t.toString()}toString(){return this.value}}const nn=function(t,...n){const i=document.createElement("template");return i.innerHTML=n.reduce(((n,i,e)=>n+function(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof tn)return function(t){if(t instanceof tn)return t.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${t}`)}(t);throw new Error(`non-template value passed to Polymer's html function: ${t}`)}(i)+t[e+1]),t[0]),i},en=Xt(HTMLElement);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function on(t,n,i){return t(i={path:n,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},i.exports),i.exports}on((function(t){!function(){var t=function(){return this}();t||"undefined"==typeof window||(t=window);var n=function(t,i,e){"string"==typeof t?(2==arguments.length&&(e=i),n.modules[t]||(n.payloads[t]=e,n.modules[t]=null)):n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};n.modules={},n.payloads={};var i,e=function(t,n,i){if("string"==typeof n){var e=s(t,n);if(null!=e)return i&&i(),e}else if("[object Array]"===Object.prototype.toString.call(n)){for(var o=[],u=0,a=n.length;u<a;++u){var c=s(t,n[u]);if(null==c&&r.original)return;o.push(c)}return i&&i.apply(null,o)||!0}},r=function(t,n){var i=e("",t,n);return null==i&&r.original?r.original.apply(this,arguments):i},o=function(t,n){if(-1!==n.indexOf("!")){var i=n.split("!");return o(t,i[0])+"!"+o(t,i[1])}if("."==n.charAt(0))for(n=t.split("/").slice(0,-1).join("/")+"/"+n;-1!==n.indexOf(".")&&e!=n;){var e=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return n},s=function(t,i){i=o(t,i);var r=n.modules[i];if(!r){if("function"==typeof(r=n.payloads[i])){var s={},u={id:i,uri:"",exports:s,packaged:!0},a=r((function(t,n){return e(i,t,n)}),s,u);n.modules[i]=s=a||u.exports,delete n.payloads[i]}r=n.modules[i]=s||r}return r};i=t,t.ace||(t.ace={}),(i=t.ace).define&&i.define.packaged||(n.original=i.define,i.define=n,i.define.packaged=!0),i.require&&i.require.packaged||(r.original=i.require,i.require=r,i.require.packaged=!0)}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(){"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(t,n){n.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},n.getOS=function(){return n.isMac?n.OS.MAC:n.isLinux?n.OS.LINUX:n.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},e=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),r=i.userAgent||"",o=i.appName||"";n.isWin="win"==e,n.isMac="mac"==e,n.isLinux="linux"==e,n.isIE="Microsoft Internet Explorer"==o||o.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),n.isOldIE=n.isIE&&n.isIE<9,n.isGecko=n.isMozilla=r.match(/ Gecko\/\d+/),n.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),n.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,n.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,n.isEdge=parseFloat(r.split(" Edge/")[1])||void 0,n.isAIR=r.indexOf("AdobeAIR")>=0,n.isAndroid=r.indexOf("Android")>=0,n.isChromeOS=r.indexOf(" CrOS ")>=0,n.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,n.isIOS&&(n.isMac=!0),n.isMobile=n.isIOS||n.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(t,n){var i=t("./useragent");if(n.buildDom=function t(n,i,e){if("string"==typeof n&&n){var r=document.createTextNode(n);return i&&i.appendChild(r),r}if(!Array.isArray(n))return n&&n.appendChild&&i&&i.appendChild(n),n;if("string"!=typeof n[0]||!n[0]){for(var o=[],s=0;s<n.length;s++){var u=t(n[s],i,e);u&&o.push(u)}return o}var a=document.createElement(n[0]),c=n[1],h=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(h=2),s=h;s<n.length;s++)t(n[s],a,e);return 2==h&&Object.keys(c).forEach((function(t){var n=c[t];"class"===t?a.className=Array.isArray(n)?n.join(" "):n:"function"==typeof n||"value"==t||"$"==t[0]?a[t]=n:"ref"===t?e&&(e[n]=a):null!=n&&a.setAttribute(t,n)})),i&&i.appendChild(a),a},n.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},n.createElement=function(t,n){return document.createElementNS?document.createElementNS(n||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},n.removeChildren=function(t){t.innerHTML=""},n.createTextNode=function(t,n){return(n?n.ownerDocument:document).createTextNode(t)},n.createFragment=function(t){return(t?t.ownerDocument:document).createDocumentFragment()},n.hasCssClass=function(t,n){return-1!==(t.className+"").split(/\s+/g).indexOf(n)},n.addCssClass=function(t,i){n.hasCssClass(t,i)||(t.className+=" "+i)},n.removeCssClass=function(t,n){for(var i=t.className.split(/\s+/g);;){var e=i.indexOf(n);if(-1==e)break;i.splice(e,1)}t.className=i.join(" ")},n.toggleCssClass=function(t,n){for(var i=t.className.split(/\s+/g),e=!0;;){var r=i.indexOf(n);if(-1==r)break;e=!1,i.splice(r,1)}return e&&i.push(n),t.className=i.join(" "),e},n.setCssClass=function(t,i,e){e?n.addCssClass(t,i):n.removeCssClass(t,i)},n.hasCssString=function(t,n){var i,e=0;if(i=(n=n||document).querySelectorAll("style"))for(;e<i.length;)if(i[e++].id===t)return!0},n.importCssString=function(t,i,e){var r=e;e&&e.getRootNode&&(r=e.getRootNode())&&r!=e||(r=document);var o=r.ownerDocument||r;if(i&&n.hasCssString(i,r))return null;i&&(t+="\n/*# sourceURL=ace/css/"+i+" */");var s=n.createElement("style");s.appendChild(o.createTextNode(t)),i&&(s.id=i),r==o&&(r=n.getDocumentHead(o)),r.insertBefore(s,r.firstChild)},n.importCssStylsheet=function(t,i){n.buildDom(["link",{rel:"stylesheet",href:t}],n.getDocumentHead(i))},n.scrollbarWidth=function(t){var i=n.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var e=n.createElement("ace_outer"),r=e.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",e.appendChild(i);var o=t.documentElement;o.appendChild(e);var s=i.offsetWidth;r.overflow="scroll";var u=i.offsetWidth;return s==u&&(u=e.clientWidth),o.removeChild(e),s-u},"undefined"==typeof document&&(n.importCssString=function(){}),n.computedStyle=function(t){return window.getComputedStyle(t,"")||{}},n.setStyle=function(t,n,i){t[n]!==i&&(t[n]=i)},n.HAS_CSS_ANIMATION=!1,n.HAS_CSS_TRANSFORMS=!1,n.HI_DPI=!i.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,"undefined"!=typeof document){var e=document.createElement("div");n.HI_DPI&&void 0!==e.style.transform&&(n.HAS_CSS_TRANSFORMS=!0),i.isEdge||void 0===e.style.animationName||(n.HAS_CSS_ANIMATION=!0),e=null}n.translate=n.HAS_CSS_TRANSFORMS?function(t,n,i){t.style.transform="translate("+Math.round(n)+"px, "+Math.round(i)+"px)"}:function(t,n,i){t.style.top=Math.round(i)+"px",t.style.left=Math.round(n)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(t,n){n.inherits=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},n.mixin=function(t,n){for(var i in n)t[i]=n[i];return t},n.implement=function(t,i){n.mixin(t,i)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(t,n){var i=t("./oop"),e=function(){var t,n,e={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(n in e.FUNCTION_KEYS)t=e.FUNCTION_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);for(n in e.PRINTABLE_KEYS)t=e.PRINTABLE_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);return i.mixin(e,e.MODIFIER_KEYS),i.mixin(e,e.PRINTABLE_KEYS),i.mixin(e,e.FUNCTION_KEYS),e.enter=e.return,e.escape=e.esc,e.del=e.delete,e[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],n=Math.pow(2,t.length);n--;)e.KEY_MODS[n]=t.filter((function(t){return n&e.KEY_MODS[t]})).join("-")+"-"}(),e.KEY_MODS[0]="",e.KEY_MODS[-1]="input-",e}();i.mixin(n,e),n.keyCodeToString=function(t){var n=e[t];return"string"!=typeof n&&(n=String.fromCharCode(t)),n.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,n){var i,e=t("./keys"),r=t("./useragent"),o=null,s=0;function u(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){i={passive:!1}}})}catch(t){}}(),i}function a(t,n,i){this.elem=t,this.type=n,this.callback=i}a.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var c=n.addListener=function(t,n,i,e){t.addEventListener(n,i,u()),e&&e.$toDestroy.push(new a(t,n,i))},h=n.removeListener=function(t,n,i){t.removeEventListener(n,i,u())};n.stopEvent=function(t){return n.stopPropagation(t),n.preventDefault(t),!1},n.stopPropagation=function(t){t.stopPropagation&&t.stopPropagation()},n.preventDefault=function(t){t.preventDefault&&t.preventDefault()},n.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||r.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.button},n.capture=function(t,n,i){var e=t&&t.ownerDocument||document;function r(t){n&&n(t),i&&i(t),h(e,"mousemove",n),h(e,"mouseup",r),h(e,"dragstart",r)}return c(e,"mousemove",n),c(e,"mouseup",r),c(e,"dragstart",r),r},n.addMouseWheelListener=function(t,n,i){"onmousewheel"in t?c(t,"mousewheel",(function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/8,t.wheelY=-t.wheelDeltaY/8):(t.wheelX=0,t.wheelY=-t.wheelDelta/8),n(t)}),i):"onwheel"in t?c(t,"wheel",(function(t){switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.35*t.deltaX||0,t.wheelY=.35*t.deltaY||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}n(t)}),i):c(t,"DOMMouseScroll",(function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),n(t)}),i)},n.addMultiMouseDownListener=function(t,i,e,o,s){var u,a,h,f=0,l={2:"dblclick",3:"tripleclick",4:"quadclick"};function d(t){if(0!==n.getButton(t)?f=0:t.detail>1?++f>4&&(f=1):f=1,r.isIE){var s=Math.abs(t.clientX-u)>5||Math.abs(t.clientY-a)>5;h&&!s||(f=1),h&&clearTimeout(h),h=setTimeout((function(){h=null}),i[f-1]||600),1==f&&(u=t.clientX,a=t.clientY)}if(t._clicks=f,e[o]("mousedown",t),f>4)f=0;else if(f>1)return e[o](l[f],t)}Array.isArray(t)||(t=[t]),t.forEach((function(t){c(t,"mousedown",d,s)}))};var f=function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)};function l(t,n,i){var u=f(n);if(!r.isMac&&o){if(n.getModifierState&&(n.getModifierState("OS")||n.getModifierState("Win"))&&(u|=8),o.altGr){if(3==(3&u))return;o.altGr=0}if(18===i||17===i){var a="location"in n?n.location:n.keyLocation;17===i&&1===a?1==o[i]&&(s=n.timeStamp):18===i&&3===u&&2===a&&n.timeStamp-s<50&&(o.altGr=!0)}}if(i in e.MODIFIER_KEYS&&(i=-1),u||13!==i||3!==(a="location"in n?n.location:n.keyLocation)||(t(n,u,-i),!n.defaultPrevented)){if(r.isChromeOS&&8&u){if(t(n,u,i),n.defaultPrevented)return;u&=-9}return!!(u||i in e.FUNCTION_KEYS||i in e.PRINTABLE_KEYS)&&t(n,u,i)}}function d(){o=Object.create(null)}if(n.getModifierString=function(t){return e.KEY_MODS[f(t)]},n.addCommandKeyListener=function(t,i,e){if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var s=null;c(t,"keydown",(function(t){s=t.keyCode}),e),c(t,"keypress",(function(t){return l(i,t,s)}),e)}else{var u=null;c(t,"keydown",(function(t){o[t.keyCode]=(o[t.keyCode]||0)+1;var n=l(i,t,t.keyCode);return u=t.defaultPrevented,n}),e),c(t,"keypress",(function(t){u&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(n.stopEvent(t),u=null)}),e),c(t,"keyup",(function(t){o[t.keyCode]=null}),e),o||(d(),c(window,"focus",d))}},"object"==typeof window&&window.postMessage&&!r.isOldIE){var v=1;n.nextTick=function(t,i){i=i||window;var e="zero-timeout-message-"+v++,r=function(o){o.data==e&&(n.stopPropagation(o),h(i,"message",r),t())};c(i,"message",r),i.postMessage(e,"*")}}n.$idleBlocked=!1,n.onIdle=function(t,i){return setTimeout((function i(){n.$idleBlocked?setTimeout(i,100):t()}),i)},n.$idleBlockId=null,n.blockIdle=function(t){n.$idleBlockId&&clearTimeout(n.$idleBlockId),n.$idleBlocked=!0,n.$idleBlockId=setTimeout((function(){n.$idleBlocked=!1}),t||100)},n.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),n.nextFrame=n.nextFrame?n.nextFrame.bind(window):function(t){setTimeout(t,17)}})),ace.define("ace/range",["require","exports","module"],(function(t,n){var i=function(t,n,i,e){this.start={row:t,column:n},this.end={row:i,column:e}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,n){return 0==this.compare(t,n)},this.compareRange=function(t){var n,i=t.end,e=t.start;return 1==(n=this.compare(i.row,i.column))?1==(n=this.compare(e.row,e.column))?2:0==n?1:0:-1==n?-2:-1==(n=this.compare(e.row,e.column))?-1:1==n?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var n=this.compareRange(t);return-1==n||0==n||1==n},this.isEnd=function(t,n){return this.end.row==t&&this.end.column==n},this.isStart=function(t,n){return this.start.row==t&&this.start.column==n},this.setStart=function(t,n){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=n)},this.setEnd=function(t,n){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=n)},this.inside=function(t,n){return 0==this.compare(t,n)&&!this.isEnd(t,n)&&!this.isStart(t,n)},this.insideStart=function(t,n){return 0==this.compare(t,n)&&!this.isEnd(t,n)},this.insideEnd=function(t,n){return 0==this.compare(t,n)&&!this.isStart(t,n)},this.compare=function(t,n){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?n>=this.start.column?0:-1:this.end.row===t?n<=this.end.column?0:1:0:n<this.start.column?-1:n>this.end.column?1:0},this.compareStart=function(t,n){return this.start.row==t&&this.start.column==n?-1:this.compare(t,n)},this.compareEnd=function(t,n){return this.end.row==t&&this.end.column==n?1:this.compare(t,n)},this.compareInside=function(t,n){return this.end.row==t&&this.end.column==n?1:this.start.row==t&&this.start.column==n?-1:this.compare(t,n)},this.clipRows=function(t,n){if(this.end.row>n)var e={row:n+1,column:0};else this.end.row<t&&(e={row:t,column:0});if(this.start.row>n)var r={row:n+1,column:0};else this.start.row<t&&(r={row:t,column:0});return i.fromPoints(r||this.start,e||this.end)},this.extend=function(t,n){var e=this.compare(t,n);if(0==e)return this;if(-1==e)var r={row:t,column:n};else var o={row:t,column:n};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return new i(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(t){var n=t.documentToScreenPosition(this.start),e=t.documentToScreenPosition(this.end);return new i(n.row,n.column,e.row,e.column)},this.moveBy=function(t,n){this.start.row+=t,this.start.column+=n,this.end.row+=t,this.end.column+=n}}).call(i.prototype),i.fromPoints=function(t,n){return new i(t.row,t.column,n.row,n.column)},i.comparePoints=function(t,n){return t.row-n.row||t.column-n.column},i.comparePoints=function(t,n){return t.row-n.row||t.column-n.column},n.Range=i})),ace.define("ace/lib/lang",["require","exports","module"],(function(t,n){n.last=function(t){return t[t.length-1]},n.stringReverse=function(t){return t.split("").reverse().join("")},n.stringRepeat=function(t,n){for(var i="";n>0;)1&n&&(i+=t),(n>>=1)&&(t+=t);return i};var i=/^\s\s*/,e=/\s\s*$/;n.stringTrimLeft=function(t){return t.replace(i,"")},n.stringTrimRight=function(t){return t.replace(e,"")},n.copyObject=function(t){var n={};for(var i in t)n[i]=t[i];return n},n.copyArray=function(t){for(var n=[],i=0,e=t.length;i<e;i++)n[i]=t[i]&&"object"==typeof t[i]?this.copyObject(t[i]):t[i];return n},n.deepCopy=function t(n){if("object"!=typeof n||!n)return n;var i;if(Array.isArray(n)){i=[];for(var e=0;e<n.length;e++)i[e]=t(n[e]);return i}if("[object Object]"!==Object.prototype.toString.call(n))return n;for(var e in i={},n)i[e]=t(n[e]);return i},n.arrayToMap=function(t){for(var n={},i=0;i<t.length;i++)n[t[i]]=1;return n},n.createMap=function(t){var n=Object.create(null);for(var i in t)n[i]=t[i];return n},n.arrayRemove=function(t,n){for(var i=0;i<=t.length;i++)n===t[i]&&t.splice(i,1)},n.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},n.escapeHTML=function(t){return(""+t).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},n.getMatchOffsets=function(t,n){var i=[];return t.replace(n,(function(t){i.push({offset:arguments[arguments.length-2],length:t.length})})),i},n.deferredCall=function(t){var n=null,i=function(){n=null,t()},e=function(t){return e.cancel(),n=setTimeout(i,t||0),e};return e.schedule=e,e.call=function(){return this.cancel(),t(),e},e.cancel=function(){return clearTimeout(n),n=null,e},e.isPending=function(){return n},e},n.delayedCall=function(t,n){var i=null,e=function(){i=null,t()},r=function(t){null==i&&(i=setTimeout(e,t||n))};return r.delay=function(t){i&&clearTimeout(i),i=setTimeout(e,t||n)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){i&&clearTimeout(i),i=null},r.isPending=function(){return i},r}})),ace.define("ace/clipboard",["require","exports","module"],(function(t,n,i){var e;i.exports={lineMode:!1,pasteCancelled:function(){return!!(e&&e>Date.now()-50)||(e=!1)},cancel:function(){e=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(t,n){var i=t("../lib/event"),e=t("../lib/useragent"),r=t("../lib/dom"),o=t("../lib/lang"),s=t("../clipboard"),u=e.isChrome<18,a=e.isIE,c=e.isChrome>63,h=400,f=t("../lib/keys"),l=f.KEY_MODS,d=e.isIOS,v=d?/\s/:/\n/,p=e.isMobile;n.TextInput=function(t,n){var m=r.createElement("textarea");m.className="ace_text-input",m.setAttribute("wrap","off"),m.setAttribute("autocorrect","off"),m.setAttribute("autocapitalize","off"),m.setAttribute("spellcheck",!1),m.style.opacity="0",t.insertBefore(m,t.firstChild);var b=!1,g=!1,y=!1,w=!1,x="";p||(m.style.fontSize="1px");var k=!1,_=!1,A="",S=0,E=0,O=0;try{var M=document.activeElement===m}catch(t){}i.addListener(m,"blur",(function(t){_||(n.onBlur(t),M=!1)}),n),i.addListener(m,"focus",(function(t){if(!_){if(M=!0,e.isEdge)try{if(!document.hasFocus())return}catch(t){}n.onFocus(t),e.isEdge?setTimeout(C):C()}}),n),this.$focusScroll=!1,this.focus=function(){if(x||c||"browser"==this.$focusScroll)return m.focus({preventScroll:!0});var t=m.style.top;m.style.position="fixed",m.style.top="0px";try{var n=0!=m.getBoundingClientRect().top}catch(t){return}var i=[];if(n)for(var e=m.parentElement;e&&1==e.nodeType;)i.push(e),e.setAttribute("ace_nocontext",!0),e=!e.parentElement&&e.getRootNode?e.getRootNode().host:e.parentElement;m.focus({preventScroll:!0}),n&&i.forEach((function(t){t.removeAttribute("ace_nocontext")})),setTimeout((function(){m.style.position="","0px"==m.style.top&&(m.style.top=t)}),0)},this.blur=function(){m.blur()},this.isFocused=function(){return M},n.on("beforeEndOperation",(function(){var t=n.curOp,i=t&&t.command&&t.command.name;"insertstring"!=i&&(y&&i&&(t.docChanged||t.selectionChanged)&&(A=m.value="",N()),C())}));var C=d?function(t){if(M&&(!b||t)&&!w){t||(t="");var i="\n ab"+t+"cde fg\n";i!=m.value&&(m.value=A=i);var e=4+(t.length||(n.selection.isEmpty()?0:1));4==S&&E==e||m.setSelectionRange(4,e),S=4,E=e}}:function(){if(!y&&!w&&(M||j)){y=!0;var t=0,i=0,e="";if(n.session){var r=n.selection,o=r.getRange(),s=r.cursor.row;if(t=o.start.column,i=o.end.column,e=n.session.getLine(s),o.start.row!=s){var u=n.session.getLine(s-1);t=o.start.row<s-1?0:t,i+=u.length+1,e=u+"\n"+e}else if(o.end.row!=s){var a=n.session.getLine(s+1);i=o.end.row>s+1?a.length:i,i+=e.length+1,e=e+"\n"+a}else p&&s>0&&(e="\n"+e,i+=1,t+=1);e.length>h&&(t<h&&i<h?e=e.slice(0,h):(e="\n",t==i?t=i=0:(t=0,i=1)))}var c=e+"\n\n";if(c!=A&&(m.value=A=c,S=E=c.length),j&&(S=m.selectionStart,E=m.selectionEnd),E!=i||S!=t||m.selectionEnd!=E)try{m.setSelectionRange(t,i),S=t,E=i}catch(t){}y=!1}};this.resetSelection=C,M&&n.onFocus();var T=null;this.setInputHandler=function(t){T=t},this.getInputHandler=function(){return T};var j=!1,R=function(t,i){if(j&&(j=!1),g)return C(),t&&n.onPaste(t),g=!1,"";for(var r=m.selectionStart,o=m.selectionEnd,s=S,u=A.length-E,a=t,c=t.length-r,h=t.length-o,f=0;s>0&&A[f]==t[f];)f++,s--;for(a=a.slice(f),f=1;u>0&&A.length-f>S-1&&A[A.length-f]==t[t.length-f];)f++,u--;c-=f-1,h-=f-1;var l=a.length-f+1;if(l<0&&(s=-l,l=0),a=a.slice(0,l),!(i||a||c||s||u||h))return"";w=!0;var d=!1;return e.isAndroid&&". "==a&&(a="  ",d=!0),a&&!s&&!u&&!c&&!h||k?n.onTextInput(a):n.onTextInput(a,{extendLeft:s,extendRight:u,restoreStart:c,restoreEnd:h}),w=!1,A=t,S=r,E=o,O=h,d?"\n":a},F=function(t){if(y)return D();if(t&&t.inputType){if("historyUndo"==t.inputType)return n.execCommand("undo");if("historyRedo"==t.inputType)return n.execCommand("redo")}var i=m.value,e=R(i,!0);(i.length>500||v.test(e)||p&&S<1&&S==E)&&C()},I=function(t,n,i){var e=t.clipboardData||window.clipboardData;if(e&&!u){var r=a||i?"Text":"text/plain";try{return n?!1!==e.setData(r,n):e.getData(r)}catch(t){if(!i)return I(t,n,!0)}}},B=function(t,e){var r=n.getCopyText();if(!r)return i.preventDefault(t);I(t,r)?(d&&(C(r),b=r,setTimeout((function(){b=!1}),10)),e?n.onCut():n.onCopy(),i.preventDefault(t)):(b=!0,m.value=r,m.select(),setTimeout((function(){b=!1,C(),e?n.onCut():n.onCopy()})))},P=function(t){B(t,!0)},L=function(t){B(t,!1)},z=function(t){var r=I(t);s.pasteCancelled()||("string"==typeof r?(r&&n.onPaste(r,t),e.isIE&&setTimeout(C),i.preventDefault(t)):(m.value="",g=!0))};i.addCommandKeyListener(m,n.onCommandKey.bind(n),n),i.addListener(m,"select",(function(){y||(b?b=!1:function(t){return 0===t.selectionStart&&t.selectionEnd>=A.length&&t.value===A&&A&&t.selectionEnd!==E}(m)?(n.selectAll(),C()):p&&m.selectionStart!=S&&C())}),n),i.addListener(m,"input",F,n),i.addListener(m,"cut",P,n),i.addListener(m,"copy",L,n),i.addListener(m,"paste",z,n),"oncut"in m&&"oncopy"in m&&"onpaste"in m||i.addListener(t,"keydown",(function(t){if((!e.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:L(t);break;case 86:z(t);break;case 88:P(t)}}),n);var D=function(){if(y&&n.onCompositionUpdate&&!n.$readOnly){if(k)return U();y.useTextareaForIME?n.onCompositionUpdate(m.value):(R(m.value),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+E-y.selectionStart+O))}},N=function(t){n.onCompositionEnd&&!n.$readOnly&&(y=!1,n.onCompositionEnd(),n.off("mousedown",U),t&&F())};function U(){_=!0,m.blur(),m.focus(),_=!1}var V,H=o.delayedCall(D,50).schedule.bind(null,null);function $(){clearTimeout(V),V=setTimeout((function(){x&&(m.style.cssText=x,x=""),n.renderer.$isMousePressed=!1,n.renderer.$keepTextAreaAtCursor&&n.renderer.$moveTextAreaToCursor()}),0)}i.addListener(m,"compositionstart",(function(t){if(!y&&n.onCompositionStart&&!n.$readOnly&&(y={},!k)){t.data&&(y.useTextareaForIME=!1),setTimeout(D,0),n._signal("compositionStart"),n.on("mousedown",U);var i=n.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,y.markerRange=i,y.selectionStart=S,n.onCompositionStart(y),y.useTextareaForIME?(A=m.value="",S=0,E=0):(m.msGetInputContext&&(y.context=m.msGetInputContext()),m.getInputContext&&(y.context=m.getInputContext()))}}),n),i.addListener(m,"compositionupdate",D,n),i.addListener(m,"keyup",(function(t){27==t.keyCode&&m.value.length<m.selectionStart&&(y||(A=m.value),S=E=-1,C()),H()}),n),i.addListener(m,"keydown",H,n),i.addListener(m,"compositionend",N,n),this.getElement=function(){return m},this.setCommandMode=function(t){k=t,m.readOnly=!1},this.setReadOnly=function(t){k||(m.readOnly=t)},this.setCopyWithEmptySelection=function(){},this.onContextMenu=function(t){j=!0,C(),n._emit("nativecontextmenu",{target:n,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,o){x||(x=m.style.cssText),m.style.cssText=(o?"z-index:100000;":"")+(e.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+E)*n.renderer.characterWidth*.5+"px;";var s=n.container.getBoundingClientRect(),u=r.computedStyle(n.container),a=s.top+(parseInt(u.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),h=s.bottom-a-m.clientHeight-2,f=function(t){r.translate(m,t.clientX-c-2,Math.min(t.clientY-a-2,h))};f(t),"mousedown"==t.type&&(n.renderer.$isMousePressed=!0,clearTimeout(V),e.isWin&&i.capture(n.container,f,$))},this.onContextMenuClose=$;var K=function(t){n.textInput.onContextMenu(t),$()};i.addListener(m,"mouseup",K,n),i.addListener(m,"mousedown",(function(t){t.preventDefault(),$()}),n),i.addListener(n.renderer.scroller,"contextmenu",K,n),i.addListener(m,"contextmenu",K,n),d&&function(t,n,i){var e=null,r=!1;i.addEventListener("keydown",(function(){e&&clearTimeout(e),r=!0}),!0),i.addEventListener("keyup",(function(){e=setTimeout((function(){r=!1}),100)}),!0);var o=function(){if(document.activeElement===i&&!(r||y||n.$mouseHandler.isMousePressed||b)){var t=i.selectionStart,e=i.selectionEnd,o=null,s=0;if(0==t?o=f.up:1==t?o=f.home:e>E&&"\n"==A[e]?o=f.end:t<S&&" "==A[t-1]?(o=f.left,s=l.option):t<S||t==S&&E!=S&&t==e?o=f.left:e>E&&A.slice(0,e).split("\n").length>2?o=f.down:e>E&&" "==A[e-1]?(o=f.right,s=l.option):(e>E||e==E&&E!=S&&t==e)&&(o=f.right),t!==e&&(s|=l.shift),o){if(!n.onCommandKey({},s,o)&&n.commands){o=f.keyCodeToString(o);var u=n.commands.findKeyCommand(s,o);u&&n.execCommand(u)}S=t,E=e,C("")}}};document.addEventListener("selectionchange",o),n.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,n,m)},n.$setUserAgentForTests=function(t,n){p=t,d=n}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(t,n){var i=t("../lib/useragent");function e(t){t.$clickSelection=null;var n=t.editor;n.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),n.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),n.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),n.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),n.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(n){t[n]=this[n]}),this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function r(t,n){if(t.start.row==t.end.row)var i=2*n.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)i=2*n.row-t.start.row-t.end.row;else i=n.column-4;return i<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}(function(){this.onMouseDown=function(t){var n=t.inSelection(),e=t.getDocumentPosition();this.mousedownEvent=t;var r=this.editor,o=t.getButton();return 0!==o?((r.getSelectionRange().isEmpty()||1==o)&&r.selection.moveToPosition(e),void(2==o&&(r.textInput.onContextMenu(t.domEvent),i.isMozilla||t.preventDefault()))):(this.mousedownEvent.time=Date.now(),!n||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(e,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t)))},this.startSelect=function(t,n){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(t):n||i.selection.moveToPosition(t),n||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var e=this.$clickSelection.comparePoint(i);if(-1==e)t=this.$clickSelection.end;else if(1==e)t=this.$clickSelection.start;else{var o=r(this.$clickSelection,i);i=o.cursor,t=o.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var n,i=this.editor,e=i.renderer.screenToTextCoordinates(this.x,this.y),o=i.selection[t](e.row,e.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),u=this.$clickSelection.comparePoint(o.end);if(-1==s&&u<=0)n=this.$clickSelection.end,o.end.row==e.row&&o.end.column==e.column||(e=o.start);else if(1==u&&s>=0)n=this.$clickSelection.start,o.start.row==e.row&&o.start.column==e.column||(e=o.end);else if(-1==s&&1==u)e=o.end,n=o.start;else{var a=r(this.$clickSelection,e);e=a.cursor,n=a.anchor}i.selection.setSelectionAnchor(n.row,n.column)}i.selection.selectToPosition(e),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t,n,i=(t=this.mousedownEvent.y,n=this.y,Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(n-t,2))),e=Date.now();(i>0||e-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var n=t.getDocumentPosition(),i=this.editor,e=i.session.getBracketRange(n);e?(e.isEmpty()&&(e.start.column--,e.end.column++),this.setState("select")):(e=i.selection.getWordRange(n.row,n.column),this.setState("selectByWords")),this.$clickSelection=e,this.select()},this.onTripleClick=function(t){var n=t.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var e=i.getSelectionRange();e.isMultiLine()&&e.contains(n.row,n.column)?(this.$clickSelection=i.selection.getLineRange(e.start.row),this.$clickSelection.end=i.selection.getLineRange(e.end.row).end):this.$clickSelection=i.selection.getLineRange(n.row),this.select()},this.onQuadClick=function(){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var n=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,e=t.domEvent.timeStamp,r=e-i.t,o=r?t.wheelX/r:i.vx,s=r?t.wheelY/r:i.vy;r<550&&(o=(o+i.vx)/2,s=(s+i.vy)/2);var u=Math.abs(o/s),a=!1;return u>=1&&n.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(a=!0),u<=1&&n.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(a=!0),a?i.allowed=e:e-i.allowed<550&&(Math.abs(o)<=1.5*Math.abs(i.vx)&&Math.abs(s)<=1.5*Math.abs(i.vy)?(a=!0,i.allowed=e):i.allowed=0),i.t=e,i.vx=o,i.vy=s,a?(n.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}}}).call(e.prototype),n.DefaultHandlers=e})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(t,n){t("./lib/oop");var i=t("./lib/dom");function e(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){this.getElement().textContent=t},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,n){this.getElement().style.left=t+"px",this.getElement().style.top=n+"px"},this.setClassName=function(t){i.addCssClass(this.getElement(),t)},this.show=function(t,n,i){null!=t&&this.setText(t),null!=n&&null!=i&&this.setPosition(n,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(e.prototype),n.Tooltip=e})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(t,n){var i=t("../lib/dom"),e=t("../lib/oop"),r=t("../lib/event"),o=t("../tooltip").Tooltip;function s(t){o.call(this,t)}e.inherits(s,o),function(){this.setPosition=function(t,n){var i=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();(t+=15)+r>i&&(t-=t+r-i),(n+=15)+s>e&&(n-=20+s),o.prototype.setPosition.call(this,t,n)}}.call(s.prototype),n.GutterHandler=function(t){var n,e,o,u=t.editor,a=u.renderer.$gutterLayer,c=new s(u.container);function h(){n&&(n=clearTimeout(n)),o&&(c.hide(),o=null,u._signal("hideGutterTooltip",c),u.off("mousewheel",h))}function f(t){c.setPosition(t.x,t.y)}t.editor.setDefaultHandler("guttermousedown",(function(n){if(u.isFocused()&&0==n.getButton()&&"foldWidgets"!=a.getRegion(n)){var i=n.getDocumentPosition().row,e=u.session.selection;if(n.getShiftKey())e.selectTo(i,0);else{if(2==n.domEvent.detail)return u.selectAll(),n.preventDefault();t.$clickSelection=u.selection.getLineRange(i)}return t.setState("selectByLines"),t.captureMouse(n),n.preventDefault()}})),t.editor.setDefaultHandler("guttermousemove",(function(r){if(i.hasCssClass(r.domEvent.target||r.domEvent.srcElement,"ace_fold-widget"))return h();o&&t.$tooltipFollowsMouse&&f(r),e=r,n||(n=setTimeout((function(){n=null,e&&!t.isMousePressed?function(){var n=e.getDocumentPosition().row,i=a.$annotations[n];if(!i)return h();if(n==u.session.getLength()){var r=u.renderer.pixelToScreenCoordinates(0,e.y).row,s=e.$pos;if(r>u.session.documentToScreenRow(s.row,s.column))return h()}if(o!=i)if(o=i.text.join("<br/>"),c.setHtml(o),c.show(),u._signal("showGutterTooltip",c),u.on("mousewheel",h),t.$tooltipFollowsMouse)f(e);else{var l=e.domEvent.target.getBoundingClientRect(),d=c.getElement().style;d.left=l.right+"px",d.top=l.bottom+"px"}}():h()}),50))})),r.addListener(u.renderer.$gutter,"mouseout",(function(){e=null,o&&!n&&(n=setTimeout((function(){n=null,h()}),50))}),u),u.on("changeSession",h)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,n){var i=t("../lib/event"),e=t("../lib/useragent"),r=n.MouseEvent=function(t,n){this.domEvent=t,this.editor=n,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=e.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(t,n){var i=t("../lib/dom"),e=t("../lib/event"),r=t("../lib/useragent");function o(t){var n=t.editor,o=i.createElement("img");o.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",r.isOpera&&(o.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(n){t[n]=this[n]}),this),n.on("mousedown",this.onMouseDown.bind(t));var u,a,c,h,f,l,d,v,p,m,b,g=n.container,y=0;function w(){var t=l;(function(t,i){var e=Date.now();m&&i&&t.row==i.row&&i&&t.column==i.column?s(b.x,b.y,a,c)>5?m=null:e-m>=200&&(n.renderer.scrollCursorIntoView(),m=null):(n.moveCursorToPosition(t),m=e,b={x:a,y:c})})(l=n.renderer.screenToTextCoordinates(a,c),t),function(t,i){var e=Date.now(),r=n.renderer.layerConfig.lineHeight,o=n.renderer.layerConfig.characterWidth,s=n.renderer.scroller.getBoundingClientRect(),u={x:{left:a-s.left,right:s.right-a},y:{top:c-s.top,bottom:s.bottom-c}},h=Math.min(u.x.left,u.x.right),f=Math.min(u.y.top,u.y.bottom),l={row:t.row,column:t.column};h/o<=2&&(l.column+=u.x.left<u.x.right?-3:2),f/r<=1&&(l.row+=u.y.top<u.y.bottom?-1:1),t.row!=l.row||t.column!=l.column&&i&&t.row==i.row?p?e-p>=200&&n.renderer.scrollCursorIntoView(l):p=e:p=null}(l,t)}function x(){f=n.selection.toOrientedRange(),u=n.session.addMarker(f,"ace_selection",n.getSelectionStyle()),n.clearSelection(),n.isFocused()&&n.renderer.$cursorLayer.setBlinking(!1),clearInterval(h),w(),h=setInterval(w,20),y=0,e.addListener(document,"mousemove",A)}function k(){clearInterval(h),n.session.removeMarker(u),u=null,n.selection.fromOrientedRange(f),n.isFocused()&&!v&&n.$resetCursorStyle(),f=null,l=null,y=0,p=null,m=null,e.removeListener(document,"mousemove",A)}this.onDragStart=function(t){if(this.cancelDrag||!g.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(t)}),0),t.preventDefault()}f=n.getSelectionRange();var e=t.dataTransfer;e.effectAllowed=n.getReadOnly()?"copy":"copyMove",r.isOpera&&(n.container.appendChild(o),o.scrollTop=0),e.setDragImage&&e.setDragImage(o,0,0),r.isOpera&&n.container.removeChild(o),e.clearData(),e.setData("Text",n.session.getTextRange()),v=!0,this.setState("drag")},this.onDragEnd=function(t){g.draggable=!1,v=!1,this.setState(null),n.getReadOnly()||(d||"move"!=t.dataTransfer.dropEffect||n.session.remove(n.getSelectionRange()),n.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!n.getReadOnly()&&S(t.dataTransfer))return a=t.clientX,c=t.clientY,u||x(),y++,t.dataTransfer.dropEffect=d=E(t),e.preventDefault(t)},this.onDragOver=function(t){if(!n.getReadOnly()&&S(t.dataTransfer))return a=t.clientX,c=t.clientY,u||(x(),y++),null!==_&&(_=null),t.dataTransfer.dropEffect=d=E(t),e.preventDefault(t)},this.onDragLeave=function(t){if(--y<=0&&u)return k(),d=null,e.preventDefault(t)},this.onDrop=function(t){if(l){var i=t.dataTransfer;if(v)switch(d){case"move":f=f.contains(l.row,l.column)?{start:l,end:l}:n.moveText(f,l);break;case"copy":f=n.moveText(f,l,!0)}else{var r=i.getData("Text");f={start:l,end:n.session.insert(l,r)},n.focus(),d=null}return k(),e.preventDefault(t)}},e.addListener(g,"dragstart",this.onDragStart.bind(t),n),e.addListener(g,"dragend",this.onDragEnd.bind(t),n),e.addListener(g,"dragenter",this.onDragEnter.bind(t),n),e.addListener(g,"dragover",this.onDragOver.bind(t),n),e.addListener(g,"dragleave",this.onDragLeave.bind(t),n),e.addListener(g,"drop",this.onDrop.bind(t),n);var _=null;function A(){null==_&&(_=setTimeout((function(){null!=_&&u&&k()}),20))}function S(t){var n=t.types;return!n||Array.prototype.some.call(n,(function(t){return"text/plain"==t||"Text"==t}))}function E(t){var n=["copy","copymove","all","uninitialized"],i=r.isMac?t.altKey:t.ctrlKey,e="uninitialized";try{e=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var o="none";return i&&n.indexOf(e)>=0?o="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(e)>=0?o="move":n.indexOf(e)>=0&&(o="copy"),o}}function s(t,n,i,e){return Math.sqrt(Math.pow(i-t,2)+Math.pow(e-n,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging"),t.renderer.setCursorStyle(r.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(){var t=this.editor.container;r.isIE&&"dragReady"==this.state&&s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var n=this.editor,i=t.inSelection(),e=t.getButton();if(1===(t.domEvent.detail||1)&&0===e&&i){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=t.domEvent.target||t.domEvent.srcElement;"unselectable"in o&&(o.unselectable="on"),n.getDragDelay()?(r.isWebKit&&(this.cancelDrag=!0,n.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(o.prototype),n.DragdropHandler=o})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(t,n){var i=t("./mouse_event").MouseEvent,e=t("../lib/event"),r=t("../lib/dom");n.addTouchListeners=function(t,n){var o,s,u,a,c,h,f,l,d,v="scroll",p=0,m=0,b=0,g=0;function y(){var t,i,e;d||(t=window.navigator&&window.navigator.clipboard,i=!1,e=function(e){var o,s,u=e.target.getAttribute("action");if("more"==u||!i)return i=!i,o=n.getCopyText(),s=n.session.getUndoManager().hasUndo(),void d.replaceChild(r.buildDom(i?["span",!o&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],o&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],o&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],t&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),d.firstChild);"paste"==u?t.readText().then((function(t){n.execCommand(u,t)})):u&&("cut"!=u&&"copy"!=u||(t?t.writeText(n.getCopyText()):document.execCommand("copy")),n.execCommand(u)),d.firstChild.style.display="none",i=!1,"openCommandPallete"!=u&&n.focus()},d=r.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(t){v="menu",t.stopPropagation(),t.preventDefault(),n.textInput.focus()},ontouchend:function(t){t.stopPropagation(),t.preventDefault(),e(t)},onclick:e},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],n.container));var o=n.selection.cursor,s=n.renderer.textToScreenCoordinates(o.row,o.column),u=n.renderer.textToScreenCoordinates(0,0).pageX,a=n.renderer.scrollLeft,c=n.container.getBoundingClientRect();d.style.top=s.pageY-c.top-3+"px",s.pageX-c.left<c.width-70?(d.style.left="",d.style.right="10px"):(d.style.right="",d.style.left=u+a-c.left+"px"),d.style.display="",d.firstChild.style.display="none",n.on("input",w)}function w(){d&&(d.style.display="none"),n.off("input",w)}function x(){c=null,clearTimeout(c);var t=n.selection.getRange(),i=t.contains(f.row,f.column);!t.isEmpty()&&i||(n.selection.moveToPosition(f),n.selection.selectWord()),v="wait",y()}e.addListener(t,"contextmenu",(function(){l&&n.textInput.getElement().focus()}),n),e.addListener(t,"touchstart",(function(t){var e=t.touches;if(c||e.length>1)return clearTimeout(c),c=null,u=-1,void(v="zoom");l=n.$mouseHandler.isMousePressed=!0;var r=n.renderer.layerConfig.lineHeight,h=n.renderer.layerConfig.lineHeight,d=t.timeStamp;a=d;var y=e[0],w=y.clientX,k=y.clientY;Math.abs(o-w)+Math.abs(s-k)>r&&(u=-1),o=t.clientX=w,s=t.clientY=k,b=g=0;var _=new i(t,n);if(f=_.getDocumentPosition(),d-u<500&&1==e.length&&!p)m++,t.preventDefault(),t.button=0,function(){c=null,clearTimeout(c),n.selection.moveToPosition(f);var t=m>=2?n.selection.getLineRange(f.row):n.session.getBracketRange(f);t&&!t.isEmpty()?n.selection.setRange(t):n.selection.selectWord(),v="wait"}();else{m=0;var A=n.selection.cursor,S=n.selection.isEmpty()?A:n.selection.anchor,E=n.renderer.$cursorLayer.getPixelPosition(A,!0),O=n.renderer.$cursorLayer.getPixelPosition(S,!0),M=n.renderer.scroller.getBoundingClientRect(),C=n.renderer.layerConfig.offset,T=n.renderer.scrollLeft,j=function(t,n){return(t/=h)*t+(n=n/r-.75)*n};if(t.clientX<M.left)return void(v="zoom");var R=j(t.clientX-M.left-E.left+T,t.clientY-M.top-E.top+C),F=j(t.clientX-M.left-O.left+T,t.clientY-M.top-O.top+C);R<3.5&&F<3.5&&(v=R>F?"cursor":"anchor"),v=F<3.5?"anchor":R<3.5?"cursor":"scroll",c=setTimeout(x,450)}u=d}),n),e.addListener(t,"touchend",(function(){l=n.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==v?(v="",p=0):c?(n.selection.moveToPosition(f),p=0,y()):"scroll"==v?(p+=60,h=setInterval((function(){p--<=0&&(clearInterval(h),h=null),Math.abs(b)<.01&&(b=0),Math.abs(g)<.01&&(g=0),p<20&&(b*=.9),p<20&&(g*=.9);var t=n.session.getScrollTop();n.renderer.scrollBy(10*b,10*g),t==n.session.getScrollTop()&&(p=0)}),10),w()):y(),clearTimeout(c),c=null}),n),e.addListener(t,"touchmove",(function(t){c&&(clearTimeout(c),c=null);var e=t.touches;if(!(e.length>1||"zoom"==v)){var r=e[0],u=o-r.clientX,h=s-r.clientY;if("wait"==v){if(!(u*u+h*h>4))return t.preventDefault();v="cursor"}o=r.clientX,s=r.clientY,t.clientX=r.clientX,t.clientY=r.clientY;var f=t.timeStamp,l=f-a;if(a=f,"scroll"==v){var d=new i(t,n);d.speed=1,d.wheelX=u,d.wheelY=h,10*Math.abs(u)<Math.abs(h)&&(u=0),10*Math.abs(h)<Math.abs(u)&&(h=0),0!=l&&(b=u/l,g=h/l),n._emit("mousewheel",d),d.propagationStopped||(b=g=0)}else{var p=new i(t,n).getDocumentPosition();"cursor"==v?n.selection.moveCursorToPosition(p):"anchor"==v&&n.selection.setSelectionAnchor(p.row,p.column),n.renderer.scrollCursorIntoView(p),t.preventDefault()}}}),n)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(t,n){var i=t("./dom");n.get=function(t,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&n(i.responseText)},i.send(null)},n.loadScript=function(t,n){var e=i.getDocumentHead(),r=document.createElement("script");r.src=t,e.appendChild(r),r.onload=r.onreadystatechange=function(t,i){!i&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,i||n())}},n.qualifyURL=function(t){var n=document.createElement("a");return n.href=t,n.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(t,n){var i={},e=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(t,n){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[t]||[],o=this._defaultHandlers[t];if(i.length||o){"object"==typeof n&&n||(n={}),n.type||(n.type=t),n.stopPropagation||(n.stopPropagation=e),n.preventDefault||(n.preventDefault=r),i=i.slice();for(var s=0;s<i.length&&(i[s](n,this),!n.propagationStopped);s++);return o&&!n.defaultPrevented?o(n,this):void 0}},i._signal=function(t,n){var i=(this._eventRegistry||{})[t];if(i){i=i.slice();for(var e=0;e<i.length;e++)i[e](n,this)}},i.once=function(t,n){var i=this;if(this.on(t,(function e(){i.off(t,e),n.apply(null,arguments)})),!n)return new Promise((function(t){n=t}))},i.setDefaultHandler=function(t,n){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[t]){var e=i[t],r=i._disabled_[t];r||(i._disabled_[t]=r=[]),r.push(e);var o=r.indexOf(n);-1!=o&&r.splice(o,1)}i[t]=n},i.removeDefaultHandler=function(t,n){var i=this._defaultHandlers;if(i){var e=i._disabled_[t];if(i[t]==n)e&&this.setDefaultHandler(t,e.pop());else if(e){var r=e.indexOf(n);-1!=r&&e.splice(r,1)}}},i.on=i.addEventListener=function(t,n,i){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[t];return e||(e=this._eventRegistry[t]=[]),-1==e.indexOf(n)&&e[i?"unshift":"push"](n),n},i.off=i.removeListener=i.removeEventListener=function(t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];if(i){var e=i.indexOf(n);-1!==e&&i.splice(e,1)}},i.removeAllListeners=function(t){t||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[t]=void 0),this._defaultHandlers&&(this._defaultHandlers[t]=void 0)},n.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,n){var i=t("./oop"),e=t("./event_emitter").EventEmitter,r={setOptions:function(t){Object.keys(t).forEach((function(n){this.setOption(n,t[n])}),this)},getOptions:function(t){var n={};if(t)Array.isArray(t)||(n=t,t=Object.keys(n));else{var i=this.$options;t=Object.keys(i).filter((function(t){return!i[t].hidden}))}return t.forEach((function(t){n[t]=this.getOption(t)}),this),n},setOption:function(t,n){if(this["$"+t]!==n){var i=this.$options[t];if(!i)return o('misspelled option "'+t+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(t,n);i.handlesSet||(this["$"+t]=n),i&&i.set&&i.set.call(this,n)}},getOption:function(t){var n=this.$options[t];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].getOption(t):n&&n.get?n.get.call(this):this["$"+t]:o('misspelled option "'+t+'"')}};function o(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(t,n){var i=new Error(t);i.data=n,"object"==typeof console&&console.error&&console.error(i),setTimeout((function(){throw i}))}var u=function(){this.$defaultOptions={}};(function(){i.implement(this,e),this.defineOptions=function(t,n,e){return t.$options||(this.$defaultOptions[n]=t.$options={}),Object.keys(e).forEach((function(n){var i=e[n];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=n),t.$options[i.name]=i,"initialValue"in i&&(t["$"+i.name]=i.initialValue)})),i.implement(t,r),this},this.resetOptions=function(t){Object.keys(t.$options).forEach((function(n){var i=t.$options[n];"value"in i&&t.setOption(n,i.value)}))},this.setDefaultValue=function(t,n,i){if(!t){for(t in this.$defaultOptions)if(this.$defaultOptions[t][n])break;if(!this.$defaultOptions[t][n])return!1}var e=this.$defaultOptions[t]||(this.$defaultOptions[t]={});e[n]&&(e.forwardTo?this.setDefaultValue(e.forwardTo,n,i):e[n].value=i)},this.setDefaultValues=function(t,n){Object.keys(n).forEach((function(i){this.setDefaultValue(t,i,n[i])}),this)},this.warn=o,this.reportError=s}).call(u.prototype),n.AppConfig=u})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(t,n,i){var e=t("./lib/lang");t("./lib/oop");var r=t("./lib/net"),o=t("./lib/app_config").AppConfig;i.exports=n=new o;var s=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};n.get=function(t){if(!u.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return u[t]},n.set=function(t,n){if(u.hasOwnProperty(t))u[t]=n;else if(0==this.setDefaultValue("",t,n))throw new Error("Unknown config key: "+t)},n.all=function(){return e.copyObject(u)},n.$modes={},n.moduleUrl=function(t,n){if(u.$moduleUrls[t])return u.$moduleUrls[t];var i=t.split("/"),e="snippets"==(n=n||i[i.length-2]||"")?"/":"-",r=i[i.length-1];if("worker"==n&&"-"==e){var o=new RegExp("^"+n+"[\\-_]|[\\-_]"+n+"$","g");r=r.replace(o,"")}(!r||r==n)&&i.length>1&&(r=i[i.length-2]);var s=u[n+"Path"];return null==s?s=u.basePath:"/"==e&&(n=e=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+n+e+r+this.get("suffix")},n.setModuleUrl=function(t,n){return u.$moduleUrls[t]=n},n.$loading={},n.loadModule=function(i,e){var o,s;Array.isArray(i)&&(s=i[0],i=i[1]);try{o=t(i)}catch(t){}if(o&&!n.$loading[i])return e&&e(o);if(n.$loading[i]||(n.$loading[i]=[]),n.$loading[i].push(e),!(n.$loading[i].length>1)){var u=function(){t([i],(function(t){n._emit("load.module",{name:i,module:t});var e=n.$loading[i];n.$loading[i]=null,e.forEach((function(n){n&&n(t)}))}))};if(!n.get("packaged"))return u();r.loadScript(n.moduleUrl(i,s),u),a()}};var a=function(){u.basePath||u.workerPath||u.modePath||u.themePath||Object.keys(u.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),a=function(){})};function c(e){if(s&&s.document){u.packaged=e||t.packaged||i.packaged||s.define&&(void 0).packaged;for(var r,o={},a="",c=document.currentScript||document._currentScript,h=(c&&c.ownerDocument||document).getElementsByTagName("script"),f=0;f<h.length;f++){var l=h[f],d=l.src||l.getAttribute("src");if(d){for(var v=l.attributes,p=0,m=v.length;p<m;p++){var b=v[p];0===b.name.indexOf("data-ace-")&&(o[(r=b.name.replace(/^data-ace-/,""),r.replace(/-(.)/g,(function(t,n){return n.toUpperCase()})))]=b.value)}var g=d.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);g&&(a=g[1])}}for(var y in a&&(o.base=o.base||a,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[y]&&n.set(y,o[y])}}c(!0),n.init=c,n.version="1.4.12"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(t,n){var i=t("../lib/event"),e=t("../lib/useragent"),r=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,s=t("./mouse_event").MouseEvent,u=t("./dragdrop_handler").DragdropHandler,a=t("./touch_handler").addTouchListeners,c=t("../config"),h=function(t){var n=this;this.editor=t,new r(this),new o(this),new u(this);var s=function(){(!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement()))&&window.focus(),t.focus()},c=t.renderer.getMouseEventTarget();i.addListener(c,"click",this.onMouseEvent.bind(this,"click"),t),i.addListener(c,"mousemove",this.onMouseMove.bind(this,"mousemove"),t),i.addMultiMouseDownListener([c,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",t),i.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel"),t),a(t.container,t);var h=t.renderer.$gutter;i.addListener(h,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),t),i.addListener(h,"click",this.onMouseEvent.bind(this,"gutterclick"),t),i.addListener(h,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),t),i.addListener(h,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),t),i.addListener(c,"mousedown",s,t),i.addListener(h,"mousedown",s,t),e.isIE&&t.renderer.scrollBarV&&(i.addListener(t.renderer.scrollBarV.element,"mousedown",s,t),i.addListener(t.renderer.scrollBarH.element,"mousedown",s,t)),t.on("mousemove",(function(i){if(!n.state&&!n.$dragDelay&&n.$dragEnabled){var e=t.renderer.screenToTextCoordinates(i.x,i.y),r=t.session.selection.getRange(),o=t.renderer;!r.isEmpty()&&r.insideStart(e.row,e.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),t)};(function(){this.onMouseEvent=function(t,n){this.editor._emit(t,new s(n,this.editor))},this.onMouseMove=function(t,n){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(t,new s(n,this.editor))},this.onMouseWheel=function(t,n){var i=new s(n,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=n.wheelX,i.wheelY=n.wheelY,this.editor._emit(t,i)},this.setState=function(t){this.state=t},this.captureMouse=function(t,n){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var r=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var u=this,a=function(t){if(t){if(e.isWebKit&&!t.which&&u.releaseMouse)return u.releaseMouse();u.x=t.clientX,u.y=t.clientY,n&&n(t),u.mouseEvent=new s(t,u.editor),u.$mouseMoved=!0}},c=function(t){r.off("beforeEndOperation",f),clearInterval(l),h(),u[u.state+"End"]&&u[u.state+"End"](t),u.state="",u.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),u.$onCaptureMouseMove=u.releaseMouse=null,t&&u.onMouseEvent("mouseup",t),r.endOperation()},h=function(){u[u.state]&&u[u.state](),u.$mouseMoved=!1};if(e.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout((function(){c(t)}));var f=function(){u.releaseMouse&&r.curOp.command.name&&r.curOp.selectionChanged&&(u[u.state+"End"]&&u[u.state+"End"](),u.state="",u.releaseMouse())};r.on("beforeEndOperation",f),r.startOperation({command:{name:"mouse"}}),u.$onCaptureMouseMove=a,u.releaseMouse=i.capture(this.editor.container,a,c);var l=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(n){n&&n.domEvent&&"contextmenu"!=n.domEvent.type||(this.editor.off("nativecontextmenu",t),n&&n.domEvent&&i.stopEvent(n.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),c.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:e.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),n.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(t,n){var i=t("../lib/dom");n.FoldHandler=function(t){t.on("click",(function(n){var e=n.getDocumentPosition(),r=t.session,o=r.getFoldAt(e.row,e.column,1);o&&(n.getAccelKey()?r.removeFold(o):r.expandFold(o),n.stop());var s=n.domEvent&&n.domEvent.target;s&&i.hasCssClass(s,"ace_inline_button")&&i.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),t.renderer.scrollCursorIntoView())})),t.on("gutterclick",(function(n){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(n)){var i=n.getDocumentPosition().row,e=t.session;e.foldWidgets&&e.foldWidgets[i]&&t.session.onFoldWidgetClick(i,n),t.isFocused()||t.focus(),n.stop()}})),t.on("gutterdblclick",(function(n){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(n)){var i=n.getDocumentPosition().row,e=t.session,r=e.getParentFoldRangeData(i,!0),o=r.range||r.firstRange;if(o){var s=e.getFoldAt(i=o.start.row,e.getLine(i).length,1);s?e.removeFold(s):(e.addFold("...",o),t.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}n.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(t,n){var i=t("../lib/keys"),e=t("../lib/event"),r=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var n=this.$handlers;if(n[n.length-1]!=t){for(;n[n.length-1]&&n[n.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(n[n.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,n){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var i=this.$handlers.indexOf(t);-1!=i&&this.$handlers.splice(i,1),null==n?this.$handlers.push(t):this.$handlers.splice(n,0,t),-1==i&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var n=this.$handlers.indexOf(t);return-1!=n&&(this.$handlers.splice(n,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,n=t.editor;return this.$handlers.map((function(i){return i.getStatusText&&i.getStatusText(n,t)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,n,i,r){for(var o,s=!1,u=this.$editor.commands,a=this.$handlers.length;a--&&!((o=this.$handlers[a].handleKeyboard(this.$data,t,n,i,r))&&o.command&&((s="null"==o.command||u.exec(o.command,this.$editor,o.args,r))&&r&&-1!=t&&1!=o.passEvent&&1!=o.command.passEvent&&e.stopEvent(r),s)););return s||-1!=t||(o={command:"insertstring"},s=u.exec("insertstring",this.$editor,n)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(t,n,e){var r=i.keyCodeToString(e);return this.$callKeyboardHandlers(n,r,e,t)},this.onTextInput=function(t){return this.$callKeyboardHandlers(-1,t)}}).call(r.prototype),n.KeyBinding=r})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(t,n){var i=0,e=0,r=!1,o=!1,s=!1,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],a=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=11,h=18,f=[h,h,h,h,h,h,h,h,h,6,5,6,8,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,5,5,5,6,8,4,4,c,c,c,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,h,h,h,h,h,h,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,9,4,c,c,c,c,4,4,4,4,0,4,4,h,4,4,c,c,2,2,4,0,4,4,4,2,0,4,4,4,4,4],l=[8,8,8,8,8,8,8,8,8,8,8,h,h,h,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,c,c,c,c,c,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function d(t,n,r){if(!(e<t))if(1!=t||1!=i||o)for(var s,u,a,c,h=r.length,f=0;f<h;){if(n[f]>=t){for(s=f+1;s<h&&n[s]>=t;)s++;for(u=f,a=s-1;u<a;u++,a--)c=r[u],r[u]=r[a],r[a]=c;f=s}f++}else r.reverse()}function v(t,n,e,u){var a,f,l,d,v=n[u];switch(v){case 0:case 1:r=!1;case 4:case 3:return v;case 2:return r?3:2;case 7:return r=!0,1;case 8:return 4;case 9:return u<1||u+1>=n.length||2!=(a=e[u-1])&&3!=a||2!=(f=n[u+1])&&3!=f?4:(r&&(f=3),f==a?f:4);case 10:return 2==(a=u>0?e[u-1]:5)&&u+1<n.length&&2==n[u+1]?2:4;case c:if(u>0&&2==e[u-1])return 2;if(r)return 4;for(d=u+1,l=n.length;d<l&&n[d]==c;)d++;return d<l&&2==n[d]?2:4;case 12:for(l=n.length,d=u+1;d<l&&12==n[d];)d++;if(d<l){var p=t[u];if(a=n[d],(p>=1425&&p<=2303||64286==p)&&(1==a||7==a))return 1}return u<1||5==(a=n[u-1])?4:e[u-1];case 5:return r=!1,o=!0,i;case 6:return s=!0,4;case 13:case 14:case 16:case 17:case 15:r=!1;case h:return 4}}function p(t){var n=t.charCodeAt(0),i=n>>8;return 0==i?n>191?0:f[n]:5==i?/[\u0591-\u05f4]/.test(t)?1:0:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?12:/[\u0660-\u0669\u066b-\u066c]/.test(t)?3:1642==n?c:/[\u06f0-\u06f9]/.test(t)?2:7:32==i&&n<=8287?l[255&n]:254==i&&n>=65136?7:4}n.L=0,n.R=1,n.EN=2,n.ON_R=3,n.AN=4,n.R_H=5,n.B=6,n.RLE=7,n.DOT="",n.doBidiReorder=function(t,c,f){if(t.length<2)return{};var l=t.split(""),m=new Array(l.length),b=new Array(l.length),g=[];i=f?1:0,function(t,n,c,h){var f=i?a:u,l=null,d=null,m=null,b=0,g=null,y=-1,w=null,x=null,k=[];if(!h)for(w=0,h=[];w<c;w++)h[w]=p(t[w]);for(e=i,r=!1,o=!1,s=!1,x=0;x<c;x++){if(l=b,k[x]=d=v(t,h,k,x),g=240&(b=f[l][d]),n[x]=m=f[b&=15][5],g>0)if(16==g){for(w=y;w<x;w++)n[w]=1;y=-1}else y=-1;if(f[b][6])-1==y&&(y=x);else if(y>-1){for(w=y;w<x;w++)n[w]=m;y=-1}5==h[x]&&(n[x]=0),e|=m}if(s)for(w=0;w<c;w++)if(6==h[w]){n[w]=i;for(var _=w-1;_>=0&&8==h[_];_--)n[_]=i}}(l,g,l.length,c);for(var y=0;y<m.length;m[y]=y,y++);for(d(2,g,m),d(1,g,m),y=0;y<m.length-1;y++)3===c[y]?g[y]=n.AN:1===g[y]&&(c[y]>7&&c[y]<13||4===c[y]||c[y]===h)?g[y]=n.ON_R:y>0&&""===l[y-1]&&/\u0622|\u0623|\u0625|\u0627/.test(l[y])&&(g[y-1]=g[y]=n.R_H,y++);for(l[l.length-1]===n.DOT&&(g[l.length-1]=n.B),""===l[0]&&(g[0]=n.RLE),y=0;y<m.length;y++)b[y]=g[m[y]];return{logicalFromVisual:m,bidiLevels:b}},n.hasBidiCharacters=function(t,n){for(var i=!1,e=0;e<t.length;e++)n[e]=p(t.charAt(e)),i||1!=n[e]&&7!=n[e]&&3!=n[e]||(i=!0);return i},n.getVisualFromLogicalIdx=function(t,n){for(var i=0;i<n.logicalFromVisual.length;i++)if(n.logicalFromVisual[i]==t)return i;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(t,n){var i=t("./lib/bidiutil"),e=t("./lib/lang"),r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=r.test(t.getValue())};(function(){this.isBidiRow=function(t,n,i){return!!this.seenBidi&&(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(n,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&r.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var t=0,n=this.session.$screenRowCache;if(n.length){var i=this.session.$getRowCacheIndex(n,this.currentRow);i>=0&&(t=this.session.$docRowCache[i])}return t},this.getSplitIndex=function(){var t=0,n=this.session.$screenRowCache;if(n.length)for(var i,e=this.session.$getRowCacheIndex(n,this.currentRow);this.currentRow-t>0&&(i=this.session.$getRowCacheIndex(n,this.currentRow-t-1))===e;)e=i,t++;else t=this.currentRow;return t},this.updateRowLine=function(t,n){void 0===t&&(t=this.getDocumentRow());var r=t===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[t];o&&(void 0===n&&(n=this.getSplitIndex()),n>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=n<o.length?this.line.substring(o[n-1],o[n]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[n])),n==o.length&&(this.line+=this.showInvisibles?r:i.DOT)}else this.line+=this.showInvisibles?r:i.DOT;var s,u=this.session,a=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(t,n){return"\t"===t||u.isFullWidth(t.charCodeAt(0))?(s="\t"===t?u.getScreenTabSize(n+a):2,a+=s-1,e.stringRepeat(i.DOT,s)):t})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var t=[];this.bidiMap=i.hasBidiCharacters(this.line,t)||this.isRtlDir?i.doBidiReorder(this.line,t,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var n=this.characterWidth=t.$characterSize.width,e=t.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=n,this.charWidths[i.R]=this.charWidths[i.AN]=e,this.charWidths[i.R_H]=.45*e,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setContentWidth=function(t){this.contentWidth=t},this.isRtlLine=function(t){return!!this.$isRtl||(null!=t?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(t,n){for(var i=t.getCursorPosition(),e=t.selection.getSelectionAnchor().row;e<=i.row;e++)n||t.session.getLine(e).charAt(0)!==t.session.$bidiHandler.RLE?n&&t.session.getLine(e).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:e},t.session.$bidiHandler.RLE):t.session.doc.removeInLine(e,0,1)},this.getPosLeft=function(t){t-=this.wrapIndent;var n=this.line.charAt(0)===this.RLE?1:0,e=t>n?this.session.getOverwrite()?t:t-1:n,r=i.getVisualFromLogicalIdx(e,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&t<=n&&o[r]%2!=0&&r++;for(var u=0;u<r;u++)s+=this.charWidths[o[u]];return!this.session.getOverwrite()&&t>n&&o[r]%2==0&&(s+=this.charWidths[o[r]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(t,n){var i,e=this.bidiMap,r=e.bidiLevels,o=[],s=0,u=Math.min(t,n)-this.wrapIndent,a=Math.max(t,n)-this.wrapIndent,c=!1,h=!1,f=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var l,d=0;d<r.length;d++)i=r[d],(c=(l=e.logicalFromVisual[d])>=u&&l<a)&&!h?f=s:!c&&h&&o.push({left:f,width:s-f}),s+=this.charWidths[i],h=c;if(c&&d===r.length&&o.push({left:f,width:s-f}),this.isRtlDir)for(var v=0;v<o.length;v++)o[v].left+=this.rtlLineOffset;return o},this.offsetToCol=function(t){this.isRtlDir&&(t-=this.rtlLineOffset);var n=0,i=(t=Math.max(t,0),0),e=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[e]];for(this.wrapIndent&&(t-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);t>i+o/2;){if(i+=o,e===r.length-1){o=0;break}o=this.charWidths[r[++e]]}return e>0&&r[e-1]%2!=0&&r[e]%2==0?(t<i&&e--,n=this.bidiMap.logicalFromVisual[e]):e>0&&r[e-1]%2==0&&r[e]%2!=0?n=1+(t>i?this.bidiMap.logicalFromVisual[e]:this.bidiMap.logicalFromVisual[e-1]):this.isRtlDir&&e===r.length-1&&0===o&&r[e-1]%2==0||!this.isRtlDir&&0===e&&r[e]%2!=0?n=1+this.bidiMap.logicalFromVisual[e]:(e>0&&r[e-1]%2!=0&&0!==o&&e--,n=this.bidiMap.logicalFromVisual[e]),0===n&&this.isRtlDir&&n++,n+this.wrapIndent}}).call(o.prototype),n.BidiHandler=o})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(t,n){var i=t("./lib/oop"),e=t("./lib/lang"),r=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,s=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var n=this;this.cursor.on("change",(function(t){n.$cursorChanged=!0,n.$silent||n._emit("changeCursor"),n.$isEmpty||n.$silent||n._emit("changeSelection"),n.$keepDesiredColumnOnChange||t.old.column==t.value.column||(n.$desiredColumn=null)})),this.anchor.on("change",(function(){n.$anchorChanged=!0,n.$isEmpty||n.$silent||n._emit("changeSelection")}))};(function(){i.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,n){this.$isEmpty=!1,this.anchor.setPosition(t,n)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,n=this.lead;return t.row>n.row||t.row==n.row&&t.column>n.column},this.getRange=function(){var t=this.anchor,n=this.lead;return this.$isEmpty?o.fromPoints(n,n):this.isBackwards()?o.fromPoints(n,t):o.fromPoints(t,n)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,n){var i=n?t.end:t.start,e=n?t.start:t.end;this.$setSelection(i.row,i.column,e.row,e.column)},this.$setSelection=function(t,n,i,e){if(!this.$silent){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,n),this.cursor.setPosition(i,e),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var n=this.lead;this.$isEmpty&&this.setSelectionAnchor(n.row,n.column),t.call(this)},this.selectTo=function(t,n){this.$moveSelection((function(){this.moveCursorTo(t,n)}))},this.selectToPosition=function(t){this.$moveSelection((function(){this.moveCursorToPosition(t)}))},this.moveTo=function(t,n){this.clearSelection(),this.moveCursorTo(t,n)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,n){if(void 0===n){var i=t||this.lead;t=i.row,n=i.column}return this.session.getWordRange(t,n)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),n=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(n)},this.getLineRange=function(t,n){var i,e="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(e);return r?(e=r.start.row,i=r.end.row):i=e,!0===n?new o(e,0,i,this.session.getLine(i).length):new o(e,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,n,i){var e=t.column,r=t.column+n;return i<0&&(e=t.column-n,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(e,r).split(" ").length-1==n},this.moveCursorLeft=function(){var t,n=this.lead.getPosition();if(t=this.session.getFoldAt(n.row,n.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===n.column)n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(n,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,n=this.lead.getPosition();if(t=this.session.getFoldAt(n.row,n.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(n=this.lead,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,n=this.lead.column,i=this.session.documentToScreenRow(t,n),e=this.session.screenToDocumentPosition(i,0),r=this.session.getDisplayLine(t,null,e.row,e.column).match(/^\s*/);r[0].length==n||this.session.$useEmacsStyleLineStart||(e.column+=r[0].length),this.moveCursorToPosition(e)},this.moveCursorLineEnd=function(){var t=this.lead,n=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==n.column){var i=this.session.getLine(n.row);if(n.column==i.length){var e=i.search(/\s+$/);e>0&&(n.column=e)}}this.moveCursorTo(n.row,n.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,n=this.doc.getLine(t).length;this.moveCursorTo(t,n)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),e=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,n,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(e)&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=i.substring(n)),n>=i.length)return this.moveCursorTo(t,i.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(e)&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.moveCursorLongWordLeft=function(){var t,n=this.lead.row,i=this.lead.column;if(t=this.session.getFoldAt(n,i,-1))this.moveCursorTo(t.start.row,t.start.column);else{var r=this.session.getFoldStringAt(n,i,-1);null==r&&(r=this.doc.getLine(n).substring(0,i));var o=e.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(i-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(n,0),this.moveCursorLeft(),void(n>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(n,i)}},this.$shortWordEndIndex=function(t){var n,i=0,e=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))i=this.session.tokenRe.lastIndex;else{for(;(n=t[i])&&e.test(n);)i++;if(i<1)for(r.lastIndex=0;(n=t[i])&&!r.test(n);)if(r.lastIndex=0,i++,e.test(n)){if(i>2){i--;break}for(;(n=t[i])&&e.test(n);)i++;if(i>2)break}}return r.lastIndex=0,i},this.moveCursorShortWordRight=function(){var t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),e=i.substring(n),r=this.session.getFoldAt(t,n,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(n==i.length){var o=this.doc.getLength();do{t++,e=this.doc.getLine(t)}while(t<o&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),n=0}var s=this.$shortWordEndIndex(e);this.moveCursorTo(t,n+s)},this.moveCursorShortWordLeft=function(){var t,n=this.lead.row,i=this.lead.column;if(t=this.session.getFoldAt(n,i,-1))return this.moveCursorTo(t.start.row,t.start.column);var r=this.session.getLine(n).substring(0,i);if(0===i){do{n--,r=this.doc.getLine(n)}while(n>0&&/^\s*$/.test(r));i=r.length,/\s+$/.test(r)||(r="")}var o=e.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(n,i-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,n){var i,e=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===n&&(0!==t&&(this.session.$bidiHandler.isBidiRow(e.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(e.column),e.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=e.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?e.column=this.$desiredColumn:this.$desiredColumn=e.column),0!=t&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];t<0?t-=r.rowsAbove||0:t>0&&(t+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(e.row+t,e.column,i);this.moveCursorTo(o.row,o.column+n,0===n)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,n,i){var e=this.session.getFoldAt(t,n,1);e&&(t=e.start.row,n=e.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(n))&&r.charAt(n-1)&&(this.lead.row==t&&this.lead.column==n+1?n-=1:n+=1),this.lead.setPosition(t,n),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,n,i){var e=this.session.screenToDocumentPosition(t,n);this.moveCursorTo(e.row,e.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var n=this.getRange();return t?(t.start.column=n.start.column,t.start.row=n.start.row,t.end.column=n.end.column,t.end.row=n.end.row):t=n,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var n=this.getCursor();try{t(this);var i=this.getCursor();return o.fromPoints(n,i)}catch(t){return o.fromPoints(n,n)}finally{this.moveCursorToPosition(n)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map((function(t){var n=t.clone();return n.isBackwards=t.cursor==t.start,n}));else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(null==t.start){if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var n=t.length;n--;){var i=o.fromPoints(t[n].start,t[n].end);t[n].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var n=this.ranges.length;n--;)if(!this.ranges[n].isEqual(t[n]))return!1;return!0}}).call(s.prototype),n.Selection=s})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(t,n){var i=t("./config"),e=2e3,r=function(t){for(var n in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[n],e=[],r=0,o=this.matchMappings[n]={defaultToken:"text"},s="g",u=[],a=0;a<i.length;a++){var c=i[a];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,f=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==f?c.token=c.token[0]:f-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:f-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=f>1?this.$applyToken:c.token),f>1&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,(function(t,n){return"\\"+(parseInt(n,10)+r+1)})):(f=1,h=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||u.push(c)),o[r]=a,r+=f,e.push(h),c.onMatch||(c.onMatch=null)}}e.length||(o[0]=0,e.push("$")),u.forEach((function(t){t.splitRegex=this.createSplitterRegexp(t.regex,s)}),this),this.regExps[n]=new RegExp("("+e.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(t){e=0|t},this.$applyToken=function(t){var n=this.splitRegex.exec(t).slice(1),i=this.token.apply(this,n);if("string"==typeof i)return[{type:i,value:t}];for(var e=[],r=0,o=i.length;r<o;r++)n[r]&&(e[e.length]={type:i[r],value:n[r]});return e},this.$arrayTokens=function(t){if(!t)return[];var n=this.splitRegex.exec(t);if(!n)return"text";for(var i=[],e=this.tokenArray,r=0,o=e.length;r<o;r++)n[r+1]&&(i[i.length]={type:e[r],value:n[r+1]});return i},this.removeCapturingGroups=function(t){return t.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(t,n){return n?"(?:":t}))},this.createSplitterRegexp=function(t,n){if(-1!=t.indexOf("(?=")){var i=0,e=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(t,n,o,s,u,a){return e?e="]"!=u:u?e=!0:s?(i==r.stack&&(r.end=a+1,r.stack=-1),i--):o&&(i++,1!=o.length&&(r.stack=i,r.start=a)),t})),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(n||"").replace("g",""))},this.getLineTokens=function(t,n){if(n&&"string"!=typeof n){var i=n.slice(0);"#tmp"===(n=i[0])&&(i.shift(),n=i.shift())}else i=[];var r=n||"start",o=this.states[r];o||(o=this.states[r="start"]);var s=this.matchMappings[r],u=this.regExps[r];u.lastIndex=0;for(var a,c=[],h=0,f=0,l={type:null,value:""};a=u.exec(t);){var d=s.defaultToken,v=null,p=a[0],m=u.lastIndex;if(m-p.length>h){var b=t.substring(h,m-p.length);l.type==d?l.value+=b:(l.type&&c.push(l),l={type:d,value:b})}for(var g=0;g<a.length-2;g++)if(void 0!==a[g+1]){d=(v=o[s[g]]).onMatch?v.onMatch(p,r,i,t):v.token,v.next&&(r="string"==typeof v.next?v.next:v.next(r,i),(o=this.states[r])||(this.reportError("state doesn't exist",r),o=this.states[r="start"]),s=this.matchMappings[r],h=m,(u=this.regExps[r]).lastIndex=m),v.consumeLineEnd&&(h=m);break}if(p)if("string"==typeof d)v&&!1===v.merge||l.type!==d?(l.type&&c.push(l),l={type:d,value:p}):l.value+=p;else if(d)for(l.type&&c.push(l),l={type:null,value:""},g=0;g<d.length;g++)c.push(d[g]);if(h==t.length)break;if(h=m,f++>e){for(f>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:n,line:t});h<t.length;)l.type&&c.push(l),l={value:t.substring(h,h+=500),type:"overflow"};r="start",i=[];break}}return l.type&&c.push(l),i.length>1&&i[0]!==r&&i.unshift("#tmp",r),{tokens:c,state:i.length?i:r}},this.reportError=i.reportError}).call(r.prototype),n.Tokenizer=r})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(t,n){var i=t("../lib/lang"),e=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,n){if(n)for(var i in t){for(var e=t[i],r=0;r<e.length;r++){var o=e[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(n)&&(o.next=n+o.next),o.nextState&&0!==o.nextState.indexOf(n)&&(o.nextState=n+o.nextState))}this.$rules[n+i]=e}else for(var i in t)this.$rules[i]=t[i]},this.getRules=function(){return this.$rules},this.embedRules=function(t,n,e,r,o){var s="function"==typeof t?(new t).getRules():t;if(r)for(var u=0;u<r.length;u++)r[u]=n+r[u];else for(var a in r=[],s)r.push(n+a);if(this.addRules(s,n),e){var c=Array.prototype[o?"push":"unshift"];for(u=0;u<r.length;u++)c.apply(this.$rules[r[u]],i.deepCopy(e))}this.$embeds||(this.$embeds=[]),this.$embeds.push(n)},this.getEmbeds=function(){return this.$embeds};var t=function(t,n){return("start"!=t||n.length)&&n.unshift(this.nextState,t),this.nextState},n=function(t,n){return n.shift(),n.shift()||"start"};this.normalizeRules=function(){var i=0,e=this.$rules;Object.keys(e).forEach((function r(o){var s=e[o];s.processed=!0;for(var u=0;u<s.length;u++){var a=s[u],c=null;Array.isArray(a)&&(c=a,a={}),!a.regex&&a.start&&(a.regex=a.start,a.next||(a.next=[]),a.next.push({defaultToken:a.token},{token:a.token+".end",regex:a.end||a.start,next:"pop"}),a.token=a.token+".start",a.push=!0);var h=a.next||a.push;if(h&&Array.isArray(h)){var f=a.stateName;f||("string"!=typeof(f=a.token)&&(f=f[0]||""),e[f]&&(f+=i++)),e[f]=h,a.next=f,r(f)}else"pop"==h&&(a.next=n);if(a.push&&(a.nextState=a.next||a.push,a.next=t,delete a.push),a.rules)for(var l in a.rules)e[l]?e[l].push&&e[l].push.apply(e[l],a.rules[l]):e[l]=a.rules[l];var d="string"==typeof a?a:a.include;if(d&&(c=Array.isArray(d)?d.map((function(t){return e[t]})):e[d]),c){var v=[u,1].concat(c);a.noEscape&&(v=v.filter((function(t){return!t.next}))),s.splice.apply(s,v),u--}a.keywordMap&&(a.token=this.createKeywordMapper(a.keywordMap,a.defaultToken||"text",a.caseInsensitive),delete a.defaultToken)}}),this)},this.createKeywordMapper=function(t,n,i,e){var r=Object.create(null);return this.$keywordList=[],Object.keys(t).forEach((function(n){for(var o=t[n].split(e||"|"),s=o.length;s--;){var u=o[s];this.$keywordList.push(u),i&&(u=u.toLowerCase()),r[u]=n}}),this),t=null,i?function(t){return r[t.toLowerCase()]||n}:function(t){return r[t]||n}},this.getKeywords=function(){return this.$keywords}}).call(e.prototype),n.TextHighlightRules=e})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(t,n){var i=function(){this.$behaviours={}};(function(){this.add=function(t,n,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][n]=i},this.addBehaviours=function(t){for(var n in t)for(var i in t[n])this.add(n,i,t[n][i])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,n){if("function"==typeof t)var i=(new t).getBehaviours(n);else i=t.getBehaviours(n);this.addBehaviours(i)},this.getBehaviours=function(t){if(t){for(var n={},i=0;i<t.length;i++)this.$behaviours[t[i]]&&(n[t[i]]=this.$behaviours[t[i]]);return n}return this.$behaviours}}).call(i.prototype),n.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(t,n){var i=t("./range").Range,e=function(t,n,i){this.$session=t,this.$row=n,this.$rowTokens=t.getTokens(n);var e=t.getTokenAt(n,i);this.$tokenIndex=e?e.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,n=this.$tokenIndex,i=t[n].start;if(void 0!==i)return i;for(i=0;n>0;)i+=t[n-=1].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],n=this.getCurrentTokenColumn();return new i(this.$row,n,this.$row,n+t.value.length)}}).call(e.prototype),n.TokenIterator=e})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(t,n){var i,e=t("../../lib/oop"),r=t("../behaviour").Behaviour,o=t("../../token_iterator").TokenIterator,s=t("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],a=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c={},h={'"':'"',"'":"'"},f=function(t){var n=-1;if(t.multiSelect&&(n=t.selection.index,c.rangeCount!=t.multiSelect.rangeCount&&(c={rangeCount:t.multiSelect.rangeCount})),c[n])return i=c[n];i=c[n]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},l=function(t,n,i,e){var r=t.end.row-t.start.row;return{text:i+n+e,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},d=function(t){this.add("braces","insertion",(function(n,e,r,o,u){var a=r.getCursorPosition(),c=o.doc.getLine(a.row);if("{"==u){f(r);var h=r.getSelectionRange(),v=o.doc.getTextRange(h);if(""!==v&&"{"!==v&&r.getWrapBehavioursEnabled())return l(h,v,"{","}");if(d.isSaneInsertion(r,o))return/[\]\}\)]/.test(c[a.column])||r.inMultiSelectMode||t&&t.braces?(d.recordAutoInsert(r,o,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(r,o,"{"),{text:"{",selection:[1,1]})}else if("}"==u){if(f(r),"}"==c.substring(a.column,a.column+1)&&null!==o.$findOpeningBracket("}",{column:a.column+1,row:a.row})&&d.isAutoInsertedClosing(a,c,u))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==u||"\r\n"==u){f(r);var p="";if(d.isMaybeInsertedClosing(a,c)&&(p=s.stringRepeat("}",i.maybeInsertedBrackets),d.clearMaybeInsertedClosing()),"}"===c.substring(a.column,a.column+1)){var m=o.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!m)return null;var b=this.$getIndent(o.getLine(m.row))}else{if(!p)return void d.clearMaybeInsertedClosing();b=this.$getIndent(c)}var g=b+o.getTabString();return{text:"\n"+g+"\n"+b+p,selection:[1,g.length,1,g.length]}}d.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(t,n,e,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(f(e),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,n,i,e,r){if("("==r){f(i);var o=i.getSelectionRange(),s=e.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return l(o,s,"(",")");if(d.isSaneInsertion(i,e))return d.recordAutoInsert(i,e,")"),{text:"()",selection:[1,1]}}else if(")"==r){f(i);var u=i.getCursorPosition(),a=e.doc.getLine(u.row);if(")"==a.substring(u.column,u.column+1)&&null!==e.$findOpeningBracket(")",{column:u.column+1,row:u.row})&&d.isAutoInsertedClosing(u,a,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(t,n,i,e,r){var o=e.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(f(i),")"==e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(t,n,i,e,r){if("["==r){f(i);var o=i.getSelectionRange(),s=e.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return l(o,s,"[","]");if(d.isSaneInsertion(i,e))return d.recordAutoInsert(i,e,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){f(i);var u=i.getCursorPosition(),a=e.doc.getLine(u.row);if("]"==a.substring(u.column,u.column+1)&&null!==e.$findOpeningBracket("]",{column:u.column+1,row:u.row})&&d.isAutoInsertedClosing(u,a,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(t,n,i,e,r){var o=e.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(f(i),"]"==e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(t,n,i,e,r){var o=e.$mode.$quotes||h;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;f(i);var s=r,u=i.getSelectionRange(),a=e.doc.getTextRange(u);if(!(""===a||1==a.length&&o[a])&&i.getWrapBehavioursEnabled())return l(u,a,s,s);if(!a){var c=i.getCursorPosition(),d=e.doc.getLine(c.row),v=d.substring(c.column-1,c.column),p=d.substring(c.column,c.column+1),m=e.getTokenAt(c.row,c.column),b=e.getTokenAt(c.row,c.column+1);if("\\"==v&&m&&/escape/.test(m.type))return null;var g,y=m&&/string|escape/.test(m.type),w=!b||/string|escape/.test(b.type);if(p==s)(g=y!==w)&&/string\.end/.test(b.type)&&(g=!1);else{if(y&&!w)return null;if(y&&w)return null;var x=e.$mode.tokenRe;x.lastIndex=0;var k=x.test(v);x.lastIndex=0;var _=x.test(v);if(k||_)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;var A=d[c.column-2];if(v==s&&(A==s||x.test(A)))return null;g=!0}return{text:g?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(t,n,i,e,r){var o=e.$mode.$quotes||h,s=e.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(f(i),e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r}))};d.isSaneInsertion=function(t,n){var i=t.getCursorPosition(),e=new o(n,i.row,i.column);if(!this.$matchTokenType(e.getCurrentToken()||"text",u)){if(/[)}\]]/.test(t.session.getLine(i.row)[i.column]))return!0;var r=new o(n,i.row,i.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",u))return!1}return e.stepForward(),e.getCurrentTokenRow()!==i.row||this.$matchTokenType(e.getCurrentToken()||"text",a)},d.$matchTokenType=function(t,n){return n.indexOf(t.type||t)>-1},d.recordAutoInsert=function(t,n,e){var r=t.getCursorPosition(),o=n.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=e+o.substr(r.column),i.autoInsertedBrackets++},d.recordMaybeInsert=function(t,n,e){var r=t.getCursorPosition(),o=n.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+e,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(t,n,e){return i.autoInsertedBrackets>0&&t.row===i.autoInsertedRow&&e===i.autoInsertedLineEnd[0]&&n.substr(t.column)===i.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(t,n){return i.maybeInsertedBrackets>0&&t.row===i.maybeInsertedRow&&n.substr(t.column)===i.maybeInsertedLineEnd&&n.substr(0,t.column)==i.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},e.inherits(d,r),n.CstyleBehaviour=d})),ace.define("ace/unicode",["require","exports","module"],(function(t,n){for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],e=0,r=[],o=0;o<i.length;o+=2)r.push(e+=i[o]),i[o+1]&&r.push(45,e+=i[o+1]);n.wordChars=String.fromCharCode.apply(null,r)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(t,n){var i=t("../config"),e=t("../tokenizer").Tokenizer,r=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,s=t("../unicode"),u=t("../lib/lang"),a=t("../token_iterator").TokenIterator,c=t("../range").Range,h=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+s.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new e(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,n,i,e){var r=n.doc,o=!0,s=!0,a=1/0,c=n.getTabSize(),h=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(p=this.lineCommentStart.map(u.escapeRegExp).join("|"),d=this.lineCommentStart[0]):(p=u.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart),p=new RegExp("^(\\s*)(?:"+p+") ?"),h=n.getUseSoftTabs(),g=function(t,n){var i=t.match(p);if(i){var e=i[1].length,o=i[0].length;l(t,e,o)||" "!=i[0][o-1]||o--,r.removeInLine(n,e,o)}};var f=d+" ",l=(b=function(t,n){o&&!/\S/.test(t)||(l(t,a,a)?r.insertInLine({row:n,column:a},f):r.insertInLine({row:n,column:a},d))},y=function(t){return p.test(t)},function(t,n,i){for(var e=0;n--&&" "==t.charAt(n);)e++;if(e%c!=0)return!1;for(e=0;" "==t.charAt(i++);)e++;return c>2?e%c!=c-1:e%c==0})}else{if(!this.blockComment)return!1;var d=this.blockComment.start,v=this.blockComment.end,p=new RegExp("^(\\s*)(?:"+u.escapeRegExp(d)+")"),m=new RegExp("(?:"+u.escapeRegExp(v)+")\\s*$"),b=function(t,n){y(t,n)||o&&!/\S/.test(t)||(r.insertInLine({row:n,column:t.length},v),r.insertInLine({row:n,column:a},d))},g=function(t,n){var i;(i=t.match(m))&&r.removeInLine(n,t.length-i[0].length,t.length),(i=t.match(p))&&r.removeInLine(n,i[1].length,i[0].length)},y=function(t,i){if(p.test(t))return!0;for(var e=n.getTokens(i),r=0;r<e.length;r++)if("comment"===e[r].type)return!0}}function w(t){for(var n=i;n<=e;n++)t(r.getLine(n),n)}var x=1/0;w((function(t,n){var i=t.search(/\S/);-1!==i?(i<a&&(a=i),s&&!y(t,n)&&(s=!1)):x>t.length&&(x=t.length)})),a==1/0&&(a=x,o=!1,s=!1),h&&a%c!=0&&(a=Math.floor(a/c)*c),w(s?g:b)},this.toggleBlockComment=function(t,n,i,e){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,u=(p=new a(n,e.row,e.column)).getCurrentToken(),h=n.selection.toOrientedRange();if(u&&/comment/.test(u.type)){for(var f,l;u&&/comment/.test(u.type);){if(-1!=(m=u.value.indexOf(r.start))){var d=p.getCurrentTokenRow(),v=p.getCurrentTokenColumn()+m;f=new c(d,v,d,v+r.start.length);break}u=p.stepBackward()}var p;for(u=(p=new a(n,e.row,e.column)).getCurrentToken();u&&/comment/.test(u.type);){var m;if(-1!=(m=u.value.indexOf(r.end))){d=p.getCurrentTokenRow(),v=p.getCurrentTokenColumn()+m,l=new c(d,v,d,v+r.end.length);break}u=p.stepForward()}l&&n.remove(l),f&&(n.remove(f),o=f.start.row,s=-r.start.length)}else s=r.start.length,o=i.start.row,n.insert(i.end,r.end),n.insert(i.start,r.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),n.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(t,n){return this.$getIndent(n)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(t){for(var n in this.$embeds=[],this.$modes={},t)if(t[n]){var e=t[n],r=e.prototype.$id,o=i.$modes[r];o||(i.$modes[r]=o=new e),i.$modes[n]||(i.$modes[n]=o),this.$embeds.push(n),this.$modes[n]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(n=0;n<s.length;n++)!function(t){var i=s[n],e=t[i];t[s[n]]=function(){return this.$delegator(i,arguments,e)}}(this)},this.$delegator=function(t,n,i){var e=n[0]||"start";if("string"!=typeof e){if(Array.isArray(e[2])&&(o=this.$modes[e[2][e[2].length-1]]))return o[t].apply(o,[e[1]].concat([].slice.call(n,1)));e=e[0]||"start"}for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o,s=e.split(this.$embeds[r]);if(!s[0]&&s[1])return n[0]=s[1],(o=this.$modes[this.$embeds[r]])[t].apply(o,n)}var u=i.apply(this,n);return i?u:void 0},this.transformAction=function(t,n,i,e,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][n]){var u=o[s][n].apply(this,arguments);if(u)return u}}},this.getKeywords=function(t){if(!this.completionKeywords){var n=this.$tokenizer.rules,i=[];for(var e in n)for(var r=n[e],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&i.push(r[o].regex);else if("object"==typeof r[o].token)for(var u=0,a=r[o].token.length;u<a;u++)/keyword|support|storage/.test(r[o].token[u])&&(e=r[o].regex.match(/\(.+?\)/g)[u],i.push(e.substr(1,e.length-2)));this.completionKeywords=i}return t?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){return(this.$keywordList||this.$createKeywordList()).map((function(t){return{name:t,value:t,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),n.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(t,n){n.applyDelta=function(t,n){var i=n.start.row,e=n.start.column,r=t[i]||"";switch(n.action){case"insert":if(1===n.lines.length)t[i]=r.substring(0,e)+n.lines[0]+r.substring(e);else{var o=[i,1].concat(n.lines);t.splice.apply(t,o),t[i]=r.substring(0,e)+t[i],t[i+n.lines.length-1]+=r.substring(e)}break;case"remove":var s=n.end.column,u=n.end.row;i===u?t[i]=r.substring(0,e)+r.substring(s):t.splice(i,u-i+1,r.substring(0,e)+t[u].substring(s))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,n){var i=t("./lib/oop"),e=t("./lib/event_emitter").EventEmitter,r=n.Anchor=function(t,n,i){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===i?this.setPosition(n.row,n.column):this.setPosition(n,i)};(function(){function t(t,n,i){return t.row<n.row||t.row==n.row&&(i?t.column<=n.column:t.column<n.column)}i.implement(this,e),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(n){if(!(n.start.row==n.end.row&&n.start.row!=this.row||n.start.row>this.row)){var i=function(n,i,e){var r="insert"==n.action,o=(r?1:-1)*(n.end.row-n.start.row),s=(r?1:-1)*(n.end.column-n.start.column),u=n.start,a=r?u:n.end;return t(i,u,e)?{row:i.row,column:i.column}:t(a,i,!e)?{row:i.row+o,column:i.column+(i.row==a.row?s:0)}:{row:u.row,column:u.column}}(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(t,n,i){var e;if(e=i?{row:t,column:n}:this.$clipPositionToDocument(t,n),this.row!=e.row||this.column!=e.column){var r={row:this.row,column:this.column};this.row=e.row,this.column=e.column,this._signal("change",{old:r,value:e})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,n){var i={};return t>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):t<0?(i.row=0,i.column=0):(i.row=t,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,n))),n<0&&(i.column=0),i}}).call(r.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(t,n){var i=t("./lib/oop"),e=t("./apply_delta").applyDelta,r=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,s=t("./anchor").Anchor,u=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){i.implement(this,r),this.setValue=function(t){var n=this.getLength()-1;this.remove(new o(0,0,n,this.getLine(n).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,n){return new s(this,t,n)},this.$split=0==="aaa".split(/a/).length?function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var n=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=n?n[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,n){return this.$lines.slice(t,n+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var n;if(t.start.row===t.end.row)n=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(n=this.getLines(t.start.row,t.end.row))[0]=(n[0]||"").substring(t.start.column);var i=n.length-1;t.end.row-t.start.row==i&&(n[i]=n[i].substring(0,t.end.column))}return n},this.insertLines=function(t,n){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,n)},this.removeLines=function(t,n){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,n)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,n){return this.getLength()<=1&&this.$detectNewLine(n),this.insertMergedLines(t,this.$split(n))},this.insertInLine=function(t,n){var i=this.clippedPos(t.row,t.column),e=this.pos(t.row,t.column+n.length);return this.applyDelta({start:i,end:e,action:"insert",lines:[n]},!0),this.clonePos(e)},this.clippedPos=function(t,n){var i=this.getLength();void 0===t?t=i:t<0?t=0:t>=i&&(t=i-1,n=void 0);var e=this.getLine(t);return null==n&&(n=e.length),{row:t,column:n=Math.min(Math.max(n,0),e.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,n){return{row:t,column:n}},this.$clipPosition=function(t){var n=this.getLength();return t.row>=n?(t.row=Math.max(0,n-1),t.column=this.getLine(n-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,n){var i=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(n=n.concat([""]),i=0):(n=[""].concat(n),t--,i=this.$lines[t].length),this.insertMergedLines({row:t,column:i},n)},this.insertMergedLines=function(t,n){var i=this.clippedPos(t.row,t.column),e={row:i.row+n.length-1,column:(1==n.length?i.column:0)+n[n.length-1].length};return this.applyDelta({start:i,end:e,action:"insert",lines:n}),this.clonePos(e)},this.remove=function(t){var n=this.clippedPos(t.start.row,t.start.column),i=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:n,end:i,action:"remove",lines:this.getLinesForRange({start:n,end:i})}),this.clonePos(n)},this.removeInLine=function(t,n,i){var e=this.clippedPos(t,n),r=this.clippedPos(t,i);return this.applyDelta({start:e,end:r,action:"remove",lines:this.getLinesForRange({start:e,end:r})},!0),this.clonePos(e)},this.removeFullLines=function(t,n){t=Math.min(Math.max(0,t),this.getLength()-1);var i=(n=Math.min(Math.max(0,n),this.getLength()-1))==this.getLength()-1&&t>0,e=n<this.getLength()-1,r=i?t-1:t,s=i?this.getLine(r).length:0,u=e?n+1:n,a=e?0:this.getLine(u).length,c=new o(r,s,u,a),h=this.$lines.slice(t,n+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),h},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,n){return t instanceof o||(t=o.fromPoints(t.start,t.end)),0===n.length&&t.isEmpty()?t.start:n==this.getTextRange(t)?t.end:(this.remove(t),n?this.insert(t.start,n):t.start)},this.applyDeltas=function(t){for(var n=0;n<t.length;n++)this.applyDelta(t[n])},this.revertDeltas=function(t){for(var n=t.length-1;n>=0;n--)this.revertDelta(t[n])},this.applyDelta=function(t,n){var i="insert"==t.action;(i?t.lines.length<=1&&!t.lines[0]:!o.comparePoints(t.start,t.end))||(i&&t.lines.length>2e4?this.$splitAndapplyLargeDelta(t,2e4):(e(this.$lines,t,n),this._signal("change",t)))},this.$safeApplyDelta=function(t){var n=this.$lines.length;("remove"==t.action&&t.start.row<n&&t.end.row<n||"insert"==t.action&&t.start.row<=n)&&this.applyDelta(t)},this.$splitAndapplyLargeDelta=function(t,n){for(var i=t.lines,e=i.length-n+1,r=t.start.row,o=t.start.column,s=0,u=0;s<e;s=u){var a=i.slice(s,u+=n-1);a.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+u,o=0),action:t.action,lines:a},!0)}t.lines=i.slice(s),t.start.row=r+s,t.start.column=o,this.applyDelta(t,!0)},this.revertDelta=function(t){this.$safeApplyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,n){for(var i=this.$lines||this.getAllLines(),e=this.getNewLineCharacter().length,r=n||0,o=i.length;r<o;r++)if((t-=i[r].length+e)<0)return{row:r,column:t+i[r].length+e};return{row:o-1,column:t+i[o-1].length+e}},this.positionToIndex=function(t,n){for(var i=this.$lines||this.getAllLines(),e=this.getNewLineCharacter().length,r=0,o=Math.min(t.row,i.length),s=n||0;s<o;++s)r+=i[s].length+e;return r+t.column}}).call(u.prototype),n.Document=u})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,n){var i=t("./lib/oop"),e=t("./lib/event_emitter").EventEmitter,r=function(t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var n=this;this.$worker=function(){if(n.running){for(var t=new Date,i=n.currentLine,e=-1,r=n.doc,o=i;n.lines[i];)i++;var s=r.getLength(),u=0;for(n.running=!1;i<s;){n.$tokenizeRow(i),e=i;do{i++}while(n.lines[i]);if(++u%5==0&&new Date-t>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=i,-1==e&&(e=i),o<=e&&n.fireUpdateEvent(o,e)}}};(function(){i.implement(this,e),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,n){this._signal("update",{data:{first:t,last:n}})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var n=t.start.row,i=t.end.row-n;if(0===i)this.lines[n]=null;else if("remove"==t.action)this.lines.splice(n,i+1,null),this.states.splice(n,i+1,null);else{var e=Array(i+1);e.unshift(n,1),this.lines.splice.apply(this.lines,e),this.states.splice.apply(this.states,e)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var n=this.doc.getLine(t),i=this.tokenizer.getLineTokens(n,this.states[t-1],t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(r.prototype),n.BackgroundTokenizer=r})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,n){var i=t("./lib/lang");t("./lib/oop");var e=t("./range").Range,r=function(t,n,i){this.setRegexp(t),this.clazz=n,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,n,r,o){if(this.regExp)for(var s=o.lastRow,u=o.firstRow;u<=s;u++){var a=this.cache[u];null==a&&((a=i.getMatchOffsets(r.getLine(u),this.regExp)).length>this.MAX_RANGES&&(a=a.slice(0,this.MAX_RANGES)),a=a.map((function(t){return new e(u,t.offset,u,t.offset+t.length)})),this.cache[u]=a.length?a:"");for(var c=a.length;c--;)n.drawSingleLineMarker(t,a[c].toScreenRange(r),this.clazz,o)}}}).call(r.prototype),n.SearchHighlight=r})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(t,n){var i=t("../range").Range;function e(t,n){this.foldData=t,Array.isArray(n)?this.folds=n:n=this.folds=[n];var e=n[n.length-1];this.range=new i(n[0].start.row,n[0].start.column,e.end.row,e.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(t){t.setFoldLine(this)}),this)}(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach((function(n){n.start.row+=t,n.end.row+=t}))},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort((function(t,n){return-t.range.compareEnd(n.start.row,n.start.column)})),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,n,i){var e,r,o=0,s=this.folds,u=!0;null==n&&(n=this.end.row,i=this.end.column);for(var a=0;a<s.length;a++){if(-1==(r=(e=s[a]).range.compareStart(n,i)))return void t(null,n,i,o,u);if(!t(null,e.start.row,e.start.column,o,u)&&t(e.placeholder,e.start.row,e.start.column,o)||0===r)return;u=!e.sameRow,o=e.end.column}t(null,n,i,o,u)},this.getNextFoldTo=function(t,n){for(var i,e,r=0;r<this.folds.length;r++){if(-1==(e=(i=this.folds[r]).range.compareEnd(t,n)))return{fold:i,kind:"after"};if(0===e)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(t,n,i){var e,r,o=this.getNextFoldTo(t,n);if(o)if(e=o.fold,"inside"==o.kind&&e.start.column!=n&&e.start.row!=t)window.console&&window.console.log(t,n,e);else if(e.start.row==t){var s=(r=this.folds).indexOf(e);for(0===s&&(this.start.column+=i);s<r.length;s++){if((e=r[s]).start.column+=i,!e.sameRow)return;e.end.column+=i}this.end.column+=i}},this.split=function(t,n){var i=this.getNextFoldTo(t,n);if(!i||"inside"==i.kind)return null;var r=this.folds,o=this.foldData,s=r.indexOf(i.fold),u=r[s-1];this.end.row=u.end.row,this.end.column=u.end.column;var a=new e(o,r=r.splice(s,r.length-s));return o.splice(o.indexOf(this)+1,0,a),a},this.merge=function(t){for(var n=t.folds,i=0;i<n.length;i++)this.addFold(n[i]);var e=this.foldData;e.splice(e.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach((function(n){t.push("  "+n.toString())})),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var n=0,i=0;i<this.folds.length;i++){var e=this.folds[i];if((t-=e.start.column-n)<0)return{row:e.start.row,column:e.start.column+t};if((t-=e.placeholder.length)<0)return e.start;n=e.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(e.prototype),n.FoldLine=e})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(t,n){var i=t("./range").Range.comparePoints,e=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(t,n,e){for(var r=this.ranges,o=e||0;o<r.length;o++){var s=r[o],u=i(t,s.end);if(!(u>0)){var a=i(t,s.start);return 0===u?n&&0!==a?-o-2:o:a>0||0===a&&!n?o:-o-1}}return-o-1},this.add=function(t){var n=!t.isEmpty(),i=this.pointIndex(t.start,n);i<0&&(i=-i-1);var e=this.pointIndex(t.end,n,i);return e<0?e=-e-1:e++,this.ranges.splice(i,e-i,t)},this.addList=function(t){for(var n=[],i=t.length;i--;)n.push.apply(n,this.add(t[i]));return n},this.substractPoint=function(t){var n=this.pointIndex(t);if(n>=0)return this.ranges.splice(n,1)},this.merge=function(){for(var t,n=[],e=this.ranges,r=(e=e.sort((function(t,n){return i(t.start,n.start)})))[0],o=1;o<e.length;o++){var s=i((t=r).end,(r=e[o]).start);s<0||(0!=s||t.isEmpty()||r.isEmpty())&&(i(t.end,r.end)<0&&(t.end.row=r.end.row,t.end.column=r.end.column),e.splice(o,1),n.push(r),r=t,o--)}return this.ranges=e,n},this.contains=function(t,n){return this.pointIndex({row:t,column:n})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var n=this.pointIndex(t);if(n>=0)return this.ranges[n]},this.clipRows=function(t,n){var i=this.ranges;if(i[0].start.row>n||i[i.length-1].start.row<t)return[];var e=this.pointIndex({row:t,column:0});e<0&&(e=-e-1);var r=this.pointIndex({row:n,column:0},e);r<0&&(r=-r-1);for(var o=[],s=e;s<r;s++)o.push(i[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){for(var n=t.start,i=t.end,e=n.row,r=i.row,o=this.ranges,s=0,u=o.length;s<u&&!((h=o[s]).end.row>=e);s++);if("insert"==t.action){for(var a=r-e,c=-n.column+i.column;s<u&&!((h=o[s]).start.row>e);s++)if(h.start.row==e&&h.start.column>=n.column&&(h.start.column==n.column&&this.$bias<=0||(h.start.column+=c,h.start.row+=a)),h.end.row==e&&h.end.column>=n.column){if(h.end.column==n.column&&this.$bias<0)continue;h.end.column==n.column&&c>0&&s<u-1&&h.end.column>h.start.column&&h.end.column==o[s+1].start.column&&(h.end.column-=c),h.end.column+=c,h.end.row+=a}}else for(a=e-r,c=n.column-i.column;s<u&&!((h=o[s]).start.row>r);s++)h.end.row<r&&(e<h.end.row||e==h.end.row&&n.column<h.end.column)?(h.end.row=e,h.end.column=n.column):h.end.row==r?h.end.column<=i.column?(a||h.end.column>n.column)&&(h.end.column=n.column,h.end.row=n.row):(h.end.column+=c,h.end.row+=a):h.end.row>r&&(h.end.row+=a),h.start.row<r&&(e<h.start.row||e==h.start.row&&n.column<h.start.column)?(h.start.row=e,h.start.column=n.column):h.start.row==r?h.start.column<=i.column?(a||h.start.column>n.column)&&(h.start.column=n.column,h.start.row=n.row):(h.start.column+=c,h.start.row+=a):h.start.row>r&&(h.start.row+=a);if(0!=a&&s<u)for(;s<u;s++){var h;(h=o[s]).start.row+=a,h.end.row+=a}}}).call(e.prototype),n.RangeList=e})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(t,n){var i=t("../range_list").RangeList,e=t("../lib/oop"),r=n.Fold=function(t,n){this.foldLine=null,this.placeholder=n,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};function o(t,n){t.row-=n.row,0==t.row&&(t.column-=n.column)}function s(t,n){0==t.row&&(t.column+=n.column),t.row+=n.row}e.inherits(r,i),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach((function(n){n.setFoldLine(t)}))},this.clone=function(){var t=this.range.clone(),n=new r(t,this.placeholder);return this.subFolds.forEach((function(t){n.subFolds.push(t.clone())})),n.collapseChildren=this.collapseChildren,n},this.addSubFold=function(t){if(!this.range.isEqual(t)){var n,i;o((n=t).start,i=this.start),o(n.end,i);for(var e=t.start.row,r=t.start.column,s=0,u=-1;s<this.subFolds.length&&1==(u=this.subFolds[s].range.compare(e,r));s++);var a=this.subFolds[s],c=0;if(0==u){if(a.range.containsRange(t))return a.addSubFold(t);c=1}e=t.range.end.row,r=t.range.end.column;var h=s;for(u=-1;h<this.subFolds.length&&1==(u=this.subFolds[h].range.compare(e,r));h++);0==u&&h++;for(var f=this.subFolds.splice(s,h-s,t),l=0==u?f.length-1:f.length,d=c;d<l;d++)t.addSubFold(f[d]);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return function(t,n){s(t.start,n),s(t.end,n)}(t,this.start)}}.call(r.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(t,n){var i=t("../range").Range,e=t("./fold_line").FoldLine,r=t("./fold").Fold,o=t("../token_iterator").TokenIterator;n.Folding=function(){this.getFoldAt=function(t,n,i){var e=this.getFoldLine(t);if(!e)return null;for(var r=e.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(t,n)){if(1==i&&s.isEnd(t,n)&&!s.isEmpty())continue;if(-1==i&&s.isStart(t,n)&&!s.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(t){var n=t.start,i=t.end,e=this.$foldData,r=[];n.column+=1,i.column-=1;for(var o=0;o<e.length;o++){var s=e[o].range.compareRange(t);if(2!=s){if(-2==s)break;for(var u=e[o].folds,a=0;a<u.length;a++){var c=u[a];if(-2==(s=c.range.compareRange(t)))break;if(2!=s){if(42==s)break;r.push(c)}}}}return n.column-=1,i.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){n=n.concat(this.getFoldsInRange(t))}),this)}else n=this.getFoldsInRange(t);return n},this.getAllFolds=function(){for(var t=[],n=this.$foldData,i=0;i<n.length;i++)for(var e=0;e<n[i].folds.length;e++)t.push(n[i].folds[e]);return t},this.getFoldStringAt=function(t,n,i,e){if(!(e=e||this.getFoldLine(t)))return null;for(var r,o,s={end:{column:0}},u=0;u<e.folds.length;u++){var a=(o=e.folds[u]).range.compareEnd(t,n);if(-1==a){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===a)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==i?r.substring(0,n-s.end.column):1==i?r.substring(n-s.end.column):r},this.getFoldLine=function(t,n){var i=this.$foldData,e=0;for(n&&(e=i.indexOf(n)),-1==e&&(e=0);e<i.length;e++){var r=i[e];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,n){var i=this.$foldData,e=0;for(n&&(e=i.indexOf(n)),-1==e&&(e=0);e<i.length;e++){var r=i[e];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,n){for(var i=this.$foldData,e=n-t+1,r=0;r<i.length;r++){var o=i[r],s=o.end.row,u=o.start.row;if(s>=n){u<n&&(u>=t?e-=n-u:e=0);break}s>=t&&(e-=u>=t?s-u:s-t+1)}return e},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort((function(t,n){return t.start.row-n.start.row})),t},this.addFold=function(t,n){var i,o=this.$foldData,s=!1;t instanceof r?i=t:(i=new r(n,t)).collapseChildren=n.collapseChildren,this.$clipRangeToDocument(i.range);var u=i.start.row,a=i.start.column,c=i.end.row,h=i.end.column,f=this.getFoldAt(u,a,1),l=this.getFoldAt(c,h,-1);if(f&&l==f)return f.addSubFold(i);f&&!f.range.isStart(u,a)&&this.removeFold(f),l&&!l.range.isEnd(c,h)&&this.removeFold(l);var d=this.getFoldsInRange(i.range);d.length>0&&(this.removeFolds(d),i.collapseChildren||d.forEach((function(t){i.addSubFold(t)})));for(var v=0;v<o.length;v++){var p=o[v];if(c==p.start.row){p.addFold(i),s=!0;break}if(u==p.end.row){if(p.addFold(i),s=!0,!i.sameRow){var m=o[v+1];if(m&&m.start.row==c){p.merge(m);break}}break}if(c<=p.start.row)break}return s||(p=this.$addFoldLine(new e(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(p.start.row,p.start.row):this.$updateRowLengthCache(p.start.row,p.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(t){t.forEach((function(t){this.addFold(t)}),this)},this.removeFold=function(t){var n=t.foldLine,i=n.start.row,e=n.end.row,r=this.$foldData,o=n.folds;if(1==o.length)r.splice(r.indexOf(n),1);else if(n.range.isEnd(t.end.row,t.end.column))o.pop(),n.end.row=o[o.length-1].end.row,n.end.column=o[o.length-1].end.column;else if(n.range.isStart(t.start.row,t.start.column))o.shift(),n.start.row=o[0].start.row,n.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var s=n.split(t.start.row,t.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,e):this.$updateRowLengthCache(i,e)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var n=[],i=0;i<t.length;i++)n.push(t[i]);n.forEach((function(t){this.removeFold(t)}),this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach((function(n){t.restoreRange(n),this.addFold(n)}),this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach((function(t){this.expandFold(t)}),this)},this.unfold=function(t,n){var e,r;if(null==t?(e=new i(0,0,this.getLength(),0),null==n&&(n=!0)):e="number"==typeof t?new i(t,0,t,this.getLine(t).length):"row"in t?i.fromPoints(t,t):t,r=this.getFoldsInRangeList(e),0!=n?this.removeFolds(r):this.expandFolds(r),r.length)return r},this.isRowFolded=function(t,n){return!!this.getFoldLine(t,n)},this.getRowFoldEnd=function(t,n){var i=this.getFoldLine(t,n);return i?i.end.row:t},this.getRowFoldStart=function(t,n){var i=this.getFoldLine(t,n);return i?i.start.row:t},this.getFoldDisplayLine=function(t,n,i,e,r){null==e&&(e=t.start.row),null==r&&(r=0),null==n&&(n=t.end.row),null==i&&(i=this.getLine(n).length);var o=this.doc,s="";return t.walk((function(t,n,i,u){if(!(n<e)){if(n==e){if(i<r)return;u=Math.max(r,u)}s+=null!=t?t:o.getLine(n).substring(u,i)}}),n,i),s},this.getDisplayLine=function(t,n,i,e){var r,o=this.getFoldLine(t);return o?this.getFoldDisplayLine(o,t,n,i,e):(r=this.doc.getLine(t)).substring(e||0,n||r.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map((function(n){var i=n.folds.map((function(t){return t.clone()}));return new e(t,i)}))},this.toggleFold=function(t){var n,i,e=this.selection.getRange();if(e.isEmpty()){var r=e.start;if(n=this.getFoldAt(r.row,r.column))return void this.expandFold(n);(i=this.findMatchingBracket(r))?1==e.comparePoint(i)?e.end=i:(e.start=i,e.start.column++,e.end.column--):(i=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==e.comparePoint(i)?e.end=i:e.start=i,e.start.column++):e=this.getCommentFoldRange(r.row,r.column)||e}else{var o=this.getFoldsInRange(e);if(t&&o.length)return void this.expandFolds(o);1==o.length&&(n=o[0])}if(n||(n=this.getFoldAt(e.start.row,e.start.column)),n&&n.range.toString()==e.toString())this.expandFold(n);else{var s="...";if(!e.isMultiLine()){if((s=this.getTextRange(e)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,e)}},this.getCommentFoldRange=function(t,n,e){var r=new o(this,t,n),s=r.getCurrentToken(),u=s&&s.type;if(s&&/^comment|string/.test(u)){"comment"==(u=u.match(/comment|string/)[0])&&(u+="|doc-start");var a=new RegExp(u),c=new i;if(1!=e){do{s=r.stepBackward()}while(s&&a.test(s.type));r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+2,r=new o(this,t,n),-1!=e){var h=-1;do{if(s=r.stepForward(),-1==h){var f=this.getState(r.$row);a.test(f)||(h=r.$row)}else if(r.$row>h)break}while(s&&a.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn()+s.value.length-2,c}},this.foldAll=function(t,n,i,e){null==i&&(i=1e5);var r=this.foldWidgets;if(r){n=n||this.getLength();for(var o=t=t||0;o<n;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]&&(!e||e(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=n&&s.start.row>=t&&(o=s.end.row,s.collapseChildren=i,this.addFold("...",s))}}},this.foldToLevel=function(t){for(this.foldAll();t-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var t=this;this.foldAll(null,null,null,(function(n){for(var i=t.getTokens(n),e=0;e<i.length;e++){var r=i[e];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var n=this.$foldMode;this.$setFolding(null),this.$setFolding(n)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,n){var i=this.foldWidgets;if(!i||n&&i[t])return{};for(var e,r=t-1;r>=0;){var o=i[r];if(null==o&&(o=i[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(e||(e=s),s&&s.end.row>=t)break}r--}return{range:-1!==r&&s,firstRange:e}},this.onFoldWidgetClick=function(t,n){if(!this.$toggleFoldWidget(t,{children:(n=n.domEvent).shiftKey,all:n.ctrlKey||n.metaKey,siblings:n.altKey})){var i=n.target||n.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,n){if(this.getFoldWidget){var i=this.getFoldWidget(t),e=this.getLine(t),r="end"===i?-1:1,o=this.getFoldAt(t,-1===r?0:e.length,r);if(o)return n.children||n.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(t,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(n.siblings){var u=this.getParentFoldRangeData(t);if(u.range)var a=u.range.start.row+1,c=u.range.end.row;this.foldAll(a,c,n.all?1e4:0)}else n.children?(c=s?s.end.row:this.getLength(),this.foldAll(t+1,c,n.all?1e4:0)):s&&(n.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){var e=this.getFoldAt(t=n.start.row,this.getLine(t).length,1);e?this.removeFold(e):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var n=t.start.row,i=t.end.row-n;if(0===i)this.foldWidgets[n]=null;else if("remove"==t.action)this.foldWidgets.splice(n,i+1,null);else{var e=Array(i+1);e.unshift(n,1),this.foldWidgets.splice.apply(this.foldWidgets,e)}},this.tokenizerUpdateFoldWidgets=function(t){var n=t.data;n.first!=n.last&&this.foldWidgets.length>n.first&&this.foldWidgets.splice(n.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(t,n){var i=t("../token_iterator").TokenIterator,e=t("../range").Range;n.BracketMatch=function(){this.findMatchingBracket=function(t,n){if(0==t.column)return null;var i=n||this.getLine(t.row).charAt(t.column-1);if(""==i)return null;var e=i.match(/([\(\[\{])|([\)\]\}])/);return e?e[1]?this.$findClosingBracket(e[1],t):this.$findOpeningBracket(e[2],t):null},this.getBracketRange=function(t){var n,i=this.getLine(t.row),r=!0,o=i.charAt(t.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=i.charAt(t.column),t={row:t.row,column:t.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){if(!(u=this.$findClosingBracket(s[1],t)))return null;n=e.fromPoints(t,u),r||(n.end.column++,n.start.column--),n.cursor=n.end}else{var u;if(!(u=this.$findOpeningBracket(s[2],t)))return null;n=e.fromPoints(u,t),r||(n.start.column++,n.end.column--),n.cursor=n.start}return n},this.getMatchingBracketRanges=function(t){var n=this.getLine(t.row),i=n.charAt(t.column-1),r=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(r||(i=n.charAt(t.column),t={row:t.row,column:t.column+1},r=i&&i.match(/([\(\[\{])|([\)\]\}])/)),!r)return null;var o=new e(t.row,t.column-1,t.row,t.column),s=r[1]?this.$findClosingBracket(r[1],t):this.$findOpeningBracket(r[2],t);return s?[o,new e(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(t,n,e){var r=this.$brackets[t],o=1,s=new i(this,n.row,n.column),u=s.getCurrentToken();if(u||(u=s.stepForward()),u){e||(e=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var a=n.column-s.getCurrentTokenColumn()-2,c=u.value;;){for(;a>=0;){var h=c.charAt(a);if(h==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:a+s.getCurrentTokenColumn()}}else h==t&&(o+=1);a-=1}do{u=s.stepBackward()}while(u&&!e.test(u.type));if(null==u)break;a=(c=u.value).length-1}return null}},this.$findClosingBracket=function(t,n,e){var r=this.$brackets[t],o=1,s=new i(this,n.row,n.column),u=s.getCurrentToken();if(u||(u=s.stepForward()),u){e||(e=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var a=n.column-s.getCurrentTokenColumn();;){for(var c=u.value,h=c.length;a<h;){var f=c.charAt(a);if(f==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:a+s.getCurrentTokenColumn()}}else f==t&&(o+=1);a+=1}do{u=s.stepForward()}while(u&&!e.test(u.type));if(null==u)break;a=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(t,n){var i=t("./lib/oop"),e=t("./lib/lang"),r=t("./bidihandler").BidiHandler,o=t("./config"),s=t("./lib/event_emitter").EventEmitter,u=t("./selection").Selection,a=t("./mode/text").Mode,c=t("./range").Range,h=t("./document").Document,f=t("./background_tokenizer").BackgroundTokenizer,l=t("./search_highlight").SearchHighlight,d=function(t,n){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++d.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.setDocument(t),this.selection=new u(this),this.$bidiHandler=new r(this),o.resetOptions(this),this.setMode(n),o._signal("session",this)};d.$uid=0,function(){i.implement(this,s),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var n=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,t)+1;n>i&&(this.$docRowCache.splice(i,n),this.$screenRowCache.splice(i,n))},this.$getRowCacheIndex=function(t,n){for(var i=0,e=t.length-1;i<=e;){var r=i+e>>1,o=t[r];if(n>o)i=r+1;else{if(!(n<o))return r;e=r-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){this.$resetRowCache(t.data.start.row)},this.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var n=this.$updateInternalDataOnChange(t);!this.$fromUndo&&this.$undoManager&&(n&&n.length&&(this.$undoManager.add({action:"removeFolds",folds:n},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(t,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,n){var i,e=this.bgTokenizer.getTokens(t),r=0;if(null==n){var o=e.length-1;r=this.getLine(t).length}else for(o=0;o<e.length&&!((r+=e[o].value.length)>=n);o++);return(i=e[o])?(i.index=o,i.start=r-i.value.length,i):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$informUndoManager&&this.$informUndoManager.cancel(),t){var n=this;t.addSession(this),this.$syncInformUndoManager=function(){n.$informUndoManager.cancel(),n.mergeUndoDeltas=!1},this.$informUndoManager=e.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?e.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,n){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+n,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,n){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+n,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var n=0;n<t.length;n++)this.$breakpoints[t[n]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,n){void 0===n&&(n="ace_breakpoint"),n?this.$breakpoints[t]=n:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,n,i,e){var r=this.$markerId++,o={range:t,type:i||"line",renderer:"function"==typeof i?i:null,clazz:n,inFront:!!e,id:r};return e?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,n){if(t.update){var i=this.$markerId++;return t.id=i,t.inFront=!!n,n?(this.$frontMarkers[i]=t,this._signal("changeFrontMarker")):(this.$backMarkers[i]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var n=this.$frontMarkers[t]||this.$backMarkers[t];n&&(delete(n.inFront?this.$frontMarkers:this.$backMarkers)[t],this._signal(n.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var n=new l(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(n)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,n,i,e){"number"!=typeof n&&(i=n,n=t),i||(i="ace_step");var r=new c(t,0,n,1/0);return r.id=this.addMarker(r,i,"fullLine",e),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var n=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=n?n[1]:"\n"},this.getWordRange=function(t,n){var i=this.getLine(t),e=!1;if(n>0&&(e=!!i.charAt(n-1).match(this.tokenRe)),e||(e=!!i.charAt(n).match(this.tokenRe)),e)var r=this.tokenRe;else r=/^\s+$/.test(i.slice(n-1,n+1))?/\s/:this.nonTokenRe;var o=n;if(o>0){do{o--}while(o>=0&&i.charAt(o).match(r));o++}for(var s=n;s<i.length&&i.charAt(s).match(r);)s++;return new c(t,o,t,s)},this.getAWordRange=function(t,n){for(var i=this.getWordRange(t,n),e=this.getLine(i.end.row);e.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){this.bgTokenizer.start(t.data.first),this._signal("tokenizerUpdate",t)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(t,n){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var i=t,e=t.path}else e=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[e]&&!i)return this.$onChangeMode(this.$modes[e]),void(n&&n());this.$modeId=e,o.loadModule(["mode",e],function(t){if(this.$modeId!==e)return n&&n();this.$modes[e]&&!i?this.$onChangeMode(this.$modes[e]):t&&t.Mode&&(t=new t.Mode(i),i||(this.$modes[e]=t,t.$id=e),this.$onChangeMode(t)),n&&n()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,n){if(n||(this.$modeId=t.$id),this.$mode!==t){var i=this.$mode;this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var e=t.getTokenizer();if(void 0!==e.on){var r=this.onReloadTokenizer.bind(this);e.on("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(e);else{this.bgTokenizer=new f(e);var o=this;this.bgTokenizer.on("update",(function(t){o._signal("tokenizerUpdate",t)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,n||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:i,mode:t}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){o.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach((function(n){n&&n.screenWidth>t&&(t=n.screenWidth)})),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var n=this.doc.getAllLines(),i=this.$rowLengthCache,e=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,u=n.length,a=0;a<u;a++){if(a>s){if((a=o.end.row+1)>=u)break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==i[a]&&(i[a]=this.$getStringScreenWidth(n[a])[0]),i[a]>e&&(e=i[a])}this.screenWidth=e}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,n){return this.doc.getLines(t,n)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,n){return this.doc.insert(t,n)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,n){return this.doc.removeFullLines(t,n)},this.undoChanges=function(t,n){if(t.length){this.$fromUndo=!0;for(var i=t.length-1;-1!=i;i--){var e=t[i];"insert"==e.action||"remove"==e.action?this.doc.revertDelta(e):e.folds&&this.addFolds(e.folds)}!n&&this.$undoSelect&&(t.selectionBefore?this.selection.fromJSON(t.selectionBefore):this.selection.setRange(this.$getUndoSelection(t,!0))),this.$fromUndo=!1}},this.redoChanges=function(t,n){if(t.length){this.$fromUndo=!0;for(var i=0;i<t.length;i++){var e=t[i];"insert"!=e.action&&"remove"!=e.action||this.doc.$safeApplyDelta(e)}!n&&this.$undoSelect&&(t.selectionAfter?this.selection.fromJSON(t.selectionAfter):this.selection.setRange(this.$getUndoSelection(t,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,n){function i(t){return n?"insert"!==t.action:"insert"===t.action}for(var e,r,o=0;o<t.length;o++){var s=t[o];s.start&&(e?i(s)?(-1==e.compare((r=s.start).row,r.column)&&e.setStart(r),1==e.compare((r=s.end).row,r.column)&&e.setEnd(r)):-1==e.compare((r=s.start).row,r.column)&&(e=c.fromPoints(s.start,s.start)):e=i(s)?c.fromPoints(s.start,s.end):c.fromPoints(s.start,s.start))}return e},this.replace=function(t,n){return this.doc.replace(t,n)},this.moveText=function(t,n,i){var e=this.getTextRange(t),r=this.getFoldsInRange(t),o=c.fromPoints(n,n);if(i||(this.remove(t),(h=(a=t.start.row-t.end.row)?-t.end.column:t.start.column-t.end.column)&&(o.start.row==t.end.row&&o.start.column>t.end.column&&(o.start.column+=h),o.end.row==t.end.row&&o.end.column>t.end.column&&(o.end.column+=h)),a&&o.start.row>=t.end.row&&(o.start.row+=a,o.end.row+=a)),o.end=this.insert(o.start,e),r.length){var s=t.start,u=o.start,a=u.row-s.row,h=u.column-s.column;this.addFolds(r.map((function(t){return(t=t.clone()).start.row==s.row&&(t.start.column+=h),t.end.row==s.row&&(t.end.column+=h),t.start.row+=a,t.end.row+=a,t})))}return o},this.indentRows=function(t,n,i){i=i.replace(/\t/g,this.getTabString());for(var e=t;e<=n;e++)this.doc.insertInLine({row:e,column:0},i)},this.outdentRows=function(t){for(var n=t.collapseRows(),i=new c(0,0,0,0),e=this.getTabSize(),r=n.start.row;r<=n.end.row;++r){var o=this.getLine(r);i.start.row=r,i.end.row=r;for(var s=0;s<e&&" "==o.charAt(s);++s);s<e&&"\t"==o.charAt(s)?(i.start.column=s,i.end.column=s+1):(i.start.column=0,i.end.column=s),this.remove(i)}},this.$moveLines=function(t,n,i){if(t=this.getRowFoldStart(t),n=this.getRowFoldEnd(n),i<0){if((r=this.getRowFoldStart(t+i))<0)return 0;var e=r-t}else if(i>0){var r;if((r=this.getRowFoldEnd(n+i))>this.doc.getLength()-1)return 0;e=r-n}else t=this.$clipRowToDocument(t),e=(n=this.$clipRowToDocument(n))-t+1;var o=new c(t,0,n,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(t){return(t=t.clone()).start.row+=e,t.end.row+=e,t})),u=0==i?this.doc.getLines(t,n):this.doc.removeFullLines(t,n);return this.doc.insertFullLines(t+e,u),s.length&&this.addFolds(s),e},this.moveLinesUp=function(t,n){return this.$moveLines(t,n,-1)},this.moveLinesDown=function(t,n){return this.$moveLines(t,n,1)},this.duplicateLines=function(t,n){return this.$moveLines(t,n,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,n){return n<0?0:Math.min(this.doc.getLine(t).length,n)},this.$clipPositionToDocument=function(t,n){if(n=Math.max(0,n),t<0)t=0,n=0;else{var i=this.doc.getLength();t>=i?(t=i-1,n=this.doc.getLine(i-1).length):n=Math.min(this.doc.getLine(t).length,n)}return{row:t,column:n}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var n=this.doc.getLength()-1;return t.end.row>n?(t.end.row=n,t.end.column=this.doc.getLine(n).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var n=this.getLength();this.$wrapData=Array(n),this.$updateWrapData(0,n-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,n){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===n||(this.$wrapLimitRange={min:t,max:n},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,n){var i=this.$wrapLimitRange;i.max<0&&(i={min:n,max:n});var e=this.$constrainWrapLimit(t,i.min,i.max);return e!=this.$wrapLimit&&e>1&&(this.$wrapLimit=e,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,n,i){return n&&(t=Math.max(n,t)),i&&(t=Math.min(i,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var n=this.$useWrapMode,i=t.action,e=t.start,r=t.end,o=e.row,s=r.row,u=s-o,a=null;if(this.$updating=!0,0!=u)if("remove"===i){this[n?"$wrapData":"$rowLengthCache"].splice(o,u);var c=this.$foldData;a=this.getFoldsInRange(t),this.removeFolds(a);var h=0;if(p=this.getFoldLine(r.row)){p.addRemoveChars(r.row,r.column,e.column-r.column),p.shiftRow(-u);var f=this.getFoldLine(o);f&&f!==p&&(f.merge(p),p=f),h=c.indexOf(p)+1}for(;h<c.length;h++)(p=c[h]).start.row>=r.row&&p.shiftRow(-u);s=o}else{var l=Array(u);l.unshift(o,0);var d=n?this.$wrapData:this.$rowLengthCache;if(d.splice.apply(d,l),c=this.$foldData,h=0,p=this.getFoldLine(o)){var v=p.range.compareInside(e.row,e.column);0==v?(p=p.split(e.row,e.column))&&(p.shiftRow(u),p.addRemoveChars(s,0,r.column-e.column)):-1==v&&(p.addRemoveChars(o,0,r.column-e.column),p.shiftRow(u)),h=c.indexOf(p)+1}for(;h<c.length;h++){var p;(p=c[h]).start.row>=o&&p.shiftRow(u)}}else u=Math.abs(t.start.column-t.end.column),"remove"===i&&(a=this.getFoldsInRange(t),this.removeFolds(a),u=-u),(p=this.getFoldLine(o))&&p.addRemoveChars(o,e.column,u);return n&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,n?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),a},this.$updateRowLengthCache=function(t,n){this.$rowLengthCache[t]=null,this.$rowLengthCache[n]=null},this.$updateWrapData=function(i,e){var r,o,s=this.doc.getAllLines(),u=this.getTabSize(),a=this.$wrapData,c=this.$wrapLimit,h=i;for(e=Math.min(e,s.length-1);h<=e;)(o=this.getFoldLine(h,o))?(r=[],o.walk(function(i,e,o,u){var a;if(null!=i){(a=this.$getDisplayTokens(i,r.length))[0]=t;for(var c=1;c<a.length;c++)a[c]=n}else a=this.$getDisplayTokens(s[e].substring(u,o),r.length);r=r.concat(a)}.bind(this),o.end.row,s[o.end.row].length+1),a[o.start.row]=this.$computeWrapSplits(r,c,u),h=o.end.row+1):(r=this.$getDisplayTokens(s[h]),a[h]=this.$computeWrapSplits(r,c,u),h++)};var t=3,n=4;function r(t){return!(t<4352)&&(t>=4352&&t<=4447||t>=4515&&t<=4519||t>=4602&&t<=4607||t>=9001&&t<=9002||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12283||t>=12288&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12589||t>=12593&&t<=12686||t>=12688&&t<=12730||t>=12736&&t<=12771||t>=12784&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=13054||t>=13056&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=55216&&t<=55238||t>=55243&&t<=55291||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510)}this.$computeWrapSplits=function(i,e,r){if(0==i.length)return[];var o=[],s=i.length,u=0,a=0,c=this.$wrapAsCode,h=this.$indentedSoftWrap,f=e<=Math.max(2*r,8)||!1===h?0:Math.floor(e/2);function l(t){for(var n=t-u,e=u;e<t;e++){var s=i[e];12!==s&&2!==s||(n-=1)}o.length||(d=function(){var t=0;if(0===f)return t;if(h)for(var n=0;n<i.length;n++){var e=i[n];if(10==e)t+=1;else{if(11!=e){if(12==e)continue;break}t+=r}}return c&&!1!==h&&(t+=r),Math.min(t,f)}(),o.indent=d),o.push(a+=n),u=t}for(var d=0;s-u>e-d;){var v=u+e-d;if(i[v-1]>=10&&i[v]>=10)l(v);else if(i[v]!=t&&i[v]!=n){for(var p=Math.max(v-(e-(e>>2)),u-1);v>p&&i[v]<t;)v--;if(c){for(;v>p&&i[v]<t;)v--;for(;v>p&&9==i[v];)v--}else for(;v>p&&i[v]<10;)v--;v>p?l(++v):(2==i[v=u+e]&&v--,l(v-d))}else{for(;v!=u-1&&i[v]!=t;v--);if(v>u){l(v);continue}for(v=u+e;v<i.length&&i[v]==n;v++);if(v==i.length)break;l(v)}}return o},this.$getDisplayTokens=function(t,n){var i,e=[];n=n||0;for(var o=0;o<t.length;o++){var s=t.charCodeAt(o);if(9==s){i=this.getScreenTabSize(e.length+n),e.push(11);for(var u=1;u<i;u++)e.push(12)}else 32==s?e.push(10):s>39&&s<48||s>57&&s<64?e.push(9):s>=4352&&r(s)?e.push(1,2):e.push(1)}return e},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];var e,o;for(null==n&&(n=1/0),i=i||0,o=0;o<t.length&&(9==(e=t.charCodeAt(o))?i+=this.getScreenTabSize(i):e>=4352&&r(e)?i+=2:i+=1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(t){var n=1;return this.lineWidgets&&(n+=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0),this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+n:n},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var n=this.screenToDocumentPosition(t,Number.MAX_VALUE),i=this.$wrapData[n.row];return i.length&&i[0]<n.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(t){var n=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(n.row,n.column)},this.getDocumentLastRowColumn=function(t,n){var i=this.documentToScreenRow(t,n);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(t,n){var i=this.documentToScreenRow(t,n);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-(t%this.$tabSize|0)},this.screenToDocumentRow=function(t,n){return this.screenToDocumentPosition(t,n).row},this.screenToDocumentColumn=function(t,n){return this.screenToDocumentPosition(t,n).column},this.screenToDocumentPosition=function(t,n,i){if(t<0)return{row:0,column:0};var e,r,o=0,s=0,u=0,a=0,c=this.$screenRowCache,h=this.$getRowCacheIndex(c,t),f=c.length;if(f&&h>=0){u=c[h],o=this.$docRowCache[h];var l=t>c[f-1]}else l=!f;for(var d=this.getLength()-1,v=this.getNextFoldLine(o),p=v?v.start.row:1/0;u<=t&&!(u+(a=this.getRowLength(o))>t||o>=d);)u+=a,++o>p&&(p=(v=this.getNextFoldLine(o=v.end.row+1,v))?v.start.row:1/0),l&&(this.$docRowCache.push(o),this.$screenRowCache.push(u));if(v&&v.start.row<=o)e=this.getFoldDisplayLine(v),o=v.start.row;else{if(u+a<=t||o>d)return{row:d,column:this.getLine(d).length};e=this.getLine(o),v=null}var m=0,b=Math.floor(t-u);if(this.$useWrapMode){var g=this.$wrapData[o];g&&(r=g[b],b>0&&g.length&&(m=g.indent,e=e.substring(s=g[b-1]||g[g.length-1])))}return void 0!==i&&this.$bidiHandler.isBidiRow(u+b,o,b)&&(n=this.$bidiHandler.offsetToCol(i)),s+=this.$getStringScreenWidth(e,n-m)[1],this.$useWrapMode&&s>=r&&(s=r-1),v?v.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(t,n){if(void 0===n)var i=this.$clipPositionToDocument(t.row,t.column);else i=this.$clipPositionToDocument(t,n);var e,r=0,o=null;(e=this.getFoldAt(t=i.row,n=i.column,1))&&(t=e.start.row,n=e.start.column);var s,u=0,a=this.$docRowCache,c=this.$getRowCacheIndex(a,t),h=a.length;if(h&&c>=0){u=a[c],r=this.$screenRowCache[c];var f=t>a[h-1]}else f=!h;for(var l=this.getNextFoldLine(u),d=l?l.start.row:1/0;u<t;){if(u>=d){if((s=l.end.row+1)>t)break;d=(l=this.getNextFoldLine(s,l))?l.start.row:1/0}else s=u+1;r+=this.getRowLength(u),u=s,f&&(this.$docRowCache.push(u),this.$screenRowCache.push(r))}var v="";l&&u>=d?(v=this.getFoldDisplayLine(l,t,n),o=l.start.row):(v=this.getLine(t).substring(0,n),o=t);var p=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var b=0;v.length>=m[b];)r++,b++;v=v.substring(m[b-1]||0,v.length),p=b>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[u]&&this.lineWidgets[u].rowsAbove&&(r+=this.lineWidgets[u].rowsAbove),{row:r,column:p+this.$getStringScreenWidth(v)[0]}},this.documentToScreenColumn=function(t,n){return this.documentToScreenPosition(t,n).column},this.documentToScreenRow=function(t,n){return this.documentToScreenPosition(t,n).row},this.getScreenLength=function(){var t=0,n=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,e=0,r=(u=0,(n=this.$foldData[u++])?n.start.row:1/0);e<i;){var o=this.$wrapData[e];t+=o?o.length+1:1,++e>r&&(e=n.end.row+1,r=(n=this.$foldData[u++])?n.start.row:1/0)}else{t=this.getLength();for(var s=this.$foldData,u=0;u<s.length;u++)t-=(n=s[u]).end.row-n.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(n,i,e){if(0===i)return[0,0];var r,o;for(i||(i=1/0),e=e||0,o=0;o<n.length&&!((e+="\t"===(r=n.charAt(o))?this.getScreenTabSize(e):t.getCharacterWidth(r))>i);o++);return[e,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=r}.call(d.prototype),t("./edit_session/folding").Folding.call(d.prototype),t("./edit_session/bracket_match").BracketMatch.call(d.prototype),o.defineOptions(d.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var n="number"==typeof t?t:null;this.setWrapLimitRange(n,n),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){(t=parseInt(t))>0&&this.$tabSize!==t&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(t){this.setFoldStyle(t)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId},handlesSet:!0}}),n.EditSession=d})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,n){var i=t("./lib/lang"),e=t("./lib/oop"),r=t("./range").Range,o=function(){this.$options={}};(function(){this.set=function(t){return e.mixin(this.$options,t),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var n=this.$options,i=this.$matchIterator(t,n);if(!i)return!1;var e=null;return i.forEach((function(t,i,o,s){return e=new r(t,i,o,s),!(i==s&&n.start&&n.start.start&&0!=n.skipCurrent&&e.isEqual(n.start)&&(e=null,1))})),e},this.findAll=function(t){var n=this.$options;if(!n.needle)return[];this.$assembleRegExp(n);var e=n.range,o=e?t.getLines(e.start.row,e.end.row):t.doc.getAllLines(),s=[],u=n.re;if(n.$isMultiLine){var a,c=u.length,h=o.length-c;t:for(var f=u.offset||0;f<=h;f++){for(var l=0;l<c;l++)if(-1==o[f+l].search(u[l]))continue t;var d=o[f],v=o[f+c-1],p=d.length-d.match(u[0])[0].length,m=v.match(u[c-1])[0].length;a&&a.end.row===f&&a.end.column>p||(s.push(a=new r(f,p,f+c-1,m)),c>2&&(f=f+c-2))}}else for(var b=0;b<o.length;b++){var g=i.getMatchOffsets(o[b],u);for(l=0;l<g.length;l++){var y=g[l];s.push(new r(b,y.offset,b,y.offset+y.length))}}if(e){var w=e.start.column,x=e.start.column;for(b=0,l=s.length-1;b<l&&s[b].start.column<w&&s[b].start.row==e.start.row;)b++;for(;b<l&&s[l].end.column>x&&s[l].end.row==e.end.row;)l--;for(s=s.slice(b,l+1),b=0,l=s.length;b<l;b++)s[b].start.row+=e.start.row,s[b].end.row+=e.start.row}return s},this.replace=function(t,n){var i=this.$options,e=this.$assembleRegExp(i);if(i.$isMultiLine)return n;if(e){var r=e.exec(t);if(!r||r[0].length!=t.length)return null;if(n=t.replace(e,n),i.preserveCase){n=n.split("");for(var o=Math.min(t.length,t.length);o--;){var s=t[o];n[o]=s&&s.toLowerCase()!=s?n[o].toUpperCase():n[o].toLowerCase()}n=n.join("")}return n}},this.$assembleRegExp=function(t,n){if(t.needle instanceof RegExp)return t.re=t.needle;var e=t.needle;if(!t.needle)return t.re=!1;t.regExp||(e=i.escapeRegExp(e)),t.wholeWord&&(e=function(t,n){function i(t){return/\w/.test(t)||n.regExp?"\\b":""}return i(t[0])+t+i(t[t.length-1])}(e,t));var r=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!n&&/[\n\r]/.test(e),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(e,r);try{var o=new RegExp(e,r)}catch(t){o=!1}return t.re=o},this.$assembleMultilineRegExp=function(t,n){for(var i=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),e=[],r=0;r<i.length;r++)try{e.push(new RegExp(i[r],n))}catch(t){return!1}return e},this.$matchIterator=function(t,n){var i=this.$assembleRegExp(n);if(!i)return!1;var e=1==n.backwards,r=0!=n.skipCurrent,o=n.range,s=n.start;s||(s=o?o[e?"end":"start"]:t.selection.getRange()),s.start&&(s=s[r!=e?"end":"start"]);var u=o?o.start.row:0,a=o?o.end.row:t.getLength()-1;if(e)var c=function(t){var i=s.row;if(!f(i,s.column,t)){for(i--;i>=u;i--)if(f(i,Number.MAX_VALUE,t))return;if(0!=n.wrap)for(i=a,u=s.row;i>=u;i--)if(f(i,Number.MAX_VALUE,t))return}};else c=function(t){var i=s.row;if(!f(i,s.column,t)){for(i+=1;i<=a;i++)if(f(i,0,t))return;if(0!=n.wrap)for(i=u,a=s.row;i<=a;i++)if(f(i,0,t))return}};if(n.$isMultiLine)var h=i.length,f=function(n,r,o){var s=e?n-h+1:n;if(!(s<0)){var u=t.getLine(s),a=u.search(i[0]);if(!(!e&&a<r||-1===a)){for(var c=1;c<h;c++)if(-1==(u=t.getLine(s+c)).search(i[c]))return;var f=u.match(i[h-1])[0].length;if(!(e&&f>r))return!!o(s,a,s+h-1,f)||void 0}}};else f=e?function(n,e,r){var o,s=t.getLine(n),u=[],a=0;for(i.lastIndex=0;o=i.exec(s);){if(a=o.index,!(h=o[0].length)){if(a>=s.length)break;i.lastIndex=a+=1}if(o.index+h>e)break;u.push(o.index,h)}for(var c=u.length-1;c>=0;c-=2){var h,f=u[c-1];if(r(n,f,n,f+(h=u[c])))return!0}}:function(n,e,r){var o,s,u=t.getLine(n);for(i.lastIndex=e;s=i.exec(u);){var a=s[0].length;if(r(n,o=s.index,n,o+a))return!0;if(!a&&(i.lastIndex=o+=1,o>=u.length))return!1}};return{forEach:c}}}).call(o.prototype),n.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,n){var i=t("../lib/keys"),e=t("../lib/useragent"),r=i.KEY_MODS;function o(t,n){this.platform=n||(e.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function s(t,n){o.call(this,t,n),this.$singleCommand=!1}s.prototype=o.prototype,function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,n){var i=t&&("string"==typeof t?t:t.name);t=this.commands[i],n||delete this.commands[i];var e=this.commandKeyBinding;for(var r in e){var o=e[r];if(o==t)delete e[r];else if(Array.isArray(o)){var s=o.indexOf(t);-1!=s&&(o.splice(s,1),1==o.length&&(e[r]=o[0]))}}},this.bindKey=function(t,n,i){if("object"==typeof t&&t&&(null==i&&(i=t.position),t=t[this.platform]),t)return"function"==typeof n?this.addCommand({exec:n,bindKey:t,name:n.name||t}):void t.split("|").forEach((function(t){var e="";if(-1!=t.indexOf(" ")){var o=t.split(/\s+/);t=o.pop(),o.forEach((function(t){var n=this.parseKeys(t);this._addCommandToBinding(e+=(e?" ":"")+(r[n.hashId]+n.key),"chainKeys")}),this),e+=" "}var s=this.parseKeys(t);this._addCommandToBinding(e+(r[s.hashId]+s.key),n,i)}),this)},this._addCommandToBinding=function(n,i,e){var r,o=this.commandKeyBinding;if(i)if(!o[n]||this.$singleCommand)o[n]=i;else{Array.isArray(o[n])?-1!=(r=o[n].indexOf(i))&&o[n].splice(r,1):o[n]=[o[n]],"number"!=typeof e&&(e=t(i));var s=o[n];for(r=0;r<s.length&&!(t(s[r])>e);r++);s.splice(r,0,i)}else delete o[n]},this.addCommands=function(t){t&&Object.keys(t).forEach((function(n){var i=t[n];if(i){if("string"==typeof i)return this.bindKey(i,n);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=n),this.addCommand(i))}}),this)},this.removeCommands=function(t){Object.keys(t).forEach((function(n){this.removeCommand(t[n])}),this)},this.bindKeys=function(t){Object.keys(t).forEach((function(n){this.bindKey(n,t[n])}),this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var n=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(t){return t})),e=n.pop(),r=i[e];if(i.FUNCTION_KEYS[r])e=i.FUNCTION_KEYS[r].toLowerCase();else{if(!n.length)return{key:e,hashId:-1};if(1==n.length&&"shift"==n[0])return{key:e.toUpperCase(),hashId:-1}}for(var o=0,s=n.length;s--;){var u=i.KEY_MODS[n[s]];if(null==u)return"undefined"!=typeof console&&console.error("invalid modifier "+n[s]+" in "+t),!1;o|=u}return{key:e,hashId:o}},this.findKeyCommand=function(t,n){return this.commandKeyBinding[r[t]+n]},this.handleKeyboard=function(t,n,i,e){if(!(e<0)){var o=r[n]+i,s=this.commandKeyBinding[o];return t.$keyChain&&(t.$keyChain+=" "+o,s=this.commandKeyBinding[t.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(t.$keyChain&&(n&&4!=n||1!=i.length?(-1==n||e>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-o.length-1)),{command:s}):(t.$keyChain=t.$keyChain||o,{command:"null"})}},this.getStatusText=function(t,n){return n.$keyChain||""}}.call(o.prototype),n.HashHandler=o,n.MultiHashHandler=s})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(t,n){var i=t("../lib/oop"),e=t("../keyboard/hash_handler").MultiHashHandler,r=t("../lib/event_emitter").EventEmitter,o=function(t,n){e.call(this,n,t),this.byName=this.commands,this.setDefaultHandler("exec",(function(t){return t.command.exec(t.editor,t.args||{})}))};i.inherits(o,e),function(){i.implement(this,r),this.exec=function(t,n,i){if(Array.isArray(t)){for(var e=t.length;e--;)if(this.exec(t[e],n,i))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(n&&n.$readOnly&&!t.readOnly)return!1;if(0!=this.$checkCommandState&&t.isAvailable&&!t.isAvailable(n))return!1;var r={editor:n,command:t,args:i};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach((function(n){"string"==typeof n?this.exec(n,t):this.exec(n[0],t,n[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map((function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t}))}}.call(o.prototype),n.CommandManager=o})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(t,n){var i=t("../lib/lang"),e=t("../config"),r=t("../range").Range;function o(t,n){return{win:t,mac:n}}n.commands=[{name:"showSettingsMenu",bindKey:o("Ctrl-,","Command-,"),exec:function(t){e.loadModule("ace/ext/settings_menu",(function(n){n.init(t),t.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:o("Alt-E","F4"),exec:function(t){e.loadModule("./ext/error_marker",(function(n){n.showErrorMarker(t,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(t){e.loadModule("./ext/error_marker",(function(n){n.showErrorMarker(t,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(t,n){"number"!=typeof n||isNaN(n)||t.gotoLine(n),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:o("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:o("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(t){e.loadModule("ace/ext/searchbox",(function(n){n.Search(t)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(t,n){t.navigateUp(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(t,n){t.navigateDown(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(t,n){t.navigateLeft(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(t,n){t.navigateRight(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var n=t.$copyWithEmptySelection&&t.selection.isEmpty()?t.selection.getLineRange():t.selection.getRange();t._emit("cut",n),n.isEmpty()||t.session.remove(n),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,n){t.$handlePaste(n)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(t){e.loadModule("ace/ext/searchbox",(function(n){n.Search(t,!0)}))}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(t){var n=t.selection.getRange();n.start.column=0,t.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(t){var n=t.selection.getRange();n.end.column=Number.MAX_VALUE,t.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,n){t.insert(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,n){t.insert(i.stringRepeat(n.text||"",n.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var n=t.selection.getRange();n.start.column=n.end.column=0,n.end.row++,t.selection.setRange(n,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(t){for(var n=t.selection.isBackwards(),e=n?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),o=n?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),s=t.session.doc.getLine(e.row).length,u=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,a=t.session.doc.getLine(e.row),c=e.row+1;c<=o.row+1;c++){var h=i.stringTrimLeft(i.stringTrimRight(t.session.doc.getLine(c)));0!==h.length&&(h=" "+h),a+=h}o.row+1<t.session.doc.getLength()-1&&(a+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new r(e.row,0,o.row+2,0),a),u>0?(t.selection.moveCursorTo(e.row,e.column),t.selection.selectTo(e.row,e.column+u)):(s=t.session.doc.getLine(e.row).length>s?s+1:s,t.selection.moveCursorTo(e.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(t){var n=t.session.doc.getLength()-1,i=t.session.doc.getLine(n).length,e=t.selection.rangeList.ranges,o=[];e.length<1&&(e=[t.selection.getRange()]);for(var s=0;s<e.length;s++)s==e.length-1&&(e[s].end.row===n&&e[s].end.column===i||o.push(new r(e[s].end.row,e[s].end.column,n,i))),0===s?0===e[s].start.row&&0===e[s].start.column||o.push(new r(0,0,e[s].start.row,e[s].start.column)):o.push(new r(e[s-1].end.row,e[s-1].end.column,e[s].start.row,e[s].start.column));for(t.exitMultiSelectMode(),t.clearSelection(),s=0;s<o.length;s++)t.selection.addRange(o[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(t){t.selection.clearSelection();var n=t.getCursorPosition();t.selection.moveTo(n.row-1,Number.MAX_VALUE),t.insert("\n"),0===n.row&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:o("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var s=1;s<9;s++)n.commands.push({name:"foldToLevel"+s,description:"Fold To Level "+s,level:s,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(t,n){t("./lib/fixoldbrowsers");var i=t("./lib/oop"),e=t("./lib/dom"),r=t("./lib/lang"),o=t("./lib/useragent"),s=t("./keyboard/textinput").TextInput,u=t("./mouse/mouse_handler").MouseHandler,a=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,h=t("./edit_session").EditSession,f=t("./search").Search,l=t("./range").Range,d=t("./lib/event_emitter").EventEmitter,v=t("./commands/command_manager").CommandManager,p=t("./commands/default_commands").commands,m=t("./config"),b=t("./token_iterator").TokenIterator,g=t("./clipboard"),y=function(t,n,i){this.$toDestroy=[];var e=t.getContainerElement();this.container=e,this.renderer=t,this.id="editor"+ ++y.$uid,this.commands=new v(o.isMac?"mac":"win",p),"object"==typeof document&&(this.textInput=new s(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new u(this),new a(this)),this.keyBinding=new c(this),this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(t,n){n._$emitInputEvent.schedule(31)})),this.setSession(n||i&&i.session||new h("")),m.resetOptions(this),i&&this.setOptions(i),m._signal("editor",this)};y.$uid=0,function(){i.implement(this,d),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(t){if(this.curOp&&this.session){if(t&&!1===t.returnValue||!this.session)return this.curOp=null;if(1==t&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var n=this.curOp.command,i=n&&n.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var e=this.selection.getRange(),r=this.renderer.layerConfig;(e.start.row>=r.lastRow||e.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var n=this.prevOp,i=this.$mergeableCommands,e=n.command&&t.command.name==n.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),e=e&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(n.args)),this.mergeNextCommand=!0}else e=e&&-1!==i.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(e=!1),e?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,n){if(t&&"string"==typeof t&&"ace"!=t){this.$keybindingId=t;var i=this;m.loadModule(["keybinding",t],(function(e){i.$keybindingId==t&&i.keyBinding.setKeyboardHandler(e&&e.handler),n&&n()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),n&&n()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var n=this.session;if(n){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:n}),this.curOp=null,n&&n._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&t.bgTokenizer&&t.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(t,n){return this.session.doc.setValue(t),n?1==n?this.navigateFileEnd():-1==n&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,n){this.renderer.setTheme(t,n)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||e.computedStyle(this.container).fontSize},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout((function(){t.$highlightPending=!1;var n=t.session;if(n&&n.bgTokenizer){n.$bracketHighlight&&(n.$bracketHighlight.markerIds.forEach((function(t){n.removeMarker(t)})),n.$bracketHighlight=null);var i=n.getMatchingBracketRanges(t.getCursorPosition());if(!i&&n.$mode.getMatching&&(i=n.$mode.getMatching(t.session)),i){var e="ace_bracket";Array.isArray(i)?1==i.length&&(e="ace_error_bracket"):i=[i],2==i.length&&(0==l.comparePoints(i[0].end,i[1].start)?i=[l.fromPoints(i[0].start,i[1].end)]:0==l.comparePoints(i[0].start,i[1].end)&&(i=[l.fromPoints(i[1].start,i[0].end)])),n.$bracketHighlight={ranges:i,markerIds:i.map((function(t){return n.addMarker(t,e,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout((function(){t.$highlightTagPending=!1;var n=t.session;if(n&&n.bgTokenizer){var i=t.getCursorPosition(),e=new b(t.session,i.row,i.column),r=e.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return n.removeMarker(n.$tagHighlight),void(n.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=e.stepForward())){var o=r.value,s=r.value,u=0,a=e.stepBackward();if("<"===a.value)do{a=r,(r=e.stepForward())&&(-1!==r.type.indexOf("tag-name")?o===(s=r.value)&&("<"===a.value?u++:"</"===a.value&&u--):o===s&&"/>"===r.value&&u--)}while(r&&u>=0);else{do{if(r=a,a=e.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))o===r.value&&("<"===a.value?u++:"</"===a.value&&u--);else if("/>"===r.value){for(var c=0,h=a;h;){if(-1!==h.type.indexOf("tag-name")&&h.value===o){u--;break}if("<"===h.value)break;h=e.stepBackward(),c++}for(var f=0;f<c;f++)e.stepForward()}}while(a&&u<=0);e.stepForward()}if(!r)return n.removeMarker(n.$tagHighlight),void(n.$tagHighlight=null);var d=e.getCurrentTokenRow(),v=e.getCurrentTokenColumn(),p=new l(d,v,d,v+r.value.length),m=n.$backMarkers[n.$tagHighlight];n.$tagHighlight&&null!=m&&0!==p.compareRange(m.range)&&(n.removeMarker(n.$tagHighlight),n.$tagHighlight=null),n.$tagHighlight||(n.$tagHighlight=n.addMarker(p,"ace_bracket","text"))}}}),50)}},this.focus=function(){var t=this;setTimeout((function(){t.isFocused()||t.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(t){this.renderer.updateLines(t.start.row,t.start.row==t.end.row?t.end.row:1/0,this.session.$useWrapMode),this._signal("change",t),this.$cursorChange()},this.onTokenizerUpdate=function(t){var n=t.data;this.renderer.updateLines(n.first,n.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,n=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(t=!1)),n.$highlightLineMarker&&!t)n.removeMarker(n.$highlightLineMarker.id),n.$highlightLineMarker=null;else if(!n.$highlightLineMarker&&t){var i=new l(t.row,t.column,t.row,1/0);i.id=n.addMarker(i,"ace_active-line","screenLine"),n.$highlightLineMarker=i}else t&&(n.$highlightLineMarker.start.row=t.row,n.$highlightLineMarker.end.row=t.row,n.$highlightLineMarker.start.column=t.column,n._signal("changeBackMarker"))},this.onSelectionChange=function(){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var e=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(e),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,n=this.getSelectionRange();if(!n.isEmpty()&&!n.isMultiLine()){var i=n.start.column,e=n.end.column,r=t.getLine(n.start.row),o=r.substring(i,e);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),u=r.substring(i-1,e+1);if(s.test(u))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText(),n=this.session.doc.getNewLineCharacter(),i=!1;if(!t&&this.$copyWithEmptySelection){i=!0;for(var e=this.selection.getAllRanges(),r=0;r<e.length;r++){var o=e[r];r&&e[r-1].start.row==o.start.row||(t+=this.session.getLine(o.start.row)+n)}}var s={text:t};return this._signal("copy",s),g.lineMode=i?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,n){this.commands.exec("paste",this,{text:t,event:n})},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var n=t.text,i=n==g.lineMode,e=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?e.insert({row:this.selection.lead.row,column:0},n):this.insert(n);else if(i)this.selection.rangeList.ranges.forEach((function(t){e.insert({row:t.start.row,column:0},n)}));else{var r=n.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(r.length!=o.length||!(2!=r.length||r[0]&&r[1]))return this.commands.exec("insertstring",this,n);for(var s=o.length;s--;){var u=o[s];u.isEmpty()||e.remove(u),e.insert(u.start,r[s])}}},this.execCommand=function(t,n){return this.commands.exec(t,this,n)},this.insert=function(t,n){var i=this.session,e=i.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!n){var o=e.transformAction(i.getState(r.row),"insertion",this,i,t);o&&(t!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),t=o.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==t.indexOf("\n")&&((s=new l.fromPoints(r,r)).end.column+=t.length,this.session.remove(s));else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==t||"\r\n"==t){var u=i.getLine(r.row);if(r.column>u.search(/\S|$/)){var a=u.substr(r.column).search(/\S|$/);i.doc.removeInLine(r.row,r.column,r.column+a)}}this.clearSelection();var c=r.column,h=i.getState(r.row),f=(u=i.getLine(r.row),e.checkOutdent(h,u,t));if(i.insert(r,t),o&&o.selection&&this.selection.setSelectionRange(2==o.selection.length?new l(r.row,c+o.selection[0],r.row,c+o.selection[1]):new l(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3])),this.$enableAutoIndent){if(i.getDocument().isNewLine(t)){var d=e.getNextLineIndent(h,u.slice(0,r.column),i.getTabString());i.insert({row:r.row+1,column:0},d)}f&&e.autoOutdent(h,i,r.row)}},this.autoIndent=function(){var t,n,i=this.session,e=i.getMode();if(this.selection.isEmpty())t=0,n=i.doc.getLength()-1;else{var r=this.getSelectionRange();t=r.start.row,n=r.end.row}for(var o,s,u,a="",c="",h="",f=i.getTabString(),d=t;d<=n;d++)d>0&&(a=i.getState(d-1),c=i.getLine(d-1),h=e.getNextLineIndent(a,c,f)),o=i.getLine(d),h!==(s=e.$getIndent(o))&&(s.length>0&&(u=new l(d,0,d,s.length),i.remove(u)),h.length>0&&i.insert({row:d,column:0},h)),e.autoOutdent(a,i,d)},this.onTextInput=function(t,n){if(!n)return this.keyBinding.onTextInput(t);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,t,n);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation()},this.applyComposition=function(t,n){var i;(n.extendLeft||n.extendRight)&&((i=this.selection.getRange()).start.column-=n.extendLeft,i.end.column+=n.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),t||i.isEmpty()||this.remove()),!t&&this.selection.isEmpty()||this.insert(t,!0),(n.restoreStart||n.restoreEnd)&&((i=this.selection.getRange()).start.column-=n.restoreStart,i.end.column-=n.restoreEnd,this.selection.setRange(i))},this.onCommandKey=function(t,n,i){return this.keyBinding.onCommandKey(t,n,i)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var n=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,e=i.getState(n.start.row),r=i.getMode().transformAction(e,"deletion",this,i,n);if(0===n.end.column){var o=i.getTextRange(n);if("\n"==o[o.length-1]){var s=i.getLine(n.end.row);/^\s+$/.test(s)&&(n.end.column=s.length)}}r&&(n=r)}this.session.remove(n),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),n=t.column;if(0!==n){var i,e,r=this.session.getLine(t.row);n<r.length?(i=r.charAt(n)+r.charAt(n-1),e=new l(t.row,n-1,t.row,n+1)):(i=r.charAt(n-1)+r.charAt(n-2),e=new l(t.row,n-2,t.row,n)),this.session.replace(e,i),this.session.selection.moveToPosition(e.end)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var n=this.getSelectionRange(),i=this.session.getTextRange(n);this.session.replace(n,i.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var n=this.getSelectionRange(),i=this.session.getTextRange(n);this.session.replace(n,i.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,n=this.getSelectionRange();if(!(n.start.row<n.end.row)){if(n.start.column<n.end.column){var i=t.getTextRange(n);if(!/^\s+$/.test(i))return h=this.$getSelectedRows(),void t.indentRows(h.first,h.last,"\t")}var e=t.getLine(n.start.row),o=n.start,s=t.getTabSize(),u=t.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var a=r.stringRepeat(" ",c=s-u%s);else{for(var c=u%s;" "==e[n.start.column-1]&&c;)n.start.column--,c--;this.selection.setSelectionRange(n),a="\t"}return this.insert(a)}var h=this.$getSelectedRows();t.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var t=this.$getSelectedRows(),n=this.session,i=[],e=t.first;e<=t.last;e++)i.push(n.getLine(e));i.sort((function(t,n){return t.toLowerCase()<n.toLowerCase()?-1:t.toLowerCase()>n.toLowerCase()?1:0}));var r=new l(0,0,0,0);for(e=t.first;e<=t.last;e++){var o=n.getLine(e);r.start.row=e,r.end.row=e,r.end.column=o.length,n.replace(r,i[e-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),n=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,n.first,n.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),n=this.session.getState(t.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(n,this.session,i,t)},this.getNumberAt=function(t,n){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var e=this.session.getLine(t);i.lastIndex<n;){var r=i.exec(e);if(r.index<=n&&r.index+r[0].length>=n)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(t){var n=this.selection.getCursor().row,i=this.selection.getCursor().column,e=new l(n,i-1,n,i),r=this.session.getTextRange(e);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(n,i);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,u=o.start+o.value.length-s,a=parseFloat(o.value);a*=Math.pow(10,u),a+=t*=s!==o.end&&i<s?Math.pow(10,o.end-i-1):Math.pow(10,o.end-i);var c=(a/=Math.pow(10,u)).toFixed(u),h=new l(n,o.start,n,o.end);this.session.replace(h,c),this.moveCursorTo(n,Math.max(o.start+1,i+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var t=this.selection.getCursor().row,n=this.selection.getCursor().column;this.selection.selectWord();var i=this.getSelectedText(),e=this.selection.getWordRange().start.column,o=i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=n-e-1;s<0&&(s=0);var u=0,a=0,c=this;i.match(/[A-Za-z0-9_]+/)&&o.forEach((function(n){a=u+n.length,s>=u&&s<=a&&(i=n,c.selection.clearSelection(),c.moveCursorTo(t,u+e),c.selection.selectTo(t,a+e)),u=a}));for(var h,f=this.$toggleWordPairs,l=0;l<f.length;l++)for(var d=f[l],v=0;v<=1;v++){var p=+!v,m=i.match(new RegExp("^\\s?_?("+r.escapeRegExp(d[v])+")\\s?$","i"));m&&i.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(m[1])+")($|\\s)","g"))&&(h=i.replace(new RegExp(r.escapeRegExp(d[v]),"i"),(function(t){var n=d[p];return t.toUpperCase()==t?n=n.toUpperCase():t.charAt(0).toUpperCase()==t.charAt(0)&&(n=n.substr(0,0)+d[p].charAt(0).toUpperCase()+n.substr(1)),n})),this.insert(h),h="")}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,n=this.session,i=t.getRange(),e=t.isBackwards();if(i.isEmpty()){var r=i.start.row;n.duplicateLines(r,r)}else{var o=e?i.start:i.end,s=n.insert(o,n.getTextRange(i),!1);i.start=o,i.end=s,t.setSelectionRange(i,e)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,n,i){return this.session.moveText(t,n,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,n){var i,e,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();i=this.$getSelectedRows(o),e=this.session.$moveLines(i.first,i.last,n?0:t),n&&-1==t&&(e=0),o.moveBy(e,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var u=0,a=0,c=s.length,h=0;h<c;h++){var f=h;s[h].moveBy(u,0);for(var l=(i=this.$getSelectedRows(s[h])).first,d=i.last;++h<c;){a&&s[h].moveBy(a,0);var v=this.$getSelectedRows(s[h]);if(n&&v.first!=d)break;if(!n&&v.first>d+1)break;d=v.last}for(h--,u=this.session.$moveLines(l,d,n?0:t),n&&-1==t&&(f=h+1);f<=h;)s[f].moveBy(u,0),f++;n||(u=0),a+=u}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(t)},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,n){var i=this.renderer,e=this.renderer.layerConfig,r=t*Math.floor(e.height/e.lineHeight);!0===n?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===n&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=i.scrollTop;i.scrollBy(0,r*e.lineHeight),null!=n&&i.scrollCursorIntoView(null,.5),i.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,n,i,e){this.renderer.scrollToLine(t,n,i,e)},this.centerSelection=function(){var t=this.getSelectionRange(),n={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(n,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,n){this.selection.moveCursorTo(t,n)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,n){var i=this.getCursorPosition(),e=new b(this.session,i.row,i.column),r=e.getCurrentToken(),o=r||e.stepForward();if(o){var s,u,a=!1,c={},h=i.column-o.start,f={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;h<o.value.length&&!a;h++)if(f[o.value[h]])switch(u=f[o.value[h]]+"."+o.type.replace("rparen","lparen"),isNaN(c[u])&&(c[u]=0),o.value[h]){case"(":case"[":case"{":c[u]++;break;case")":case"]":case"}":c[u]--,-1===c[u]&&(s="bracket",a=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(s="tag",a=!0));a||(r=o,o=e.stepForward(),h=0)}while(o&&!a);if(s){var d,v;if("bracket"===s)(d=this.session.getBracketRange(i))||(v=(d=new l(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+h-1,e.getCurrentTokenRow(),e.getCurrentTokenColumn()+h-1)).start,(n||v.row===i.row&&Math.abs(v.column-i.column)<2)&&(d=this.session.getBracketRange(v)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var p=o.value;if(0===(d=new l(e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2,e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2)).compare(i.row,i.column)){a=!1;do{o=r,(r=e.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1),o.value===p&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?c[p]++:"</"===r.value&&c[p]--,0===c[p]&&(a=!0)))}while(r&&!a)}o&&o.type.indexOf("tag-name")&&(v=d.start).row==i.row&&Math.abs(v.column-i.column)<2&&(v=d.end)}(v=d&&d.cursor||v)&&(t?d&&n?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(v.row,v.column):this.selection.moveTo(v.row,v.column))}}},this.gotoLine=function(t,n,i){this.selection.clearSelection(),this.session.unfold({row:t-1,column:n||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,n||0),this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,i)},this.navigateTo=function(t,n){this.selection.moveTo(t,n)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var n=this.selection.anchor.getPosition();return this.moveCursorToPosition(n)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var n=this.selection.anchor.getPosition();return this.moveCursorToPosition(n)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var n=this.getSelectionRange().start;this.moveCursorToPosition(n)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var n=this.getSelectionRange().end;this.moveCursorToPosition(n)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,n){n&&this.$search.set(n);var i=this.$search.find(this.session),e=0;return i?(this.$tryReplace(i,t)&&(e=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),e):e},this.replaceAll=function(t,n){n&&this.$search.set(n);var i=this.$search.findAll(this.session),e=0;if(!i.length)return e;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=i.length-1;o>=0;--o)this.$tryReplace(i[o],t)&&e++;return this.selection.setSelectionRange(r),e},this.$tryReplace=function(t,n){var i=this.session.getTextRange(t);return null!==(n=this.$search.replace(i,n))?(t.end=this.session.replace(t,n),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,n,e){n||(n={}),"string"==typeof t||t instanceof RegExp?n.needle=t:"object"==typeof t&&i.mixin(n,t);var r=this.selection.getRange();null==n.needle&&((t=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(n),n.start||this.$search.set({start:r});var o=this.$search.find(this.session);return n.preventScroll?o:o?(this.revealRange(o,e),o):(n.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,n){this.find({skipCurrent:!0,backwards:!1},t,n)},this.findPrevious=function(t,n){this.find(t,{skipCurrent:!0,backwards:!0},n)},this.revealRange=function(t,n){this.session.unfold(t),this.selection.setSelectionRange(t);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==n&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(t){t.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(t){if(t){var n,i=this,e=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){e=!0})),s=this.renderer.on("beforeRender",(function(){e&&(n=i.renderer.container.getBoundingClientRect())})),u=this.renderer.on("afterRender",(function(){if(e&&n&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var t=i.renderer,o=t.$cursorLayer.$pixelPos,s=t.layerConfig,u=o.top-s.offset;null!=(e=o.top>=0&&u+n.top<0||!(o.top<s.height&&o.top+n.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=u+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(e)),e=n=null}}));this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",u),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",n=this.renderer.$cursorLayer;n&&(n.setSmoothBlinking(/smooth/.test(t)),n.isBlinking=!this.$readOnly&&"wide"!=t,e.setCssClass(n.element,"ace_slim-cursors",/slim/.test(t)))},this.prompt=function(t,n,i){var e=this;m.loadModule("./ext/prompt",(function(r){r.prompt(e,t,n,i)}))}}.call(y.prototype),m.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.textInput.setReadOnly(t),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(t){this.textInput.setCopyWithEmptySelection(t)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(t){this.session.setValue(t)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(t){this.setSession(t)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(t){this.renderer.$gutterLayer.setShowLineNumbers(t),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),t&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(t){this.$showLineNumbers&&t?w.attach(this):w.detach(this)}},placeholder:{set:function(){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var t=this.session&&(this.renderer.$composition||this.getValue());if(t&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),e.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(t||this.renderer.placeholderNode)!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),e.addCssClass(this.container,"ace_hasPlaceholder");var n=e.createElement("div");n.className="ace_placeholder",n.textContent=this.$placeholder||"",this.renderer.placeholderNode=n,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(t,n){return(Math.abs(t.selection.lead.row-n)||n+1+(n<9?"":""))+""},getWidth:function(t,n,i){return Math.max(n.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(t,n){n.renderer.$loop.schedule(n.renderer.CHANGE_GUTTER)},attach:function(t){t.renderer.$gutterLayer.$renderer=this,t.on("changeSelection",this.update),this.update(null,t)},detach:function(t){t.renderer.$gutterLayer.$renderer==this&&(t.renderer.$gutterLayer.$renderer=null),t.off("changeSelection",this.update),this.update(null,t)}};n.Editor=y})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(t,n){var i=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(t){this.$session=t},this.add=function(t,n){this.$fromUndo||t!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==n&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),t.id=this.$rev=++this.$maxRev),"remove"!=t.action&&"insert"!=t.action||(this.$lastDelta=t),this.lastDeltas.push(t))},this.addSelection=function(t,n){this.selections.push({value:t,rev:n||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(t,n){null==n&&(n=this.$rev+1);for(var i=this.$undoStack,e=i.length;e--;){var r=i[e][0];if(r.id<=t)break;r.id<n&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(t,n){for(var i=this.selections,e=i.length;e--;){var r=i[e];if(r.rev<t)return n&&(r=i[e+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(t,n){null==n&&(n=this.$rev+1);for(var i=this.$undoStack,e=null,r=0,o=i.length;o--;){var s=i[o][0];if(s.id<n&&!e&&(e=o+1),s.id<=t){r=o+1;break}}return i.slice(r,e)},this.getChangedRanges=function(){},this.getChangedLines=function(){},this.undo=function(t,n){this.lastDeltas=null;var i=this.$undoStack;if(function(t,n){for(var i=n;i--;){var e=t[i];if(e&&!e[0].ignore){for(;i<n-1;){var r=c(t[i],t[i+1]);t[i]=r[0],t[i+1]=r[1],i++}return!0}}}(i,i.length)){t||(t=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var e=i.pop(),r=null;return e&&(r=t.undoChanges(e,n),this.$redoStack.push(e),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(t,n){if(this.lastDeltas=null,t||(t=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(t,n){for(var i=0;i<n.length;i++)for(var e=n[i],r=0;r<e.length;r++)v(t,e[r])}(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(t){t[0].id=++this.$maxRev}),this)}var e=this.$redoStack.pop(),r=null;return e&&(r=t.redoChanges(e,n),this.$undoStack.push(e),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var t=this.$undoStack,n=t[t.length-1],i=n&&n[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(t){null==t&&(t=this.$rev),this.mark=t},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(t){return t?s(t):s(this.$undoStack)+"\n---\n"+s(this.$redoStack)}}).call(i.prototype);var e=t("./range").Range,r=e.comparePoints;function o(t){return{row:t.row,column:t.column}}function s(t){if(t=t||this,Array.isArray(t))return t.map(s).join("\n");var n="";return t.action?(n="insert"==t.action?"+":"-",n+="["+t.lines+"]"):t.value&&(n=Array.isArray(t.value)?t.value.map(u).join("\n"):u(t.value)),t.start&&(n+=u(t)),(t.id||t.rev)&&(n+="\t("+(t.id||t.rev)+")"),n}function u(t){return t.start.row+":"+t.start.column+"=>"+t.end.row+":"+t.end.column}function a(t,n){var i="insert"==t.action,e="insert"==n.action;if(i&&e)if(r(n.start,t.end)>=0)f(n,t,-1);else{if(!(r(n.start,t.start)<=0))return null;f(t,n,1)}else if(i&&!e)if(r(n.start,t.end)>=0)f(n,t,-1);else{if(!(r(n.end,t.start)<=0))return null;f(t,n,-1)}else if(!i&&e)if(r(n.start,t.start)>=0)f(n,t,1);else{if(!(r(n.start,t.start)<=0))return null;f(t,n,1)}else if(!i&&!e)if(r(n.start,t.start)>=0)f(n,t,1);else{if(!(r(n.end,t.start)<=0))return null;f(t,n,-1)}return[n,t]}function c(t,n){for(var i=t.length;i--;)for(var e=0;e<n.length;e++)if(!a(t[i],n[e])){for(;i<t.length;){for(;e--;)a(n[e],t[i]);e=n.length,i++}return[t,n]}return t.selectionBefore=n.selectionBefore=t.selectionAfter=n.selectionAfter=null,[n,t]}function h(t,n){var i="insert"==t.action,o="insert"==n.action;if(i&&o)r(t.start,n.start)<0?f(n,t,1):f(t,n,1);else if(i&&!o)r(t.start,n.end)>=0?f(t,n,-1):(r(t.start,n.start)<=0||f(t,e.fromPoints(n.start,t.start),-1),f(n,t,1));else if(!i&&o)r(n.start,t.end)>=0?f(n,t,-1):(r(n.start,t.start)<=0||f(n,e.fromPoints(t.start,n.start),-1),f(t,n,1));else if(!i&&!o)if(r(n.start,t.end)>=0)f(n,t,-1);else{var s,u;if(!(r(n.end,t.start)<=0))return r(t.start,n.start)<0&&(s=t,t=d(t,n.start)),r(t.end,n.end)>0&&(u=d(t,n.end)),l(n.end,t.start,t.end,-1),u&&!s&&(t.lines=u.lines,t.start=u.start,t.end=u.end,u=t),[n,s,u].filter(Boolean);f(t,n,-1)}return[n,t]}function f(t,n,i){l(t.start,n.start,n.end,i),l(t.end,n.start,n.end,i)}function l(t,n,i,e){t.row==(1==e?n:i).row&&(t.column+=e*(i.column-n.column)),t.row+=e*(i.row-n.row)}function d(t,n){var i=t.lines,e=t.end;t.end=o(n);var r=t.end.row-t.start.row,s=i.splice(r,i.length),u=r?n.column:n.column-t.start.column;return i.push(s[0].substring(0,u)),s[0]=s[0].substr(u),{start:o(n),end:e,lines:s,action:t.action}}function v(t,n){n=function(t){return{start:o(t.start),end:o(t.end),action:t.action,lines:t.lines.slice()}}(n);for(var i=t.length;i--;){for(var e=t[i],r=0;r<e.length;r++){var s=h(e[r],n);n=s[0],2!=s.length&&(s[2]?(e.splice(r+1,1,s[1],s[2]),r++):s[1]||(e.splice(r,1),r--))}e.length||t.splice(i,1)}return t}n.UndoManager=i})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(t,n){var i=t("../lib/dom"),e=function(t,n){this.element=t,this.canvasHeight=n||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(t){i.translate(this.element,0,-t.firstRowScreen*t.lineHeight%this.canvasHeight-t.offset*this.$offsetCoefficient)},this.pageChanged=function(t,n){return Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)!==Math.floor(n.firstRowScreen*n.lineHeight/this.canvasHeight)},this.computeLineTop=function(t,n,i){var e=Math.floor(n.firstRowScreen*n.lineHeight/this.canvasHeight);return i.documentToScreenRow(t,0)*n.lineHeight-e*this.canvasHeight},this.computeLineHeight=function(t,n,i){return n.lineHeight*i.getRowLineCount(t)},this.getLength=function(){return this.cells.length},this.get=function(t){return this.cells[t]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(t){if(Array.isArray(t)){this.cells.push.apply(this.cells,t);for(var n=i.createFragment(this.element),e=0;e<t.length;e++)n.appendChild(t[e].element);this.element.appendChild(n)}else this.cells.push(t),this.element.appendChild(t.element)},this.unshift=function(t){if(Array.isArray(t)){this.cells.unshift.apply(this.cells,t);for(var n=i.createFragment(this.element),e=0;e<t.length;e++)n.appendChild(t[e].element);this.element.firstChild?this.element.insertBefore(n,this.element.firstChild):this.element.appendChild(n)}else this.cells.unshift(t),this.element.insertAdjacentElement("afterbegin",t.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(t){t&&(t.element.remove(),this.cellCache.push(t))},this.createCell=function(t,n,e,r){var o=this.cellCache.pop();if(!o){var s=i.createElement("div");r&&r(s),this.element.appendChild(s),o={element:s,text:"",row:t}}return o.row=t,o}}).call(e.prototype),n.Lines=e})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(t,n){var i=t("../lib/dom"),e=t("../lib/oop"),r=t("../lib/lang"),o=t("../lib/event_emitter").EventEmitter,s=t("./lines").Lines,u=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new s(this.element),this.$lines.$offsetCoefficient=1};function a(t){var n=document.createTextNode("");t.appendChild(n);var e=i.createElement("span");return t.appendChild(e),t}(function(){e.implement(this,o),this.setSession=function(t){this.session&&this.session.off("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,n){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,n)},this.removeGutterDecoration=function(t,n){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,n)},this.setAnnotations=function(t){this.$annotations=[];for(var n=0;n<t.length;n++){var i=t[n],e=i.row,o=this.$annotations[e];o||(o=this.$annotations[e]={text:[]});var s=i.text;s=s?r.escapeHTML(s):i.html||"",-1===o.text.indexOf(s)&&o.text.push(s);var u=i.type;"error"==u?o.className=" ace_error":"warning"==u&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=u||o.className||(o.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var n=t.start.row,i=t.end.row-n;if(0===i);else if("remove"==t.action)this.$annotations.splice(n,i+1,null);else{var e=new Array(i+1);e.unshift(n,1),this.$annotations.splice.apply(this.$annotations,e)}}},this.update=function(t){this.config=t;var n=this.session,i=t.firstRow,e=Math.min(t.lastRow+t.gutterOffset,n.getLength()-1);this.oldLastRow=e,this.config=t,this.$lines.moveContainer(t),this.$updateCursorRow();for(var r=n.getNextFoldLine(i),o=r?r.start.row:1/0,s=null,u=-1,c=i;;){if(c>o&&(o=(r=n.getNextFoldLine(c=r.end.row+1,r))?r.start.row:1/0),c>e){for(;this.$lines.getLength()>u+1;)this.$lines.pop();break}(s=this.$lines.get(++u))?s.row=c:(s=this.$lines.createCell(c,t,this.session,a),this.$lines.push(s)),this.$renderCell(s,t,r,c),c++}this._signal("afterRender"),this.$updateGutterWidth(t)},this.$updateGutterWidth=function(t){var n=this.session,i=n.gutterRenderer||this.$renderer,e=n.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||n.$useWrapMode)&&(r=n.getLength()+e-1);var o=i?i.getWidth(n,r,t):r.toString().length*t.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var t=this.session.selection.getCursor();this.$cursorRow!==t.row&&(this.$cursorRow=t.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var t=this.session.selection.cursor.row;if(this.$cursorRow=t,!this.$cursorCell||this.$cursorCell.row!=t){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var n=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<n.length;i++){var e=n[i];if(e.row>=this.$cursorRow){if(e.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&r&&r.start.row==n[i-1].row))break;e=n[i-1]}e.element.className="ace_gutter-active-line "+e.element.className,this.$cursorCell=e;break}}}}},this.scrollLines=function(t){var n=this.config;if(this.config=t,this.$updateCursorRow(),this.$lines.pageChanged(n,t))return this.update(t);this.$lines.moveContainer(t);var i=Math.min(t.lastRow+t.gutterOffset,this.session.getLength()-1),e=this.oldLastRow;if(this.oldLastRow=i,!n||e<t.firstRow)return this.update(t);if(i<n.firstRow)return this.update(t);if(n.firstRow<t.firstRow)for(var r=this.session.getFoldedRowCount(n.firstRow,t.firstRow-1);r>0;r--)this.$lines.shift();if(e>i)for(r=this.session.getFoldedRowCount(i+1,e);r>0;r--)this.$lines.pop();t.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLines(t,t.firstRow,n.firstRow-1)),i>e&&this.$lines.push(this.$renderLines(t,e+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(t)},this.$renderLines=function(t,n,i){for(var e=[],r=n,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(s=(o=this.session.getNextFoldLine(r=o.end.row+1,o))?o.start.row:1/0),!(r>i);){var u=this.$lines.createCell(r,t,this.session,a);this.$renderCell(u,t,o,r),e.push(u),r++}return e},this.$renderCell=function(t,n,e,r){var o=t.element,s=this.session,u=o.childNodes[0],a=o.childNodes[1],c=s.$firstLineNumber,h=s.$breakpoints,f=s.$decorations,l=s.gutterRenderer||this.$renderer,d=this.$showFoldWidgets&&s.foldWidgets,v=e?e.start.row:Number.MAX_VALUE,p="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||e&&r<this.$cursorRow&&r>=v&&this.$cursorRow<=e.end.row)&&(p+="ace_gutter-active-line ",this.$cursorCell!=t&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=t)),h[r]&&(p+=h[r]),f[r]&&(p+=f[r]),this.$annotations[r]&&(p+=this.$annotations[r].className),o.className!=p&&(o.className=p),d){var m=d[r];null==m&&(m=d[r]=s.getFoldWidget(r))}m?(p="ace_fold-widget ace_"+m,a.className!=(p+="start"==m&&r==v&&r<e.end.row?" ace_closed":" ace_open")&&(a.className=p),i.setStyle(a.style,"height",n.lineHeight+"px"),i.setStyle(a.style,"display","inline-block")):a&&i.setStyle(a.style,"display","none");var b=(l?l.getText(s,r):r+c).toString();return b!==u.data&&(u.data=b),i.setStyle(t.element.style,"height",this.$lines.computeLineHeight(r,n,s)+"px"),i.setStyle(t.element.style,"top",this.$lines.computeLineTop(r,n,s)+"px"),t.text=b,t},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(t){this.$highlightGutterLine=t},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(t.borderLeftWidth)||0)+(parseInt(t.paddingLeft)||0)+1,this.$padding.right=(parseInt(t.borderRightWidth)||0)+(parseInt(t.paddingRight)||0),this.$padding},this.getRegion=function(t){var n=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return t.x<n.left+i.left?"markers":this.$showFoldWidgets&&t.x>i.right-n.right?"foldWidgets":void 0}}).call(u.prototype),n.Gutter=u})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(t,n){var i=t("../range").Range,e=t("../lib/dom"),r=function(t){this.element=e.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.elt=function(t,n){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=n,i.className=t},this.update=function(t){if(t){var n;for(var i in this.config=t,this.i=0,this.markers){var e=this.markers[i];if(e.range){var r=e.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),e.renderer){var o=this.$getTop(r.start.row,t);e.renderer(n,r,this.$padding+r.start.column*t.characterWidth,o,t)}else"fullLine"==e.type?this.drawFullLineMarker(n,r,e.clazz,t):"screenLine"==e.type?this.drawScreenLineMarker(n,r,e.clazz,t):r.isMultiLine()?"text"==e.type?this.drawTextMarker(n,r,e.clazz,t):this.drawMultiLineMarker(n,r,e.clazz,t):this.drawSingleLineMarker(n,r,e.clazz+" ace_start ace_br15",t)}else e.update(n,this,this.session,t)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(t,n){return(t-n.firstRowScreen)*n.lineHeight},this.drawTextMarker=function(t,n,e,r,o){for(var s=this.session,u=n.start.row,a=n.end.row,c=u,h=0,f=0,l=s.getScreenLastRowColumn(c),d=new i(c,n.start.column,c,f);c<=a;c++)d.start.row=d.end.row=c,d.start.column=c==u?n.start.column:s.getRowWrapIndent(c),d.end.column=l,h=f,f=l,l=c+1<a?s.getScreenLastRowColumn(c+1):c==a?0:n.end.column,this.drawSingleLineMarker(t,d,e+(c==u?" ace_start":"")+" ace_br"+((c==u||c==u+1&&n.start.column?1:0)|(h<f?2:0)|(f>l?4:0)|(c==a?8:0)),r,c==a?0:1,o)},this.drawMultiLineMarker=function(t,n,i,e,r){var o,s=this.$padding,u=e.lineHeight,a=this.$getTop(n.start.row,e),c=s+n.start.column*e.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(n.start.row)?((o=n.clone()).end.row=o.start.row,o.end.column=this.session.getLine(o.start.row).length,this.drawBidiSingleLineMarker(t,o,i+" ace_br1 ace_start",e,null,r)):this.elt(i+" ace_br1 ace_start","height:"+u+"px;right:0;top:"+a+"px;left:"+c+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(n.end.row)?((o=n.clone()).start.row=o.end.row,o.start.column=0,this.drawBidiSingleLineMarker(t,o,i+" ace_br12",e,null,r)):(a=this.$getTop(n.end.row,e),this.elt(i+" ace_br12","height:"+u+"px;width:"+n.end.column*e.characterWidth+"px;top:"+a+"px;left:"+s+"px;"+(r||""))),!((u=(n.end.row-n.start.row-1)*e.lineHeight)<=0)){a=this.$getTop(n.start.row+1,e);var h=(n.start.column?1:0)|(n.end.column?0:8);this.elt(i+(h?" ace_br"+h:""),"height:"+u+"px;right:0;top:"+a+"px;left:"+s+"px;"+(r||""))}},this.drawSingleLineMarker=function(t,n,i,e,r,o){if(this.session.$bidiHandler.isBidiRow(n.start.row))return this.drawBidiSingleLineMarker(t,n,i,e,r,o);var s=e.lineHeight,u=(n.end.column+(r||0)-n.start.column)*e.characterWidth,a=this.$getTop(n.start.row,e);this.elt(i,"height:"+s+"px;width:"+u+"px;top:"+a+"px;left:"+(this.$padding+n.start.column*e.characterWidth)+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(t,n,i,e,r,o){var s=e.lineHeight,u=this.$getTop(n.start.row,e),a=this.$padding;this.session.$bidiHandler.getSelections(n.start.column,n.end.column).forEach((function(t){this.elt(i,"height:"+s+"px;width:"+t.width+(r||0)+"px;top:"+u+"px;left:"+(a+t.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(t,n,i,e,r){var o=this.$getTop(n.start.row,e),s=e.lineHeight;n.start.row!=n.end.row&&(s+=this.$getTop(n.end.row,e)-o),this.elt(i,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(t,n,i,e,r){var o=this.$getTop(n.start.row,e);this.elt(i,"height:"+e.lineHeight+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}).call(r.prototype),n.Marker=r})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(t,n){var i=t("../lib/oop"),e=t("../lib/dom"),r=t("../lib/lang"),o=t("./lines").Lines,s=t("../lib/event_emitter").EventEmitter,u=function(t){this.dom=e,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){i.implement(this,s),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var t=this.session.doc,n="\n"==t.getNewLineCharacter()&&"windows"!=t.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=n)return this.EOL_CHAR=n,!0},this.setPadding=function(t){this.$padding=t,this.element.style.margin="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,"string"==typeof t?(this.showSpaces=/tab/i.test(t),this.showTabs=/space/i.test(t),this.showEOL=/eol/i.test(t)):this.showSpaces=this.showTabs=this.showEOL=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var n=this.$tabStrings=[0],i=1;i<t+1;i++)this.showTabs?((e=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",e.textContent=r.stringRepeat(this.TAB_CHAR,i),n.push(e)):n.push(this.dom.createTextNode(r.stringRepeat(" ",i),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var e,o="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",u=r.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),a=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?r.stringRepeat(this.TAB_CHAR,this.tabSize):u;(e=this.dom.createElement("span")).className=o+s,e.textContent=u,this.$tabStrings[" "]=e,(e=this.dom.createElement("span")).className=o+a,e.textContent=c,this.$tabStrings["\t"]=e}},this.updateLines=function(t,n,i){if(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)return this.update(t);this.config=t;for(var e=Math.max(n,t.firstRow),r=Math.min(i,t.lastRow),o=this.element.childNodes,s=0,u=t.firstRow;u<e;u++){if(a=this.session.getFoldLine(u)){if(a.containsRow(e)){e=a.start.row;break}u=a.end.row}s++}for(var a,c=!1,h=(a=this.session.getNextFoldLine(u=e))?a.start.row:1/0;u>h&&(h=(a=this.session.getNextFoldLine(u=a.end.row+1,a))?a.start.row:1/0),!(u>r);){var f=o[s++];if(f){this.dom.removeChildren(f),this.$renderLine(f,u,u==h&&a),c&&(f.style.top=this.$lines.computeLineTop(u,t,this.session)+"px");var l=t.lineHeight*this.session.getRowLength(u)+"px";f.style.height!=l&&(c=!0,f.style.height=l)}u++}if(c)for(;s<this.$lines.cells.length;){var d=this.$lines.cells[s++];d.element.style.top=this.$lines.computeLineTop(d.row,t,this.session)+"px"}},this.scrollLines=function(t){var n=this.config;if(this.config=t,this.$lines.pageChanged(n,t))return this.update(t);this.$lines.moveContainer(t);var i=t.lastRow;if(!n||(n?n.lastRow:-1)<t.firstRow)return this.update(t);if(i<n.firstRow)return this.update(t);if(!n||n.lastRow<t.firstRow)return this.update(t);if(t.lastRow<n.firstRow)return this.update(t);if(n.firstRow<t.firstRow)for(var e=this.session.getFoldedRowCount(n.firstRow,t.firstRow-1);e>0;e--)this.$lines.shift();if(n.lastRow>t.lastRow)for(e=this.session.getFoldedRowCount(t.lastRow+1,n.lastRow);e>0;e--)this.$lines.pop();t.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLinesFragment(t,t.firstRow,n.firstRow-1)),t.lastRow>n.lastRow&&this.$lines.push(this.$renderLinesFragment(t,n.lastRow+1,t.lastRow))},this.$renderLinesFragment=function(t,n,i){for(var r=[],o=n,s=this.session.getNextFoldLine(o),u=s?s.start.row:1/0;o>u&&(u=(s=this.session.getNextFoldLine(o=s.end.row+1,s))?s.start.row:1/0),!(o>i);){var a=this.$lines.createCell(o,t,this.session),c=a.element;this.dom.removeChildren(c),e.setStyle(c.style,"height",this.$lines.computeLineHeight(o,t,this.session)+"px"),e.setStyle(c.style,"top",this.$lines.computeLineTop(o,t,this.session)+"px"),this.$renderLine(c,o,o==u&&s),c.className=this.$useLineGroups()?"ace_line_group":"ace_line",r.push(a),o++}return r},this.update=function(t){this.$lines.moveContainer(t),this.config=t;for(var n=t.firstRow,i=t.lastRow,e=this.$lines;e.getLength();)e.pop();e.push(this.$renderLinesFragment(t,n,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,n,i,e){for(var o,s=this,u=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,a=this.dom.createFragment(this.element),c=0;o=u.exec(e);){var h=o[1],f=o[2],l=o[3],d=o[4],v=o[5];if(s.showSpaces||!f){var p=c!=o.index?e.slice(c,o.index):"";if(c=o.index+o[0].length,p&&a.appendChild(this.dom.createTextNode(p,this.element)),h){var m=s.session.getScreenTabSize(n+o.index);a.appendChild(s.$tabStrings[m].cloneNode(!0)),n+=m-1}else f?s.showSpaces?((g=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",g.textContent=r.stringRepeat(s.SPACE_CHAR,f.length),a.appendChild(g)):a.appendChild(this.com.createTextNode(f,this.element)):l?((g=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",g.textContent=r.stringRepeat(s.SPACE_CHAR,l.length),a.appendChild(g)):d?(n+=1,(g=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",g.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",g.textContent=s.showSpaces?s.SPACE_CHAR:d,a.appendChild(g)):v&&(n+=1,(g=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",g.className="ace_cjk",g.textContent=v,a.appendChild(g))}}if(a.appendChild(this.dom.createTextNode(c?e.slice(c):e,this.element)),this.$textToken[i.type])t.appendChild(a);else{var b="ace_"+i.type.replace(/\./g," ace_"),g=this.dom.createElement("span");"fold"==i.type&&(g.style.width=i.value.length*this.config.characterWidth+"px"),g.className=b,g.appendChild(a),t.appendChild(g)}return n+e.length},this.renderIndentGuide=function(t,n,i){var e=n.search(this.$indentGuideRe);if(e<=0||e>=i)return n;if(" "==n[0]){for(var r=(e-=e%this.tabSize)/this.tabSize,o=0;o<r;o++)t.appendChild(this.$tabStrings[" "].cloneNode(!0));return n.substr(e)}if("\t"==n[0]){for(o=0;o<e;o++)t.appendChild(this.$tabStrings["\t"].cloneNode(!0));return n.substr(e)}return n},this.$createLineElement=function(){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(t,n,i){var e=0,o=0,s=i[0],u=0,a=this.$createLineElement();t.appendChild(a);for(var c=0;c<n.length;c++){var h=n[c],f=h.value;if(0==c&&this.displayIndentGuides){if(e=f.length,!(f=this.renderIndentGuide(a,f,s)))continue;e-=f.length}if(e+f.length<s)u=this.$renderToken(a,u,h,f),e+=f.length;else{for(;e+f.length>=s;)u=this.$renderToken(a,u,h,f.substring(0,s-e)),f=f.substring(s-e),e=s,a=this.$createLineElement(),t.appendChild(a),a.appendChild(this.dom.createTextNode(r.stringRepeat("",i.indent),this.element)),u=0,s=i[++o]||Number.MAX_VALUE;0!=f.length&&(e+=f.length,u=this.$renderToken(a,u,h,f))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(a,u,null,"",!0)},this.$renderSimpleLine=function(t,n){var i=0,e=n[0],r=e.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(i=this.$renderToken(t,i,e,r));for(var o=1;o<n.length;o++){if(i+(r=(e=n[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(t,i,e,r);i=this.$renderToken(t,i,e,r)}},this.$renderOverflowMessage=function(t,n,i,e,r){i&&this.$renderToken(t,n,i,e.slice(0,this.MAX_LINE_LENGTH-n));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",t.appendChild(o)},this.$renderLine=function(t,n,i){if(i||0==i||(i=this.session.getFoldLine(n)),i)var e=this.$getFoldLineTokens(n,i);else e=this.session.getTokens(n);var r=t;if(e.length){var o=this.session.getRowSplitData(n);o&&o.length?(this.$renderWrappedLine(t,e,o),r=t.lastChild):(r=t,this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r)),this.$renderSimpleLine(r,e))}else this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r));if(this.showEOL&&r){i&&(n=i.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=n==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(s)}},this.$getFoldLineTokens=function(t,n){var i=this.session,e=[],r=i.getTokens(t);return n.walk((function(t,n,o,s,u){null!=t?e.push({type:"fold",value:t}):(u&&(r=i.getTokens(n)),r.length&&function(t,n,i){for(var r=0,o=0;o+t[r].value.length<n;)if(o+=t[r].value.length,++r==t.length)return;for(o!=n&&((s=t[r].value.substring(n-o)).length>i-n&&(s=s.substring(0,i-n)),e.push({type:t[r].type,value:s}),o=n+s.length,r+=1);o<i&&r<t.length;){var s;e.push((s=t[r].value).length+o>i?{type:t[r].type,value:s.substring(0,i-o)}:t[r]),o+=s.length,r+=1}}(r,s,o))}),n.end.row,this.session.getLine(n.end.row).length),e},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(u.prototype),n.Text=u})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(t,n){var i=t("../lib/dom"),e=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(t){for(var n=this.cursors,e=n.length;e--;)i.setStyle(n[e].style,"opacity",t?"":"0")},this.$startCssAnimation=function(){for(var t=this.cursors,n=t.length;n--;)t[n].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t!=this.smoothBlinking&&(this.smoothBlinking=t,i.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var t=i.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var n=function(){this.timeoutId=setTimeout((function(){t(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){t(!0),n()}),this.blinkInterval),n()}else this.$stopCssAnimation()},this.getPixelPosition=function(t,n){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(t);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,t.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(n?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(t,n){return t.top>=0&&t.top<n.maxHeight},this.update=function(t){this.config=t;var n=this.session.$selectionMarkers,e=0,r=0;void 0!==n&&0!==n.length||(n=[{cursor:null}]),e=0;for(var o=n.length;e<o;e++){var s=this.getPixelPosition(n[e].cursor,!0);if(!((s.top>t.height+t.offset||s.top<0)&&e>1)){var u=this.cursors[r++]||this.addCursor(),a=u.style;this.drawCursor?this.drawCursor(u,s,t,n[e],this.session):this.isCursorInView(s,t)?(i.setStyle(a,"display","block"),i.translate(u,s.left,s.top),i.setStyle(a,"width",Math.round(t.characterWidth)+"px"),i.setStyle(a,"height",t.lineHeight+"px")):i.setStyle(a,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(e.prototype),n.Cursor=e})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(t,n){var i=t("./lib/oop"),e=t("./lib/dom"),r=t("./lib/event"),o=t("./lib/event_emitter").EventEmitter,s=32768,u=function(t){this.element=e.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=e.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){i.implement(this,o),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(u.prototype);var a=function(t,n){u.call(this,t),this.scrollTop=0,this.scrollHeight=0,n.$scrollbarWidth=this.width=e.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(a,u),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>s?(this.coeff=s/t,t=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(a.prototype);var c=function(t,n){u.call(this,t),this.scrollLeft=0,this.height=n.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(c,u),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(c.prototype),n.ScrollBar=a,n.ScrollBarV=a,n.ScrollBarH=c,n.VScrollBar=a,n.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(t,n){var i=t("./lib/event"),e=function(t,n){this.onRender=t,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=n||window;var e=this;this._flush=function(){e.pending=!1;var t=e.changes;if(t&&(i.blockIdle(100),e.changes=0,e.onRender(t)),e.changes){if(e.$recursionLimit--<0)return;e.schedule()}else e.$recursionLimit=2}};(function(){this.schedule=function(t){this.changes=this.changes|t,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(){var t=this.changes;return this.changes=0,t}}).call(e.prototype),n.RenderLoop=e})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(t,n){var i=t("../lib/oop"),e=t("../lib/dom"),r=t("../lib/lang"),o=t("../lib/event"),s=t("../lib/useragent"),u=t("../lib/event_emitter").EventEmitter,a=256,c="function"==typeof ResizeObserver,h=200,f=n.FontMetrics=function(t){this.el=e.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=e.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=e.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),this.$measureNode.textContent=r.stringRepeat("X",a),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,u),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(t,n){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",s.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=n?"hidden":"visible"},this.checkForSizeChanges=function(t){if(void 0===t&&(t=this.$measureSizes()),t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var n=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=n&&n.width===t.width&&n.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$addObserver=function(){var t=this;this.$observer=new window.ResizeObserver((function(){t.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=o.onIdle((function n(){t.checkForSizeChanges(),o.onIdle(n,500)}),500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(t){var n={height:(t||this.$measureNode).clientHeight,width:(t||this.$measureNode).clientWidth/a};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(t){return this.$main.textContent=r.stringRepeat(t,a),this.$main.getBoundingClientRect().width/a},this.getCharacterWidth=function(t){var n=this.charSizes[t];return void 0===n&&(n=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),n},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function t(n){return n&&n.parentElement?(window.getComputedStyle(n).zoom||1)*t(n.parentElement):1},this.$initTransformMeasureNodes=function(){var t=function(t,n){return["div",{style:"position: absolute;top:"+t+"px;left:"+n+"px;"}]};this.els=e.buildDom([t(0,0),t(h,0),t(0,h),t(h,h)],this.el)},this.transformCoordinates=function(t,n){function i(t,n,i){var e=t[1]*n[0]-t[0]*n[1];return[(-n[1]*i[0]+n[0]*i[1])/e,(+t[1]*i[0]-t[0]*i[1])/e]}function e(t,n){return[t[0]-n[0],t[1]-n[1]]}function r(t,n){return[t[0]+n[0],t[1]+n[1]]}function o(t,n){return[t*n[0],t*n[1]]}function s(t){var n=t.getBoundingClientRect();return[n.left,n.top]}t&&(t=o(1/this.$getZoom(this.el),t)),this.els||this.$initTransformMeasureNodes();var u=s(this.els[0]),a=s(this.els[1]),c=s(this.els[2]),f=s(this.els[3]),l=i(e(f,a),e(f,c),e(r(a,c),r(f,u))),d=o(1+l[0],e(a,u)),v=o(1+l[1],e(c,u));if(n){var p=n,m=l[0]*p[0]/h+l[1]*p[1]/h+1,b=r(o(p[0],d),o(p[1],v));return r(o(1/m/h,b),u)}var g=e(t,u),y=i(e(d,o(l[0],g)),e(v,o(l[1],g)),g);return o(h,y)}}).call(f.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(t,n){var i=t("./lib/oop"),e=t("./lib/dom"),r=t("./config"),o=t("./layer/gutter").Gutter,s=t("./layer/marker").Marker,u=t("./layer/text").Text,a=t("./layer/cursor").Cursor,c=t("./scrollbar").HScrollBar,h=t("./scrollbar").VScrollBar,f=t("./renderloop").RenderLoop,l=t("./layer/font_metrics").FontMetrics,d=t("./lib/event_emitter").EventEmitter,v='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',p=t("./lib/useragent"),m=p.isIE;e.importCssString(v,"ace_editor.css");var b=function(t,n){var i=this;this.container=t||e.createElement("div"),e.addCssClass(this.container,"ace_editor"),e.HI_DPI&&e.addCssClass(this.container,"ace_hidpi"),this.setTheme(n),this.$gutter=e.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=e.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=e.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var d=this.$textLayer=new u(this.content);this.canvas=d.element,this.$markerFront=new s(this.content),this.$cursorLayer=new a(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on("scroll",(function(t){i.$scrollAnimation||i.session.setScrollTop(t.data-i.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(t){i.$scrollAnimation||i.session.setScrollLeft(t.data-i.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new l(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(t){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",t)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!p.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,d),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),e.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,n,i){if(void 0===n&&(n=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<n&&(this.$changedLines.lastRow=n)):this.$changedLines={firstRow:t,lastRow:n},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,n,i,e){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;e||(e=r.clientHeight||r.scrollHeight),i||(i=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(t,n,i,e);if(!this.$size.scrollerHeight||!i&&!e)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,n,i,r){var o=0,s=this.$size,u={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if((r-=this.$extraHeight||0)&&(t||s.height!=r)&&(s.height=r,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),i&&(t||s.width!=i)){o|=this.CHANGE_SIZE,s.width=i,null==n&&(n=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=n,e.setStyle(this.scrollBarH.element.style,"left",n+"px"),e.setStyle(this.scroller.style,"left",n+this.margin.left+"px"),s.scrollerWidth=Math.max(0,i-n-this.scrollBarV.getWidth()-this.margin.h),e.setStyle(this.$gutter.style,"left",this.margin.left+"px");var a=this.scrollBarV.getWidth()+"px";e.setStyle(this.scrollBarH.element.style,"right",a),e.setStyle(this.scroller.style,"right",a),e.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(o|=this.CHANGE_FULL)}return s.$dirty=!i||!r,o&&this._signal("resize",u),o},this.onGutterResize=function(t){var n=this.$showGutter?t:0;n!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,n,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var t=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=e.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=e.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var n=this.$printMarginEl.style;n.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",n.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var t=this.textarea.style,n=this.$composition;if(this.$keepTextAreaAtCursor||n){var i=this.$cursorLayer.$pixelPos;if(i){n&&n.markerRange&&(i=this.$cursorLayer.getPixelPosition(n.markerRange.start,!0));var r=this.layerConfig,o=i.top,s=i.left,u=n&&n.useTextareaForIME?this.lineHeight:m?0:1;if((o-=r.offset)<0||o>r.height-u)e.translate(this.textarea,0,0);else{var a=1,c=this.$size.height-u;n?n.useTextareaForIME?a=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:o+=this.lineHeight+2:o+=this.lineHeight,(s-=this.scrollLeft)>this.$size.scrollerWidth-a&&(s=this.$size.scrollerWidth-a),s+=this.gutterWidth+this.margin.left,e.setStyle(t,"height",u+"px"),e.setStyle(t,"width",a+"px"),e.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-a),Math.min(o,c))}}}else e.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,n=t.lastRow;return this.session.documentToScreenRow(n,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?n-1:n},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,n,i,e){var r=this.scrollMargin;r.top=0|t,r.bottom=0|n,r.right=0|e,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(t,n,i,e){var r=this.margin;r.top=0|t,r.bottom=0|n,r.right=0|e,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,n=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(t-=(n-this.lineHeight)*this.$scrollPastEnd)-n&&(t=this.scrollTop+n,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,n){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||n)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",t),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig()|this.$loop.clear(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig()|this.$loop.clear())}i=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),e.translate(this.content,-this.scrollLeft,-i.offset);var o=i.minHeight+"px";e.setStyle(this.content.style,"width",i.width+2*this.$padding+"px"),e.setStyle(this.content.style,"height",o)}if(t&this.CHANGE_H_SCROLL&&(e.translate(this.content,-this.scrollLeft,-i.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender",t);if(t&this.CHANGE_SCROLL)return this.$changedLines=null,t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&(t&this.CHANGE_GUTTER||t&this.CHANGE_LINES?this.$gutterLayer.update(i):this.$gutterLayer.scrollLines(i)),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender",t);t&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(i):t&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(i),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal("afterRender",t)}else this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,n=this.$maxLines*this.lineHeight,i=Math.min(n,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var e=!(i<=2*this.lineHeight)&&t>n;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||e!=this.$vScroll){e!=this.$vScroll&&(this.$vScroll=e,this.scrollBarV.setVisible(e));var r=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,n=this.$size,i=n.height<=2*this.lineHeight,e=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!i&&(this.$hScrollBarAlwaysVisible||n.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var u=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var a=n.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(n.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,e-n.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,r+2*this.$padding-n.scrollerWidth+h.right)));var f=!i&&(this.$vScrollBarAlwaysVisible||n.scrollerHeight-e+c<0||this.scrollTop>h.top),l=u!==f;l&&(this.$vScroll=f,this.scrollBarV.setVisible(f));var d,v,p=this.scrollTop%this.lineHeight,m=Math.ceil(a/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-p)/this.lineHeight)),g=b+m,y=this.lineHeight;b=t.screenToDocumentRow(b,0);var w=t.getFoldLine(b);w&&(b=w.start.row),d=t.documentToScreenRow(b,0),v=t.getRowLength(b)*y,g=Math.min(t.screenToDocumentRow(g,0),t.getLength()-1),a=n.scrollerHeight+t.getRowLength(g)*y+v,p=this.scrollTop-d*y;var x=0;return(this.layerConfig.width!=r||s)&&(x=this.CHANGE_H_SCROLL),(s||l)&&(x|=this.$updateCachedSize(!0,this.gutterWidth,n.width,n.height),this._signal("scrollbarVisibilityChanged"),l&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:b,firstRowScreen:d,lastRow:g,lineHeight:y,characterWidth:this.characterWidth,minHeight:a,maxHeight:e,offset:p,gutterOffset:y?Math.max(0,Math.ceil((p+n.height-n.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),x},this.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,n=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(t>i.lastRow+1||n<i.firstRow))return n===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,t,n),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),this.$textLayer&&t>this.$textLayer.MAX_LINE_LENGTH&&(t=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,n){this.$gutterLayer.addGutterDecoration(t,n)},this.removeGutterDecoration=function(t,n){this.$gutterLayer.removeGutterDecoration(t,n)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,n,i){this.scrollCursorIntoView(t,i),this.scrollCursorIntoView(n,i)},this.scrollCursorIntoView=function(t,n,i){if(0!==this.$size.scrollerHeight){var e=this.$cursorLayer.getPixelPosition(t),r=e.left,o=e.top,s=i&&i.top||0,u=i&&i.bottom||0,a=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;a+s>o?(n&&a+s>o+this.lineHeight&&(o-=n*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):a+this.$size.scrollerHeight-u<o+this.lineHeight&&(n&&a+this.$size.scrollerHeight-u<o-this.lineHeight&&(o+=n*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+u-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,n){"number"==typeof t&&(t={row:t,column:0});var i=this.$cursorLayer.getPixelPosition(t).top-(this.$size.scrollerHeight-this.lineHeight)*(n||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(t,n){var i,e=0,r=this.STEPS,o=[];for(e=0;e<r;++e)o.push((i=t,(n-t)*(Math.pow(e/this.STEPS-1,3)+1)+i));return o},this.scrollToLine=function(t,n,i,e){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;n&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==i&&this.animateScrolling(o,e)},this.animateScrolling=function(t,n){var i=this.scrollTop;if(this.$animatedScroll){var e=this;if(t!=i){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==i)return}var o=e.$calcSteps(t,i);this.$scrollAnimation={from:t,to:i,steps:o},clearInterval(this.$timer),e.session.setScrollTop(o.shift()),e.session.$scrollTop=i,this.$timer=setInterval((function(){if(!e.session)return clearInterval(e.$timer);o.length?(e.session.setScrollTop(o.shift()),e.session.$scrollTop=i):null!=i?(e.session.$scrollTop=-1,e.session.setScrollTop(i),i=null):(e.$timer=clearInterval(e.$timer),e.$scrollAnimation=null,n&&n())}),10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,n){this.session.setScrollTop(n),this.session.setScrollLeft(n)},this.scrollBy=function(t,n){n&&this.session.setScrollTop(this.session.getScrollTop()+n),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,n){return n<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||n>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(t,n){var i;if(this.$hasCssTransforms){i={top:0,left:0};var e=this.$fontMetrics.transformCoordinates([t,n]);t=e[1]-this.gutterWidth-this.margin.left,n=e[0]}else i=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-i.left-this.$padding,o=r/this.characterWidth,s=Math.floor((n+this.scrollTop-i.top)/this.lineHeight),u=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:u,side:o-u>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(t,n){var i;if(this.$hasCssTransforms){i={top:0,left:0};var e=this.$fontMetrics.transformCoordinates([t,n]);t=e[1]-this.gutterWidth-this.margin.left,n=e[0]}else i=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-i.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),u=Math.floor((n+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(u,Math.max(s,0),r)},this.textToScreenCoordinates=function(t,n){var i=this.scroller.getBoundingClientRect(),e=this.session.documentToScreenPosition(t,n),r=this.$padding+(this.session.$bidiHandler.isBidiRow(e.row,t)?this.session.$bidiHandler.getPosLeft(e.column):Math.round(e.column*this.characterWidth));return{pageX:i.left+r-this.scrollLeft,pageY:i.top+e.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){e.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){e.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition=t,t.cssText||(t.cssText=this.textarea.style.cssText),null==t.useTextareaForIME&&(t.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(e.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):t.markerId=this.session.addMarker(t.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(t){var n=this.session.selection.cursor;this.addToken(t,"composition_placeholder",n.row,n.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),e.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var t=this.session.selection.cursor;this.removeExtraToken(t.row,t.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(t,n,i,e){var r=this.session;r.bgTokenizer.lines[i]=null;var o={type:n,value:t},s=r.getTokens(i);if(null==e)s.push(o);else for(var u=0,a=0;a<s.length;a++){var c=s[a];if(e<=(u+=c.value.length)){var h=c.value.length-(u-e),f=c.value.slice(0,h),l=c.value.slice(h);s.splice(a,1,{type:c.type,value:f},o,{type:c.type,value:l});break}}this.updateLines(i,i)},this.removeExtraToken=function(t){this.updateLines(t,t)},this.setTheme=function(t,n){var i=this;function o(r){if(i.$themeId!=t)return n&&n();if(!r||!r.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");r.$id&&(i.$themeId=r.$id),e.importCssString(r.cssText,r.cssClass,i.container),i.theme&&e.removeCssClass(i.container,i.theme.cssClass);var o="padding"in r?r.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=r.cssClass,i.theme=r,e.addCssClass(i.container,r.cssClass),e.setCssClass(i.container,"ace_dark",r.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:r}),n&&n()}this.$themeId=t,i._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t?o(t):r.loadModule(["theme",t||this.$options.theme.initialValue],o)},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,n){e.setCssClass(this.container,t,!1!==n)},this.unsetStyle=function(t){e.removeCssClass(this.container,t)},this.setCursorStyle=function(t){e.setStyle(this.scroller.style,"cursor",t)},this.setMouseCursor=function(t){e.setStyle(this.scroller.style,"cursor",t)},this.attachToShadowRoot=function(){e.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(b.prototype),r.defineOptions(b.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){e.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){this.$gutterLayer.setHighlightGutterLine(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){this.$scrollPastEnd!=(t=+t||0)&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!p.isMobile&&!p.isIE}}),n.VirtualRenderer=b})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(t,n){var i=t("../lib/oop"),e=t("../lib/net"),r=t("../lib/event_emitter").EventEmitter,o=t("../config");function s(t){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var n=function(t){var n="importScripts('"+e.qualifyURL(t)+"');";try{return new Blob([n],{type:"application/javascript"})}catch(t){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(n),i.getBlob("application/javascript")}}(t),i=(window.URL||window.webkitURL).createObjectURL(n);return new Worker(i)}return new Worker(t)}var u=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,r),this.$createWorkerFromOldConfig=function(n,i,e,r,u){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),o.get("packaged")||!t.toUrl)r=r||o.moduleUrl(i,"worker");else{var a=this.$normalizePath;r=r||a(t.toUrl("ace/worker/worker.js",null,"_"));var c={};n.forEach((function(n){c[n]=a(t.toUrl(n,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=s(r),u&&this.send("importScripts",u),this.$worker.postMessage({init:!0,tlns:c,module:i,classname:e}),this.$worker},this.onMessage=function(t){var n=t.data;switch(n.type){case"event":this._signal(n.name,{data:n.data});break;case"call":var i=this.callbacks[n.id];i&&(i(n.data),delete this.callbacks[n.id]);break;case"error":this.reportError(n.data);break;case"log":window.console&&console.log&&console.log.apply(console,n.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return e.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,n){this.$worker.postMessage({command:t,args:n})},this.call=function(t,n,i){if(i){var e=this.callbackId++;this.callbacks[e]=i,n.push(e)}this.send(t,n)},this.emit=function(t,n){try{n.data&&n.data.err&&(n.data.err={message:n.data.err.message,stack:n.data.err.stack,code:n.data.err.code}),this.$worker.postMessage({event:t,data:{data:n.data}})}catch(t){console.error(t.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(t.start,"insert"==t.action?t.lines:t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(u.prototype),n.UIWorkerClient=function(t,n,i){var e=null,s=!1,a=Object.create(r),c=[],h=new u({messageBuffer:c,terminate:function(){},postMessage:function(t){c.push(t),e&&(s?setTimeout(f):f())}});h.setEmitSync=function(t){s=t};var f=function(){var t=c.shift();t.command?e[t.command].apply(e,t.args):t.event&&a._signal(t.event,t.data)};return a.postMessage=function(t){h.onMessage({data:t})},a.callback=function(t,n){this.postMessage({type:"call",id:n,data:t})},a.emit=function(t,n){this.postMessage({type:"event",name:t,data:n})},o.loadModule(["worker",n],(function(t){for(e=new t[i](a);c.length;)f()})),h},n.WorkerClient=u,n.createWorker=s})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(t,n){var i=t("./range").Range,e=t("./lib/event_emitter").EventEmitter,r=t("./lib/oop"),o=function(t,n,i,e,r,o){var s=this;this.length=n,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=e,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=i;var u=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=u.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,e),this.setup=function(){var t=this,n=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON(),e.selection.inMultiSelectMode&&e.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=e.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(i){var e=n.createAnchor(i.row,i.column);e.$insertRight=!0,e.detach(),t.others.push(e)})),e.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,n=this;this.othersActive=!0,this.others.forEach((function(e){e.markerId=t.addMarker(new i(e.row,e.column,e.row,e.column+n.length),n.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var n=t;if(n.start.row===n.end.row&&n.start.row===this.pos.row){this.$updating=!0;var e="insert"===t.action?n.end.column-n.start.column:n.start.column-n.end.column,r=n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1,o=n.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=e),r&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;s>=0;s--)this.doc.insertMergedLines(a={row:(u=this.others[s]).row,column:u.column+o},t.lines);else if("remove"===t.action)for(s=this.others.length-1;s>=0;s--){var u,a;this.doc.remove(new i((a={row:(u=this.others[s]).row,column:u.column+o}).row,a.column,a.row,a.column-e))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var n=this.others.length;n--;)this.others[n].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,n=this.session,e=function(e,r){n.removeMarker(e.markerId),e.markerId=n.addMarker(new i(e.row,e.column,e.row,e.column+t.length),r,null,!1)};e(this.pos,this.mainClass);for(var r=this.others.length;r--;)e(this.others[r],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var n=this.session.selection.getCursor();n.row===this.pos.row&&n.column>=this.pos.column&&n.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),n=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,i=0;i<n;i++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),n.PlaceHolder=o})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,n){var i=t("../lib/event"),e=t("../lib/useragent");function r(t,n){return t.row==n.row&&t.column==n.column}n.onMouseDown=function(t){var n=t.domEvent,o=n.altKey,s=n.shiftKey,u=n.ctrlKey,a=t.getAccelKey(),c=t.getButton();if(u&&e.isMac&&(c=n.button),t.editor.inMultiSelectMode&&2==c)t.editor.textInput.onContextMenu(t.domEvent);else if(u||o||a){if(0===c){var h,f=t.editor,l=f.selection,d=f.inMultiSelectMode,v=t.getDocumentPosition(),p=l.getCursor(),m=t.inSelection()||l.isEmpty()&&r(v,p),b=t.x,g=t.y,y=f.session,w=f.renderer.pixelToScreenCoordinates(b,g),x=w;if(f.$mouseHandler.$enableJumpToDef)u&&o||a&&o?h=s?"block":"add":o&&f.$blockSelectEnabled&&(h="block");else if(a&&!o){if(h="add",!d&&s)return}else o&&f.$blockSelectEnabled&&(h="block");if(h&&e.isMac&&n.ctrlKey&&f.$mouseHandler.cancelContextMenu(),"add"==h){if(!d&&m)return;if(!d){var k=l.toOrientedRange();f.addSelectionMarker(k)}var _=l.rangeList.rangeAtPoint(v);f.inVirtualSelectionMode=!0,s&&(_=null,f.removeSelectionMarker(k=l.ranges[0]||k)),f.once("mouseup",(function(){var t=l.toOrientedRange();_&&t.isEmpty()&&r(_.cursor,t.cursor)?l.substractPoint(t.cursor):(s?l.substractPoint(k.cursor):k&&(f.removeSelectionMarker(k),l.addRange(k)),l.addRange(t)),f.inVirtualSelectionMode=!1}))}else if("block"==h){var A;t.stop(),f.inVirtualSelectionMode=!0;var S=[],E=function(){var t=f.renderer.pixelToScreenCoordinates(b,g),n=y.screenToDocumentPosition(t.row,t.column,t.offsetX);r(x,t)&&r(n,l.lead)||(x=t,f.selection.moveToPosition(n),f.renderer.scrollCursorIntoView(),f.removeSelectionMarkers(S),S=l.rectangularRangeBlock(x,w),f.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=f.$mouseHandler.$clickSelection.clone()),S.forEach(f.addSelectionMarker,f),f.updateSelectionMarkers())};d&&!a?l.toSingleRange():!d&&a&&(A=l.toOrientedRange(),f.addSelectionMarker(A)),s?w=y.documentToScreenPosition(l.lead):l.moveToPosition(v),x={row:-1,column:-1};var O=E;i.capture(f.container,(function(t){b=t.clientX,g=t.clientY}),(function(){E(),clearInterval(M),f.removeSelectionMarkers(S),S.length||(S=[l.toOrientedRange()]),A&&(f.removeSelectionMarker(A),l.toSingleRange(A));for(var t=0;t<S.length;t++)l.addRange(S[t]);f.inVirtualSelectionMode=!1,f.$mouseHandler.$clickSelection=null}));var M=setInterval((function(){O()}),20);return t.preventDefault()}}}else 0===c&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(t,n){n.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.rangeCount>1?t.multiSelect.joinSelections():t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],n.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var i=t("../keyboard/hash_handler").HashHandler;n.keyboardHandler=new i(n.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(t,n){var i=t("./range_list").RangeList,e=t("./range").Range,r=t("./selection").Selection,o=t("./mouse/multi_select_handler").onMouseDown,s=t("./lib/event"),u=t("./lib/lang"),a=t("./commands/multi_select_commands");n.commands=a.defaultCommands.concat(a.multiSelectCommands);var c=new(0,t("./search").Search),h=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,n){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),n||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}t.cursor||(t.cursor=t.end);var e=this.rangeList.add(t);return this.$onAddRange(t),e.length&&this.$onRemoveRange(e),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),n||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var n=this.rangeList.removeAll();n.length&&this.$onRemoveRange(n),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var n=this.rangeList.substractPoint(t);if(n)return this.$onRemoveRange(n),n[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length&&this.$onRemoveRange(t)},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var n=this.rangeList.ranges.pop();t.push(n),this.rangeCount=0}for(var i=t.length;i--;){var e=this.ranges.indexOf(t[i]);this.ranges.splice(e,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(n=n||this.ranges[0])&&!n.isEqual(this.getRange())&&this.fromOrientedRange(n)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var t=this.ranges.length?this.ranges:[this.getRange()],n=[],i=0;i<t.length;i++){var r=t[i],o=r.start.row,s=r.end.row;if(o===s)n.push(r.clone());else{for(n.push(new e(o,r.start.column,o,this.session.getLine(o).length));++o<s;)n.push(this.getLineRange(o,!0));n.push(new e(s,0,s,r.end.column))}0!=i||this.isBackwards()||(n=n.reverse())}for(this.toSingleRange(),i=n.length;i--;)this.addRange(n[i])},this.joinSelections=function(){var t=this.rangeList.ranges,n=t[t.length-1],i=e.fromPoints(t[0].start,n.end);this.toSingleRange(),this.setSelectionRange(i,n.cursor==n.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,n=t[t.length-1],i=e.fromPoints(t[0].start,n.end);this.toSingleRange(),this.setSelectionRange(i,n.cursor==n.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,n,i){var r=[],o=t.column<n.column;if(o)var s=t.column,u=n.column,a=t.offsetX,c=n.offsetX;else s=n.column,u=t.column,a=n.offsetX,c=t.offsetX;var h,f,l,d=t.row<n.row;if(d)var v=t.row,p=n.row;else v=n.row,p=t.row;s<0&&(s=0),v<0&&(v=0),v==p&&(i=!0);for(var m=v;m<=p;m++){var b=e.fromPoints(this.session.screenToDocumentPosition(m,s,a),this.session.screenToDocumentPosition(m,u,c));if(b.isEmpty()){if(h&&(f=b.end).row==(l=h).row&&f.column==l.column)break;h=b.end}b.cursor=o?b.start:b.end,r.push(b)}if(d&&r.reverse(),!i){for(var g=r.length-1;r[g].isEmpty()&&g>0;)g--;if(g>0)for(var y=0;r[y].isEmpty();)y++;for(var w=g;w>=y;w--)r[w].isEmpty()&&r.splice(w,1)}return r}}.call(r.prototype);var f=t("./editor").Editor;function l(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=n.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",o),t.commands.addCommands(a.defaultCommands),function(t){if(t.textInput){var n=t.textInput.getElement(),i=!1;s.addListener(n,"keydown",(function(n){t.$blockSelectEnabled&&18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey)?i||(t.renderer.setMouseCursor("crosshair"),i=!0):i&&e()}),t),s.addListener(n,"keyup",e,t),s.addListener(n,"blur",e,t)}function e(){i&&(t.renderer.setMouseCursor(""),i=!1)}}(t))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var n=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",n),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var n=this.session.$selectionMarkers.indexOf(t);-1!=n&&this.session.$selectionMarkers.splice(n,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var n=this.session.$selectionMarkers,i=t.length;i--;){var e=t[i];if(e.marker){this.session.removeMarker(e.marker);var r=n.indexOf(e);-1!=r&&n.splice(r,1)}}this.session.selectionMarkerCount=n.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var n=t.command,i=t.editor;if(i.multiSelect){if(n.multiSelectAction)"forEach"==n.multiSelectAction?e=i.forEachSelection(n,t.args):"forEachLine"==n.multiSelectAction?e=i.forEachSelection(n,t.args,!0):"single"==n.multiSelectAction?(i.exitMultiSelectMode(),e=n.exec(i,t.args||{})):e=n.multiSelectAction(i,t.args||{});else{var e=n.exec(i,t.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return e}},this.forEachSelection=function(t,n,i){if(!this.inVirtualSelectionMode){var e,o=1==i||i&&i.$byLines,s=this.session,u=this.selection,a=(i&&i.keepOrder?u:u.rangeList).ranges;if(!a.length)return t.exec?t.exec(this,n||{}):t(this,n||{});var c=u._eventRegistry;u._eventRegistry={};var h=new r(s);this.inVirtualSelectionMode=!0;for(var f=a.length;f--;){if(o)for(;f>0&&a[f].start.row==a[f-1].end.row;)f--;h.fromOrientedRange(a[f]),h.index=f,this.selection=s.selection=h;var l=t.exec?t.exec(this,n||{}):t(this,n||{});e||void 0===l||(e=l),h.toOrientedRange(a[f])}h.detach(),this.selection=s.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=c,u.mergeOverlappingRanges(),u.ranges[0]&&u.fromOrientedRange(u.ranges[0]);var d=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),d&&d.from==d.to&&this.renderer.animateScrolling(d.from),e}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var n=this.multiSelect.rangeList.ranges,i=[],e=0;e<n.length;e++)i.push(this.session.getTextRange(n[e]));var r=this.session.getDocument().getNewLineCharacter();(t=i.join(r)).length==(i.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,n){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&n==this.multiSelect.anchor)return;var e=n==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;e.row!=n.row||this.session.$clipPositionToDocument(e.row,e.column).column!=n.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(t,n,i){if((n=n||{}).needle=t||n.needle,null==n.needle){var e=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();n.needle=this.session.getTextRange(e)}this.$search.set(n);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;i||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return e&&o.rangeList.rangeAtPoint(e.start)&&o.addRange(e,!0),r.length},this.selectMoreLines=function(t,n){var i=this.selection.toOrientedRange(),r=i.cursor==i.end,o=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,u=this.session.screenToDocumentPosition(o.row+t,o.column);if(i.isEmpty())c=u;else var a=this.session.documentToScreenPosition(r?i.end:i.start),c=this.session.screenToDocumentPosition(a.row+t,a.column);if(r?(s=e.fromPoints(u,c)).cursor=s.start:(s=e.fromPoints(c,u)).cursor=s.end,s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(n)var h=i.cursor}else this.selection.addRange(i);this.selection.addRange(s),h&&this.selection.substractPoint(h)},this.transposeSelections=function(t){for(var n=this.session,i=n.multiSelect,e=i.ranges,r=e.length;r--;)if((u=e[r]).isEmpty()){var o=n.getWordRange(u.start.row,u.start.column);u.start.row=o.start.row,u.start.column=o.start.column,u.end.row=o.end.row,u.end.column=o.end.column}i.mergeOverlappingRanges();var s=[];for(r=e.length;r--;)s.unshift(n.getTextRange(u=e[r]));for(t<0?s.unshift(s.pop()):s.push(s.shift()),r=e.length;r--;){var u;o=(u=e[r]).clone(),n.replace(u,s[r]),u.start.row=o.start.row,u.start.column=o.start.column}i.fromOrientedRange(i.ranges[0])},this.selectMore=function(t,n,i){var e=this.session,r=e.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=e.getWordRange(r.start.row,r.start.column)).cursor=-1==t?r.start:r.end,this.multiSelect.addRange(r),!i)){var o=e.getTextRange(r),s=function(t,n,i){return c.$options.wrap=!0,c.$options.needle=n,c.$options.backwards=-1==i,c.find(t)}(e,o,t);s&&(s.cursor=-1==t?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),n&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var t=this.session,n=t.multiSelect,i=n.ranges,r=-1,o=i.filter((function(t){if(t.cursor.row==r)return!0;r=t.cursor.row}));if(i.length&&o.length!=i.length-1){o.forEach((function(t){n.substractPoint(t.cursor)}));var s=0,a=1/0,c=i.map((function(n){var i=n.cursor,e=t.getLine(i.row).substr(i.column).search(/\S/g);return-1==e&&(e=0),i.column>s&&(s=i.column),e<a&&(a=e),e}));i.forEach((function(n,i){var r=n.cursor,o=s-r.column,h=c[i]-a;o>h?t.insert(r,u.stringRepeat(" ",o-h)):t.remove(new e(r.row,r.column,r.row,r.column-o+h)),n.start.column=n.end.column=s,n.start.row=n.end.row=r.row,n.cursor=n.end})),n.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var h=this.selection.getRange(),f=h.start.row,l=h.end.row,d=f==l;if(d){var v,p=this.session.getLength();do{v=this.session.getLine(l)}while(/[=:]/.test(v)&&++l<p);do{v=this.session.getLine(f)}while(/[=:]/.test(v)&&--f>0);f<0&&(f=0),l>=p&&(l=p-1)}var m=this.session.removeFullLines(f,l);m=this.$reAlignText(m,d),this.session.insert({row:f,column:0},m.join("\n")+"\n"),d||(h.start.column=0,h.end.column=m[m.length-1].length),this.selection.setRange(h)}},this.$reAlignText=function(t,n){var i,e,r,o=!0,s=!0;return t.map((function(t){var n=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return n?null==i?(i=n[1].length,e=n[2].length,r=n[3].length,n):(i+e+r!=n[1].length+n[2].length+n[3].length&&(s=!1),i!=n[1].length&&(o=!1),i>n[1].length&&(i=n[1].length),e<n[2].length&&(e=n[2].length),r>n[3].length&&(r=n[3].length),n):[t]})).map(n?c:o?s?function(t){return t[2]?a(i+e-t[2].length)+t[2]+a(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:c:function(t){return t[2]?a(i)+t[2]+a(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]});function a(t){return u.stringRepeat(" ",t)}function c(t){return t[2]?a(i)+t[2]+a(e-t[2].length+r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}}}).call(f.prototype),n.onSessionChange=function(t){var n=t.session;n&&!n.multiSelect&&(n.$selectionMarkers=[],n.selection.$initRangeList(),n.multiSelect=n.selection),this.multiSelect=n&&n.multiSelect;var i=t.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),n&&(n.multiSelect.on("addRange",this.$onAddRange),n.multiSelect.on("removeRange",this.$onRemoveRange),n.multiSelect.on("multiSelect",this.$onMultiSelect),n.multiSelect.on("singleSelect",this.$onSingleSelect),n.multiSelect.lead.on("change",this.$checkMultiselectChange),n.multiSelect.anchor.on("change",this.$checkMultiselectChange)),n&&this.inMultiSelectMode!=n.selection.inMultiSelectMode&&(n.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},n.MultiSelect=l,t("./config").defineOptions(f.prototype,"editor",{enableMultiselect:{set:function(t){l(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(t,n){var i=t("../../range").Range,e=n.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,n,i){var e=t.getLine(i);return this.foldingStartMarker.test(e)?"start":"markbeginend"==n&&this.foldingStopMarker&&this.foldingStopMarker.test(e)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(t,n,e){var r=/\S/,o=t.getLine(n),s=o.search(r);if(-1!=s){for(var u=e||o.length,a=t.getLength(),c=n,h=n;++n<a;){var f=t.getLine(n).search(r);if(-1!=f){if(f<=s){var l=t.getTokenAt(n,0);if(!l||"string"!==l.type)break}h=n}}if(h>c){var d=t.getLine(h).length;return new i(c,u,h,d)}}},this.openingBracketBlock=function(t,n,e,r,o){var s={row:e,column:r+1},u=t.$findClosingBracket(n,s,o);if(u){var a=t.foldWidgets[u.row];return null==a&&(a=t.getFoldWidget(u.row)),"start"==a&&u.row>s.row&&(u.row--,u.column=t.getLine(u.row).length),i.fromPoints(s,u)}},this.closingBracketBlock=function(t,n,e,r){var o={row:e,column:r},s=t.$findOpeningBracket(n,o);if(s)return s.column++,o.column--,i.fromPoints(s,o)}}).call(e.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(t,n){n.isDark=!1,n.cssClass="ace-tm",n.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',n.$id="ace/theme/textmate",t("../lib/dom").importCssString(n.cssText,n.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(t,n){var i=t("./lib/dom");function e(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(t){var n;return n=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+n:1+n},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach((function(n){n&&n.rowCount&&!n.hidden&&(t+=n.rowCount)})),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))}))}},this.updateOnFold=function(t,n){var i=n.lineWidgets;if(i&&t.action){for(var e=t.data,r=e.start.row,o=e.end.row,s="add"==t.action,u=r+1;u<o;u++)i[u]&&(i[u].hidden=s);i[o]&&(s?i[r]?i[o].hidden=s:i[r]=i[o]:(i[r]==i[o]&&(i[r]=void 0),i[o].hidden=s))}},this.updateOnChange=function(t){var n=this.session.lineWidgets;if(n){var i=t.start.row,e=t.end.row-i;if(0===e);else if("remove"==t.action){var r=n.splice(i+1,e);!n[i]&&r[r.length-1]&&(n[i]=r.pop()),r.forEach((function(t){t&&this.removeLineWidget(t)}),this),this.$updateRows()}else{var o=new Array(e);n[i]&&null!=n[i].column&&t.start.column>n[i].column&&i++,o.unshift(i,0),n.splice.apply(n,o),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var n=!0;t.forEach((function(t,i){if(t)for(n=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget})),n&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var n=this.session.lineWidgets[t.row];return n&&(t.$oldWidget=n,n.el&&n.el.parentNode&&(n.el.parentNode.removeChild(n.el),n._inDocument=!1)),this.session.lineWidgets[t.row]=t,t},this.addLineWidget=function(t){if(this.$registerLineWidget(t),t.session=this.session,!this.editor)return t;var n=this.editor.renderer;t.html&&!t.el&&(t.el=i.createElement("div"),t.el.innerHTML=t.html),t.el&&(i.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,n.container.appendChild(t.el),t._inDocument=!0,t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight)),null==t.rowCount&&(t.rowCount=t.pixelHeight/n.layerConfig.lineHeight);var e=this.session.getFoldAt(t.row,0);if(t.$fold=e,e){var r=this.session.lineWidgets;t.row!=e.end.row||r[e.start.row]?t.hidden=!0:r[e.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(t){}if(this.session.lineWidgets){var n=this.session.lineWidgets[t.row];if(n==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;n;){if(n.$oldWidget==t){n.$oldWidget=t.$oldWidget;break}n=n.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var n=this.session.lineWidgets,i=n&&n[t],e=[];i;)e.push(i),i=i.$oldWidget;return e},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,n){var i=this.session._changedWidgets,e=n.layerConfig;if(i&&i.length){for(var r=1/0,o=0;o<i.length;o++){var s=i[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,n.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/e.characterWidth));var u=s.h/e.lineHeight;s.coverLine&&(u-=this.session.getRowLineCount(s.row))<0&&(u=0),s.rowCount!=u&&(s.rowCount=u,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,n){var i=n.layerConfig,e=this.session.lineWidgets;if(e){for(var r=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,e.length);r>0&&!e[r];)r--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,n.$cursorLayer.config=i;for(var s=r;s<=o;s++){var u=e[s];if(u&&u.el)if(u.hidden)u.el.style.top=-100-(u.pixelHeight||0)+"px";else{u._inDocument||(u._inDocument=!0,n.container.appendChild(u.el));var a=n.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;u.coverLine||(a+=i.lineHeight*this.session.getRowLineCount(u.row)),u.el.style.top=a-i.offset+"px";var c=u.coverGutter?0:n.gutterWidth;u.fixedWidth||(c-=n.scrollLeft),u.el.style.left=c+"px",u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=i.width+2*i.padding+"px"),u.el.style.right=u.fixedWidth?n.scrollBar.getWidth()+"px":""}}}}}).call(e.prototype),n.LineWidgets=e})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(t,n){var i=t("../line_widgets").LineWidgets,e=t("../lib/dom"),r=t("../range").Range;n.showErrorMarker=function(t,n){var o=t.session;o.widgetManager||(o.widgetManager=new i(o),o.widgetManager.attach(t));var s=t.getCursorPosition(),u=s.row,a=o.widgetManager.getWidgetsAtRow(u).filter((function(t){return"errorMarker"==t.type}))[0];a?a.destroy():u-=n;var c,h=function(t,n,i){var e=t.getAnnotations().sort(r.comparePoints);if(e.length){var o=function(t,n,i){for(var e=0,r=t.length-1;e<=r;){var o=e+r>>1,s=i(n,t[o]);if(s>0)e=o+1;else{if(!(s<0))return o;r=o-1}}return-(e+1)}(e,{row:n,column:-1},r.comparePoints);o<0&&(o=-o-1),o>=e.length?o=i>0?0:e.length-1:0===o&&i<0&&(o=e.length-1);var s=e[o];if(s&&i){if(s.row===n){do{s=e[o+=i]}while(s&&s.row===n);if(!s)return e.slice()}var u=[];n=s.row;do{u[i<0?"unshift":"push"](s),s=e[o+=i]}while(s&&s.row==n);return u.length&&u}}}(o,u,n);if(h){var f=h[0];s.column=(f.pos&&"number"!=typeof f.column?f.pos.sc:f.column)||0,s.row=f.row,c=t.renderer.$gutterLayer.$annotations[s.row]}else{if(a)return;c={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(s.row),t.selection.moveToPosition(s);var l={row:s.row,fixedWidth:!0,coverGutter:!0,el:e.createElement("div"),type:"errorMarker"},d=l.el.appendChild(e.createElement("div")),v=l.el.appendChild(e.createElement("div"));v.className="error_widget_arrow "+c.className;var p=t.renderer.$cursorLayer.getPixelPosition(s).left;v.style.left=p+t.renderer.gutterWidth-5+"px",l.el.className="error_widget_wrapper",d.className="error_widget "+c.className,d.innerHTML=c.text.join("<br>"),d.appendChild(e.createElement("div"));var m=function(t,n,i){if(0===n&&("esc"===i||"return"===i))return l.destroy(),{command:"null"}};l.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(m),o.widgetManager.removeLineWidget(l),t.off("changeSelection",l.destroy),t.off("changeSession",l.destroy),t.off("mouseup",l.destroy),t.off("change",l.destroy))},t.keyBinding.addKeyboardHandler(m),t.on("changeSelection",l.destroy),t.on("changeSession",l.destroy),t.on("mouseup",l.destroy),t.on("change",l.destroy),t.session.widgetManager.addLineWidget(l),l.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:l.el.offsetHeight})},e.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(t,n){t("./lib/fixoldbrowsers");var i=t("./lib/dom"),e=t("./lib/event"),r=t("./range").Range,o=t("./editor").Editor,s=t("./edit_session").EditSession,u=t("./undomanager").UndoManager,a=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),n.config=t("./config"),n.require=t,n.edit=function(t,r){if("string"==typeof t){var s=t;if(!(t=document.getElementById(s)))throw new Error("ace.edit can't find div #"+s)}if(t&&t.env&&t.env.editor instanceof o)return t.env.editor;var u="";if(t&&/input|textarea/i.test(t.tagName)){var c=t;u=c.value,t=i.createElement("pre"),c.parentNode.replaceChild(t,c)}else t&&(u=t.textContent,t.innerHTML="");var h=n.createEditSession(u),f=new o(new a(t),h,r),l={document:h,editor:f,onResize:f.resize.bind(f,null)};return c&&(l.textarea=c),e.addListener(window,"resize",l.onResize),f.on("destroy",(function(){e.removeListener(window,"resize",l.onResize),l.editor.container.env=null})),f.container.env=f.env=l,f},n.createEditSession=function(t,n){var i=new s(t,n);return i.setUndoManager(new u),i},n.Range=r,n.Editor=o,n.EditSession=s,n.UndoManager=u,n.VirtualRenderer=a,n.version=n.config.version})),ace.require(["ace/ace"],(function(n){for(var i in n&&(n.config.init(!0),n.define=ace.define),window.ace||(window.ace=n),n)n.hasOwnProperty(i)&&(window.ace[i]=n[i]);window.ace.default=window.ace,t&&(t.exports=window.ace)}))})),on((function(t){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/lib/dom","ace/editor"],(function(t,n){var i=t("./lib/oop"),e=t("./lib/event_emitter").EventEmitter,r=t("./lib/lang"),o=t("./range").Range,s=t("./range_list").RangeList,u=t("./keyboard/hash_handler").HashHandler,a=t("./tokenizer").Tokenizer,c=t("./clipboard"),h={CURRENT_WORD:function(t){return t.session.getTextRange(t.session.getWordRange())},SELECTION:function(t,n,i){var e=t.session.getTextRange();return i?e.replace(/\n\r?([ \t]*\S)/g,"\n"+i+"$1"):e},CURRENT_LINE:function(t){return t.session.getLine(t.getCursorPosition().row)},PREV_LINE:function(t){return t.session.getLine(t.getCursorPosition().row-1)},LINE_INDEX:function(t){return t.getCursorPosition().row},LINE_NUMBER:function(t){return t.getCursorPosition().row+1},SOFT_TABS:function(t){return t.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(t){return t.session.getTabSize()},CLIPBOARD:function(){return c.getText&&c.getText()},FILENAME:function(t){return/[^/\\]*$/.exec(this.FILEPATH(t))[0]},FILENAME_BASE:function(t){return/[^/\\]*$/.exec(this.FILEPATH(t))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(t){return this.FILEPATH(t).replace(/[^/\\]*$/,"")},FILEPATH:function(){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(t){var n=t.session.$mode||{};return n.blockComment&&n.blockComment.start||""},BLOCK_COMMENT_END:function(t){var n=t.session.$mode||{};return n.blockComment&&n.blockComment.end||""},LINE_COMMENT:function(t){return(t.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:f.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:f.bind(null,{year:"2-digit"}),CURRENT_MONTH:f.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:f.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:f.bind(null,{month:"short"}),CURRENT_DATE:f.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:f.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:f.bind(null,{weekday:"short"}),CURRENT_HOUR:f.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:f.bind(null,{minute:"2-digit"}),CURRENT_SECOND:f.bind(null,{second:"2-digit"})};function f(t){var n=(new Date).toLocaleString("en-us",t);return 1==n.length?"0"+n:n}h.SELECTED_TEXT=h.SELECTION;var l=function(){this.snippetMap={},this.snippetNameMap={}};(function(){i.implement(this,e),this.getTokenizer=function(){return l.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function t(t){return t=t.substr(1),/^\d+$/.test(t)?[{tabstopId:parseInt(t,10)}]:[{text:t}]}function n(t){return"(?:[^\\\\"+t+"]|\\\\.)"}var i={regex:"/("+n("/")+"+)/",onMatch:function(t,n,i){var e=i[0];return e.fmtString=!0,e.guard=t.slice(1,-1),e.flag="",""},next:"formatString"};return l.$tokenizer=new a({start:[{regex:/\\./,onMatch:function(t,n,i){var e=t[1];return("}"==e&&i.length||-1!="`$\\".indexOf(e))&&(t=e),[t]}},{regex:/}/,onMatch:function(t,n,i){return[i.length?i.shift():t]}},{regex:/\$(?:\d+|\w+)/,onMatch:t},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(n,i,e){var r=t(n.substr(1));return e.unshift(r[0]),r},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+n("\\|")+"*\\|",onMatch:function(t,n,i){var e=t.slice(1,-1).replace(/\\[,|\\]|,/g,(function(t){return 2==t.length?t[1]:"\0"})).split("\0").map((function(t){return{value:t}}));return i[0].choices=e,[e[0]]},next:"start"},i,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(t,n,i){return i.length&&i[0].expectElse?(i[0].expectElse=!1,i[0].ifEnd={elseEnd:i[0]},[i[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(t,n,i){var e=t[1];return"}"==e&&i.length||-1!="`$\\".indexOf(e)?t=e:"n"==e?t="\n":"t"==e?t="\t":-1!="ulULE".indexOf(e)&&(t={changeCase:e,local:e>"a"}),[t]}},{regex:"/\\w*}",onMatch:function(t,n,i){var e=i.shift();return e&&(e.flag=t.slice(1,-1)),this.next=e&&e.tabstopId?"start":"",[e||t]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(t){return[{text:t.slice(1)}]}},{regex:/\${\w+/,onMatch:function(t,n,i){var e={text:t.slice(2)};return i.unshift(e),[e]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(t,n,i){var e=i.shift();return this.next=e&&e.tabstopId?"start":"",[e||t]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(t,n,i){return i[0].formatFunction=t.slice(2,-1),[i.shift()]},next:"formatString"},i,{regex:/:[\?\-+]?/,onMatch:function(t,n,i){"+"==t[1]&&(i[0].ifEnd=i[0]),"?"==t[1]&&(i[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(t,n){return this.getTokenizer().getLineTokens(t,n).tokens.map((function(t){return t.value||t}))},this.getVariableValue=function(t,n,i){if(/^\d+$/.test(n))return(this.variables.__||{})[n]||"";if(/^[A-Z]\d+$/.test(n))return(this.variables[n[0]+"__"]||{})[n.substr(1)]||"";if(n=n.replace(/^TM_/,""),!this.variables.hasOwnProperty(n))return"";var e=this.variables[n];return"function"==typeof e&&(e=this.variables[n](t,n,i)),null==e?"":e},this.variables=h,this.tmStrFormat=function(t,n,i){if(!n.fmt)return t;var e=n.guard;e=new RegExp(e,(n.flag||"").replace(/[^gim]/g,""));var r="string"==typeof n.fmt?this.tokenizeTmSnippet(n.fmt,"formatString"):n.fmt,o=this;return t.replace(e,(function(){var t=o.variables.__;o.variables.__=[].slice.call(arguments);for(var n=o.resolveVariables(r,i),e="E",s=0;s<n.length;s++){var u=n[s];if("object"==typeof u)if(n[s]="",u.changeCase&&u.local){var a=n[s+1];a&&"string"==typeof a&&(n[s]="u"==u.changeCase?a[0].toUpperCase():a[0].toLowerCase(),n[s+1]=a.substr(1))}else u.changeCase&&(e=u.changeCase);else"U"==e?n[s]=u.toUpperCase():"L"==e&&(n[s]=u.toLowerCase())}return o.variables.__=t,n.join("")}))},this.tmFormatFunction=function(t,n){return"upcase"==n.formatFunction?t.toUpperCase():"downcase"==n.formatFunction?t.toLowerCase():t},this.resolveVariables=function(t,n){for(var i=[],e="",r=!0,o=0;o<t.length;o++){var s=t[o];if("string"!=typeof s){if(s){if(r=!1,s.fmtString){var u=t.indexOf(s,o+1);-1==u&&(u=t.length),s.fmt=t.slice(o+1,u),o=u}if(s.text){var a=this.getVariableValue(n,s.text,e)+"";s.fmtString&&(a=this.tmStrFormat(a,s,n)),s.formatFunction&&(a=this.tmFormatFunction(a,s,n)),a&&!s.ifEnd?(i.push(a),c(s)):!a&&s.ifEnd&&c(s.ifEnd)}else s.elseEnd?c(s.elseEnd):(null!=s.tabstopId||null!=s.changeCase)&&i.push(s)}}else i.push(s),"\n"==s?(r=!0,e=""):r&&(e=/^\t*/.exec(s)[0],r=/\S/.test(s))}function c(n){var i=t.indexOf(n,o+1);-1!=i&&(o=i)}return i},this.insertSnippetForSelection=function(t,n){var i=t.getCursorPosition(),e=t.session.getLine(i.row),r=t.session.getTabString(),o=e.match(/^\s*/)[0];i.column<o.length&&(o=o.slice(0,i.column)),n=n.replace(/\r/g,"");var s=this.tokenizeTmSnippet(n);s=(s=this.resolveVariables(s,t)).map((function(t){return"\n"==t?t+o:"string"==typeof t?t.replace(/\t/g,r):t}));var u=[];s.forEach((function(t,n){if("object"==typeof t){var i=t.tabstopId,e=u[i];if(e||((e=u[i]=[]).index=i,e.value="",e.parents={}),-1===e.indexOf(t)){t.choices&&!e.choices&&(e.choices=t.choices),e.push(t);var r=s.indexOf(t,n+1);if(-1!==r){var o=s.slice(n+1,r);o.some((function(t){return"object"==typeof t}))&&!e.value?e.value=o:!o.length||e.value&&"string"==typeof e.value||(e.value=o.join(""))}}}})),u.forEach((function(t){t.length=0}));var a={};function c(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];if("object"==typeof e){if(a[e.tabstopId])continue;e=n[t.lastIndexOf(e,i-1)]||{tabstopId:e.tabstopId}}n[i]=e}return n}for(var h=0;h<s.length;h++){var f=s[h];if("object"==typeof f){var l=f.tabstopId,v=u[l],p=s.indexOf(f,h+1);if(a[l])a[l]===f&&(delete a[l],Object.keys(a).forEach((function(t){v.parents[t]=!0})));else{a[l]=f;var m=v.value;"string"!=typeof m?m=c(m):f.fmt&&(m=this.tmStrFormat(m,f,t)),s.splice.apply(s,[h+1,Math.max(0,p-h)].concat(m,f)),-1===v.indexOf(f)&&v.push(f)}}}var b=0,g=0,y="";s.forEach((function(t){if("string"==typeof t){var n=t.split("\n");n.length>1?(g=n[n.length-1].length,b+=n.length-1):g+=t.length,y+=t}else t&&(t.start?t.end={row:b,column:g}:t.start={row:b,column:g})}));var w=t.getSelectionRange(),x=t.session.replace(w,y);new d(t).addTabstops(u,w.start,x,t.inVirtualSelectionMode&&t.selection.index)},this.insertSnippet=function(t,n){var i=this;if(t.inVirtualSelectionMode)return i.insertSnippetForSelection(t,n);t.forEachSelection((function(){i.insertSnippetForSelection(t,n)}),null,{keepOrder:!0}),t.tabstopManager&&t.tabstopManager.tabNext()},this.$getScope=function(t){var n=t.session.$mode.$id||"";if("html"===(n=n.split("/").pop())||"php"===n){"php"!==n||t.session.$mode.inlinePhp||(n="html");var i=t.getCursorPosition(),e=t.session.getState(i.row);"object"==typeof e&&(e=e[0]),e.substring&&("js-"==e.substring(0,3)?n="javascript":"css-"==e.substring(0,4)?n="css":"php-"==e.substring(0,4)&&(n="php"))}return n},this.getActiveScopes=function(t){var n=this.$getScope(t),i=[n],e=this.snippetMap;return e[n]&&e[n].includeScopes&&i.push.apply(i,e[n].includeScopes),i.push("_"),i},this.expandWithTab=function(t,n){var i=this,e=t.forEachSelection((function(){return i.expandSnippetForSelection(t,n)}),null,{keepOrder:!0});return e&&t.tabstopManager&&t.tabstopManager.tabNext(),e},this.expandSnippetForSelection=function(t,n){var i,e=t.getCursorPosition(),r=t.session.getLine(e.row),o=r.substring(0,e.column),s=r.substr(e.column),u=this.snippetMap;return this.getActiveScopes(t).some((function(t){var n=u[t];return n&&(i=this.findMatchingSnippet(n,o,s)),!!i}),this),!!i&&(n&&n.dryRun||(t.session.doc.removeInLine(e.row,e.column-i.replaceBefore.length,e.column+i.replaceAfter.length),this.variables.M__=i.matchBefore,this.variables.T__=i.matchAfter,this.insertSnippetForSelection(t,i.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(t,n,i){for(var e=t.length;e--;){var r=t[e];if((!r.startRe||r.startRe.test(n))&&(!r.endRe||r.endRe.test(i))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(n):[""],r.matchAfter=r.endRe?r.endRe.exec(i):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(n)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(i)[0]:"",r}},this.snippetMap={},this.snippetNameMap={},this.register=function(t,n){var i=this.snippetMap,e=this.snippetNameMap,o=this;function s(t){return t&&!/^\^?\(.*\)\$?$|^\\b$/.test(t)&&(t="(?:"+t+")"),t||""}function u(t,n,i){return t=s(t),n=s(n),i?(t=n+t)&&"$"!=t[t.length-1]&&(t+="$"):(t+=n)&&"^"!=t[0]&&(t="^"+t),new RegExp(t)}function a(t){t.scope||(t.scope=n||"_"),i[n=t.scope]||(i[n]=[],e[n]={});var s=e[n];if(t.name){var a=s[t.name];a&&o.unregister(a),s[t.name]=t}i[n].push(t),t.prefix&&(t.tabTrigger=t.prefix),!t.content&&t.body&&(t.content=Array.isArray(t.body)?t.body.join("\n"):t.body),t.tabTrigger&&!t.trigger&&(!t.guard&&/^\w/.test(t.tabTrigger)&&(t.guard="\\b"),t.trigger=r.escapeRegExp(t.tabTrigger)),(t.trigger||t.guard||t.endTrigger||t.endGuard)&&(t.startRe=u(t.trigger,t.guard,!0),t.triggerRe=new RegExp(t.trigger),t.endRe=u(t.endTrigger,t.endGuard,!0),t.endTriggerRe=new RegExp(t.endTrigger))}t||(t=[]),Array.isArray(t)?t.forEach(a):Object.keys(t).forEach((function(n){a(t[n])})),this._signal("registerSnippets",{scope:n})},this.unregister=function(t,n){var i=this.snippetMap,e=this.snippetNameMap;function r(t){var r=e[t.scope||n];if(r&&r[t.name]){delete r[t.name];var o=i[t.scope||n],s=o&&o.indexOf(t);s>=0&&o.splice(s,1)}}t.content?r(t):Array.isArray(t)&&t.forEach(r)},this.parseSnippetFile=function(t){t=t.replace(/\r/g,"");for(var n,i=[],e={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;n=r.exec(t);){if(n[1])try{e=JSON.parse(n[1]),i.push(e)}catch(t){}if(n[4])e.content=n[4].replace(/^\t/gm,""),i.push(e),e={};else{var o=n[2],s=n[3];if("regex"==o){var u=/\/((?:[^\/\\]|\\.)*)|$/g;e.guard=u.exec(s)[1],e.trigger=u.exec(s)[1],e.endTrigger=u.exec(s)[1],e.endGuard=u.exec(s)[1]}else"snippet"==o?(e.tabTrigger=s.match(/^\S*/)[0],e.name||(e.name=s)):o&&(e[o]=s)}}return i},this.getSnippetByName=function(t,n){var i,e=this.snippetNameMap;return this.getActiveScopes(n).some((function(n){var r=e[n];return r&&(i=r[t]),!!i}),this),i}}).call(l.prototype);var d=function(t){if(t.tabstopManager)return t.tabstopManager;t.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=r.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(t)};(function(){this.attach=function(t){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=t,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(t){for(var n="r"==t.action[0],i=this.selectedTabstop||{},e=i.parents||{},r=(this.tabstops||[]).slice(),o=0;o<r.length;o++){var s=r[o];if(s.rangeList.$bias=s==i||e[s.index]?0:1,"remove"==t.action&&s!==i){var u=s.parents&&s.parents[i.index],a=s.rangeList.pointIndex(t.start,u);a=a<0?-a-1:a+1;for(var c=s.rangeList.pointIndex(t.end,u),h=s.rangeList.ranges.slice(a,c=c<0?-c-1:c-1),f=0;f<h.length;f++)this.removeRange(h[f])}s.rangeList.$onChange(t)}var l=this.editor.session;this.$inChange||!n||1!=l.getLength()||l.getValue()||this.detach()},this.updateLinkedFields=function(){var t=this.selectedTabstop;if(t&&t.hasLinkedRanges&&t.firstNonLinked){this.$inChange=!0;for(var i=this.editor.session,e=i.getTextRange(t.firstNonLinked),r=0;r<t.length;r++){var o=t[r];if(o.linked){var s=n.snippetManager.tmStrFormat(e,o.original,this.editor);i.replace(o,s)}}this.$inChange=!1}},this.onAfterExec=function(t){t.command&&!t.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var t=this.editor.selection.lead,n=this.editor.selection.anchor,i=this.editor.selection.isEmpty(),e=0;e<this.ranges.length;e++)if(!this.ranges[e].linked){var r=this.ranges[e].contains(t.row,t.column),o=i||this.ranges[e].contains(n.row,n.column);if(r&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(t){var n=this.tabstops.length,i=this.index+(t||1);(i=Math.min(Math.max(i,1),n))==n&&(i=0),this.selectTabstop(i),0===i&&this.detach()},this.selectTabstop=function(t){this.$openTabstops=null;var n=this.tabstops[this.index];if(n&&this.addTabstopMarkers(n),this.index=t,(n=this.tabstops[this.index])&&n.length){this.selectedTabstop=n;var i=n.firstNonLinked||n;if(n.choices&&(i.cursor=i.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(i);else{var e=this.editor.multiSelect;e.toSingleRange(i);for(var r=0;r<n.length;r++)n.hasLinkedRanges&&n[r].linked||e.addRange(n[r].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(t,n,i){var e=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!t[0]){var r=o.fromPoints(i,i);p(r.start,n),p(r.end,n),t[0]=[r],t[0].index=0}var u=[this.index+1,0],a=this.ranges;t.forEach((function(t,i){for(var r=this.$openTabstops[i]||t,c=0;c<t.length;c++){var h=t[c],f=o.fromPoints(h.start,h.end||h.start);v(f.start,n),v(f.end,n),f.original=h,f.tabstop=r,a.push(f),r!=t?r.unshift(f):r[c]=f,h.fmtString||r.firstNonLinked&&e?(f.linked=!0,r.hasLinkedRanges=!0):r.firstNonLinked||(r.firstNonLinked=f)}r.firstNonLinked||(r.hasLinkedRanges=!1),r===t&&(u.push(r),this.$openTabstops[i]=r),this.addTabstopMarkers(r),r.rangeList=r.rangeList||new s,r.rangeList.$bias=0,r.rangeList.addList(r)}),this),u.length>2&&(this.tabstops.length&&u.push(u.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,u))},this.addTabstopMarkers=function(t){var n=this.editor.session;t.forEach((function(t){t.markerId||(t.markerId=n.addMarker(t,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(t){var n=this.editor.session;t.forEach((function(t){n.removeMarker(t.markerId),t.markerId=null}))},this.removeRange=function(t){var n=t.tabstop.indexOf(t);-1!=n&&t.tabstop.splice(n,1),-1!=(n=this.ranges.indexOf(t))&&this.ranges.splice(n,1),-1!=(n=t.tabstop.rangeList.ranges.indexOf(t))&&t.tabstop.splice(n,1),this.editor.session.removeMarker(t.markerId),t.tabstop.length||(-1!=(n=this.tabstops.indexOf(t.tabstop))&&this.tabstops.splice(n,1),this.tabstops.length||this.detach())},this.keyboardHandler=new u,this.keyboardHandler.bindKeys({Tab:function(t){n.snippetManager&&n.snippetManager.expandWithTab(t)||(t.tabstopManager.tabNext(1),t.renderer.scrollCursorIntoView())},"Shift-Tab":function(t){t.tabstopManager.tabNext(-1),t.renderer.scrollCursorIntoView()},Esc:function(t){t.tabstopManager.detach()}})}).call(d.prototype);var v=function(t,n){0==t.row&&(t.column+=n.column),t.row+=n.row},p=function(t,n){t.row==n.row&&(t.column-=n.column),t.row-=n.row};t("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),n.snippetManager=new l;var m=t("./editor").Editor;(function(){this.insertSnippet=function(t,i){return n.snippetManager.insertSnippet(this,t,i)},this.expandSnippet=function(t){return n.snippetManager.expandWithTab(this,t)}}).call(m.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(t,n){var i=t("../virtual_renderer").VirtualRenderer,e=t("../editor").Editor,r=t("../range").Range,o=t("../lib/event"),s=t("../lib/lang"),u=t("../lib/dom"),a=function(t){var n=new i(t);n.$maxLines=4;var r=new e(n);return r.setHighlightActiveLine(!1),r.setShowPrintMargin(!1),r.renderer.setShowGutter(!1),r.renderer.setHighlightGutterLine(!1),r.$mouseHandler.$focusTimeout=0,r.$highlightTagPending=!0,r};u.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css"),n.AcePopup=function(t){var n=u.createElement("div"),i=new a(n);t&&t.appendChild(n),n.style.display="none",i.renderer.content.style.cursor="default",i.renderer.setStyle("ace_autocomplete"),i.setOption("displayIndentGuides",!1),i.setOption("dragDelay",150);var e,c=function(){};i.focus=c,i.$isFocused=!0,i.renderer.$cursorLayer.restartTimer=c,i.renderer.$cursorLayer.element.style.opacity=0,i.renderer.$maxLines=8,i.renderer.$keepTextAreaAtCursor=!1,i.setHighlightActiveLine(!1),i.session.highlight(""),i.session.$searchHighlight.clazz="ace_highlight-marker",i.on("mousedown",(function(t){var n=t.getDocumentPosition();i.selection.moveToPosition(n),f.start.row=f.end.row=n.row,t.stop()}));var h=new r(-1,0,-1,1/0),f=new r(-1,0,-1,1/0);f.id=i.session.addMarker(f,"ace_active-line","fullLine"),i.setSelectOnHover=function(t){t?h.id&&(i.session.removeMarker(h.id),h.id=null):h.id=i.session.addMarker(h,"ace_line-hover","fullLine")},i.setSelectOnHover(!1),i.on("mousemove",(function(t){if(e){if(e.x!=t.x||e.y!=t.y){(e=t).scrollTop=i.renderer.scrollTop;var n=e.getDocumentPosition().row;h.start.row!=n&&(h.id||i.setRow(n),d(n))}}else e=t})),i.renderer.on("beforeRender",(function(){if(e&&-1!=h.start.row){e.$pos=null;var t=e.getDocumentPosition().row;h.id||i.setRow(t),d(t,!0)}})),i.renderer.on("afterRender",(function(){var t=i.getRow(),n=i.renderer.$textLayer,e=n.element.childNodes[t-n.config.firstRow];e!==n.selectedNode&&n.selectedNode&&u.removeCssClass(n.selectedNode,"ace_selected"),n.selectedNode=e,e&&u.addCssClass(e,"ace_selected")}));var l=function(){d(-1)},d=function(t,n){t!==h.start.row&&(h.start.row=h.end.row=t,n||i.session._emit("changeBackMarker"),i._emit("changeHoverMarker"))};i.getHoveredRow=function(){return h.start.row},o.addListener(i.container,"mouseout",l),i.on("hide",l),i.on("changeSelection",l),i.session.doc.getLength=function(){return i.data.length},i.session.doc.getLine=function(t){var n=i.data[t];return"string"==typeof n?n:n&&n.value||""};var v=i.session.bgTokenizer;return v.$tokenizeRow=function(t){var n=i.data[t],e=[];if(!n)return e;"string"==typeof n&&(n={value:n});var r=n.caption||n.value||n.name;function o(t,i){t&&e.push({type:(n.className||"")+(i||""),value:t})}for(var s=r.toLowerCase(),u=(i.filterText||"").toLowerCase(),a=0,c=0,h=0;h<=u.length;h++)if(h!=c&&(n.matchMask&1<<h||h==u.length)){var f=u.slice(c,h);c=h;var l=s.indexOf(f,a);if(-1==l)continue;o(r.slice(a,l),""),o(r.slice(l,a=l+f.length),"completion-highlight")}return o(r.slice(a,r.length),""),n.meta&&e.push({type:"completion-meta",value:n.meta}),n.message&&e.push({type:"completion-message",value:n.message}),e},v.$updateOnChange=c,v.start=c,i.session.$computeWidth=function(){return this.screenWidth=0},i.isOpen=!1,i.isTopdown=!1,i.autoSelect=!0,i.filterText="",i.data=[],i.setData=function(t,n){i.filterText=n||"",i.setValue(s.stringRepeat("\n",t.length),-1),i.data=t||[],i.setRow(0)},i.getData=function(t){return i.data[t]},i.getRow=function(){return f.start.row},i.setRow=function(t){t=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,t)),f.start.row!=t&&(i.selection.clearSelection(),f.start.row=f.end.row=t||0,i.session._emit("changeBackMarker"),i.moveCursorTo(t||0,0),i.isOpen&&i._signal("select"))},i.on("changeSelection",(function(){i.isOpen&&i.setRow(i.selection.lead.row),i.renderer.scrollCursorIntoView()})),i.hide=function(){this.container.style.display="none",this._signal("hide"),i.isOpen=!1},i.show=function(t,n,r){var o=this.container,s=window.innerHeight,u=window.innerWidth,a=this.renderer,c=t.top+this.$borderSize;c>s/2&&!r&&c+n+a.$maxLines*n*1.4>s?(a.$maxPixelHeight=c-2*this.$borderSize,o.style.top="",o.style.bottom=s-c+"px",i.isTopdown=!1):(a.$maxPixelHeight=s-(c+=n)-.2*n,o.style.top=c+"px",o.style.bottom="",i.isTopdown=!0),o.style.display="";var h=t.left;h+o.offsetWidth>u&&(h=u-o.offsetWidth),o.style.left=h+"px",this._signal("show"),e=null,i.isOpen=!0},i.goTo=function(t){var n=this.getRow(),i=this.session.getLength()-1;switch(t){case"up":n=n<=0?i:n-1;break;case"down":n=n>=i?-1:n+1;break;case"start":n=0;break;case"end":n=i}this.setRow(n)},i.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},i.$imageSize=0,i.$borderSize=1,i},n.$singleLineEditor=a})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(t,n){n.parForEach=function(t,n,i){var e=0,r=t.length;0===r&&i();for(var o=0;o<r;o++)n(t[o],(function(t,n){++e===r&&i(t,n)}))};var i=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;n.retrievePrecedingIdentifier=function(t,n,e){e=e||i;for(var r=[],o=n-1;o>=0&&e.test(t[o]);o--)r.push(t[o]);return r.reverse().join("")},n.retrieveFollowingIdentifier=function(t,n,e){e=e||i;for(var r=[],o=n;o<t.length&&e.test(t[o]);o++)r.push(t[o]);return r},n.getCompletionPrefix=function(t){var n,i=t.getCursorPosition(),e=t.session.getLine(i.row);return t.completers.forEach(function(t){t.identifierRegexps&&t.identifierRegexps.forEach(function(t){!n&&t&&(n=this.retrievePrecedingIdentifier(e,i.column,t))}.bind(this))}.bind(this)),n||this.retrievePrecedingIdentifier(e,i.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],(function(t,n){var i=t("./keyboard/hash_handler").HashHandler,e=t("./autocomplete/popup").AcePopup,r=t("./autocomplete/util"),o=t("./lib/lang"),s=t("./lib/dom"),u=t("./snippets").snippetManager,a=t("./config"),c=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=o.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new e(document.body||document.documentElement),this.popup.on("click",function(t){this.insertMatch(),t.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(t,n,i){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),t.keyBinding.addKeyboardHandler(this.keyboardHandler);var e=t.renderer;if(this.popup.setRow(this.autoSelect?0:-1),i)i&&!n&&this.detach();else{this.popup.setTheme(t.getTheme()),this.popup.setFontSize(t.getFontSize());var r=e.layerConfig.lineHeight,o=e.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var s=t.container.getBoundingClientRect();o.top+=s.top-e.layerConfig.offset,o.left+=s.left-t.renderer.scrollLeft,o.left+=e.gutterWidth,this.popup.show(o,r)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(t){var n=document.activeElement,i=this.editor.textInput.getElement(),e=t.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(t.relatedTarget);n==i||n.parentNode==(this.popup&&this.popup.container)||e||n==this.tooltipNode||t.relatedTarget==i||this.detach()},this.mousedownListener=function(){this.detach()},this.mousewheelListener=function(){this.detach()},this.goTo=function(t){this.popup.goTo(t)},this.insertMatch=function(t){if(t||(t=this.popup.getData(this.popup.getRow())),!t)return!1;var n=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),t.completer&&t.completer.insertMatch)t.completer.insertMatch(this.editor,t);else{if(n.filterText)for(var i,e=this.editor.selection.getAllRanges(),r=0;i=e[r];r++)i.start.column-=n.filterText.length,this.editor.session.remove(i);t.snippet?u.insertSnippet(this.editor,t.snippet):this.editor.execCommand("insertstring",t.value||t)}this.completions==n&&this.detach(),this.editor.endOperation()},this.commands={Up:function(t){t.completer.goTo("up")},Down:function(t){t.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(t){t.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(t){t.completer.goTo("end")},Esc:function(t){t.completer.detach()},Return:function(t){return t.completer.insertMatch()},"Shift-Return":function(t){t.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(t){var n=t.completer.insertMatch();if(n||t.tabstopManager)return n;t.completer.goTo("down")},PageUp:function(t){t.completer.popup.gotoPageUp()},PageDown:function(t){t.completer.popup.gotoPageDown()}},this.gatherCompletions=function(t,n){var i=t.getSession(),e=t.getCursorPosition(),o=r.getCompletionPrefix(t);this.base=i.doc.createAnchor(e.row,e.column-o.length),this.base.$insertRight=!0;var s=[],u=t.completers.length;return t.completers.forEach((function(a){a.getCompletions(t,i,e,o,(function(i,e){!i&&e&&(s=s.concat(e)),n(null,{prefix:r.getCompletionPrefix(t),matches:s,finished:0==--u})}))})),!0},this.showPopup=function(t,n){this.editor&&this.detach(),this.activated=!0,this.editor=t,t.completer!=this&&(t.completer&&t.completer.detach(),t.completer=this),t.on("changeSelection",this.changeListener),t.on("blur",this.blurListener),t.on("mousedown",this.mousedownListener),t.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,n)},this.updateCompletions=function(t,n){if(t&&this.base&&this.completions){var i=this.editor.getCursorPosition(),e=this.editor.session.getTextRange({start:this.base,end:i});if(e==this.completions.filterText)return;return this.completions.setFilter(e),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=e||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,e,t):this.detach()}if(n&&n.matches)return i=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(i.row,i.column),this.base.$insertRight=!0,this.completions=new h(n.matches),this.openPopup(this.editor,"",t);var r=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(n,i){var e=function(){if(i.finished)return this.detach()}.bind(this),o=i.prefix,s=i&&i.matches;if(!s||!s.length)return e();if(0===o.indexOf(i.prefix)&&r==this.gatherCompletionsId){this.completions=new h(s),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(o);var u=this.completions.filtered;return u.length&&(1!=u.length||u[0].value!=o||u[0].snippet)?this.autoInsert&&1==u.length&&i.finished?this.insertMatch(u[0]):void this.openPopup(this.editor,o,t):e()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var t=this.popup,n=t.data,i=n&&(n[t.getHoveredRow()]||n[t.getRow()]),e=null;return i&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(t){return t.getDocTooltip&&(e=t.getDocTooltip(i)),e})),e||"string"==typeof i||(e=i),"string"==typeof e&&(e={docText:e}),e&&(e.docHTML||e.docText)?void this.showDocTooltip(e):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(t){this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var n=this.tooltipNode;t.docHTML?n.innerHTML=t.docHTML:t.docText&&(n.textContent=t.docText),n.parentNode||document.body.appendChild(n);var i=this.popup,e=i.container.getBoundingClientRect();n.style.top=i.container.style.top,n.style.bottom=i.container.style.bottom,n.style.display="block",window.innerWidth-e.right<320?e.left<320?i.isTopdown?(n.style.top=e.bottom+"px",n.style.left=e.left+"px",n.style.right="",n.style.bottom=""):(n.style.top=i.container.offsetTop-n.offsetHeight+"px",n.style.left=e.left+"px",n.style.right="",n.style.bottom=""):(n.style.right=window.innerWidth-e.left+"px",n.style.left=""):(n.style.left=e.right+1+"px",n.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var t=this.tooltipNode;this.editor.isFocused()||document.activeElement!=t||this.editor.focus(),this.tooltipNode=null,t.parentNode&&t.parentNode.removeChild(t)}},this.onTooltipClick=function(t){for(var n=t.target;n&&n!=this.tooltipNode;){if("A"==n.nodeName&&n.href){n.rel="noreferrer",n.target="_blank";break}n=n.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var t=this.popup.container;t&&t.parentNode&&t.parentNode.removeChild(t)}this.popup=null}}).call(c.prototype),c.for=function(t){return t.completer||(a.get("sharedPopups")?(c.$shared||(c.$sharedInstance=new c),t.completer=c.$sharedInstance):(t.completer=new c,t.once("destroy",(function(t,n){n.completer.destroy()})))),t.completer},c.startCommand={name:"startAutocomplete",exec:function(t,n){var i=c.for(t);i.autoInsert=!1,i.autoSelect=!0,i.showPopup(t,n),i.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var h=function(t,n){this.all=t,this.filtered=t,this.filterText=n||"",this.exactMatch=!1};(function(){this.setFilter=function(t){if(t.length>this.filterText&&0===t.lastIndexOf(this.filterText,0))var n=this.filtered;else n=this.all;this.filterText=t,n=(n=this.filterCompletions(n,this.filterText)).sort((function(t,n){return n.exactMatch-t.exactMatch||n.$score-t.$score||(t.caption||t.value).localeCompare(n.caption||n.value)}));var i=null;n=n.filter((function(t){var n=t.snippet||t.caption||t.value;return n!==i&&(i=n,!0)})),this.filtered=n},this.filterCompletions=function(t,n){var i=[],e=n.toUpperCase(),r=n.toLowerCase();t:for(var o,s=0;o=t[s];s++){var u=o.caption||o.value||o.snippet;if(u){var a,c,h=-1,f=0,l=0;if(this.exactMatch){if(n!==u.substr(0,n.length))continue t}else{var d=u.toLowerCase().indexOf(r);if(d>-1)l=d;else for(var v=0;v<n.length;v++){var p=u.indexOf(r[v],h+1),m=u.indexOf(e[v],h+1);if((a=p>=0&&(m<0||p<m)?p:m)<0)continue t;(c=a-h-1)>0&&(-1===h&&(l+=10),l+=c,f|=1<<v),h=a}}o.matchMask=f,o.exactMatch=l?0:1,o.$score=(o.score||0)-l,i.push(o)}}return i}}).call(h.prototype),n.Autocomplete=c,n.FilteredList=h})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(t,n){var i=t("../range").Range,e=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;n.getCompletions=function(t,n,r,o,s){var u=function(t,n){var r=function(t,n){return t.getTextRange(i.fromPoints({row:0,column:0},n)).split(e).length-1}(t,n),o=t.getValue().split(e),s=Object.create(null),u=o[r];return o.forEach((function(t,n){if(t&&t!==u){var i=Math.abs(r-n),e=o.length-i;s[t]=s[t]?Math.max(e,s[t]):e}})),s}(n,r);s(null,Object.keys(u).map((function(t){return{caption:t,value:t,score:u[t],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(t,n){var i=t("../snippets").snippetManager,e=t("../autocomplete").Autocomplete,r=t("../config"),o=t("../lib/lang"),s=t("../autocomplete/util"),u=t("../autocomplete/text_completer"),a={getCompletions:function(t,n,i,e,r){if(n.$mode.completer)return n.$mode.completer.getCompletions(t,n,i,e,r);var o=t.session.getState(i.row);r(null,n.$mode.getCompletions(o,n,i,e))}},c={getCompletions:function(t,n,e,r,o){var s=[],u=n.getTokenAt(e.row,e.column);u&&u.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?s.push("html-tag"):s=i.getActiveScopes(t);var a=i.snippetMap,c=[];s.forEach((function(t){for(var n=a[t]||[],i=n.length;i--;){var e=n[i],r=e.name||e.tabTrigger;r&&c.push({caption:r,snippet:e.content,meta:e.tabTrigger&&!e.name?e.tabTrigger+" ":"snippet",type:"snippet"})}}),this),o(null,c)},getDocTooltip:function(t){"snippet"!=t.type||t.docHTML||(t.docHTML=["<b>",o.escapeHTML(t.caption),"</b>","<hr></hr>",o.escapeHTML(t.snippet)].join(""))}},h=[c,u,a];n.setCompleters=function(t){h.length=0,t&&h.push.apply(h,t)},n.addCompleter=function(t){h.push(t)},n.textCompleter=u,n.keyWordCompleter=a,n.snippetCompleter=c;var f={name:"expandSnippet",exec:function(t){return i.expandWithTab(t)},bindKey:"Tab"},l=function(t,n){d(n.session.$mode)},d=function(t){"string"==typeof t&&(t=r.$modes[t]),t&&(i.files||(i.files={}),v(t.$id,t.snippetFileId),t.modes&&t.modes.forEach(d))},v=function(t,n){n&&t&&!i.files[t]&&(i.files[t]={},r.loadModule(n,(function(n){n&&(i.files[t]=n,!n.snippets&&n.snippetText&&(n.snippets=i.parseSnippetFile(n.snippetText)),i.register(n.snippets||[],n.scope),n.includeScopes&&(i.snippetMap[n.scope].includeScopes=n.includeScopes,n.includeScopes.forEach((function(t){d("ace/mode/"+t)}))))})))},p=function(t){var n=t.editor,i=n.completer&&n.completer.activated;if("backspace"===t.command.name)i&&!s.getCompletionPrefix(n)&&n.completer.detach();else if("insertstring"===t.command.name&&s.getCompletionPrefix(n)&&!i){var r=e.for(n);r.autoInsert=!1,r.showPopup(n)}},m=t("../editor").Editor;t("../config").defineOptions(m.prototype,"editor",{enableBasicAutocompletion:{set:function(t){t?(this.completers||(this.completers=Array.isArray(t)?t:h),this.commands.addCommand(e.startCommand)):this.commands.removeCommand(e.startCommand)},value:!1},enableLiveAutocompletion:{set:function(t){t?(this.completers||(this.completers=Array.isArray(t)?t:h),this.commands.on("afterExec",p)):this.commands.removeListener("afterExec",p)},value:!1},enableSnippets:{set:function(t){t?(this.commands.addCommand(f),this.on("changeMode",l),l(0,this)):(this.commands.removeCommand(f),this.off("changeMode",l))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(n){t&&(t.exports=n)}))})),on((function(t){ace.define("ace/snippets/snippets",["require","exports","module"],(function(t,n){n.snippetText="# snippets for making snippets :)\nsnippet snip\n\tsnippet ${1:trigger}\n\t\t${2}\nsnippet msnip\n\tsnippet ${1:trigger} ${2:description}\n\t\t${3}\nsnippet v\n\t{VISUAL}\n",n.scope="snippets"})),ace.require(["ace/snippets/snippets"],(function(n){t&&(t.exports=n)}))}));
/**
@license MIT
Copyright (c) 2015 Horacio "LostInBrittany" Gonzalez

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

@element ace-widget
@blurb LostInBrittany's Ace (http://ace.c9.io/) widget
@homepage index.html
@demo demo/index.html
*/
var sn=function(){var t=this;setTimeout((function(){t.isFocused()||t.textInput.focus()})),this.textInput.$focusScroll="browser",this.textInput.focus()};class un extends en{static get template(){return nn`
      <style>
        :host {
          display: block;
          width: 100%;
        }
    
        #editor {
          border: 1px solid #e3e3e3;
          border-radius: 4px;
          @apply --ace-widget-editor;
        }
      </style>
      <div id="editor"></div>
    `}static get is(){return"ace-widget"}static get properties(){return{theme:{type:String,value:"ace/theme/eclipse",observer:"themeChanged"},mode:{type:String,notify:!0,observer:"modeChanged"},value:{type:String,notify:!0,observer:"valueChanged"},readonly:{type:Boolean,value:!1,observer:"readonlyChanged"},softtabs:{type:Boolean,value:!0,observer:"softtabsChanged"},wrap:{type:Boolean,value:!1,observer:"wrapChanged"},fontSize:{type:String,value:"14px",observer:"fontSizeChanged"},tabSize:{type:Number,value:4,observer:"tabSizeChanged"},snippets:{type:String,notify:!0},autoComplete:{type:Object,notify:!0},minlines:{type:Number,value:15},maxlines:{type:Number,value:30},enableLiveAutocompletion:{type:Boolean,value:!1},enableSnippets:{type:Boolean,value:!1},initialFocus:{type:Boolean,value:!1},placeholder:{type:String,value:""},verbose:{type:Boolean,value:!1},baseUrl:{type:String,value:""}}}static get importMeta(){return import.meta}async connectedCallback(){super.connectedCallback();let t=this.baseUrl||`${this.importPath}../../ace-builds/src-min-noconflict/`;ace||await import(`${t}ace.js`),ace.require("ace/ext/language_tools")||await import(`${t}ext-language_tools.js`);let n=this.$.editor;n.style.width="100%",n.style.height="100%",this.editor=ace.edit(n),this.editor.focus=sn,this.dispatchEvent(new CustomEvent("editor-ready",{detail:{value:this.editor,oldValue:null}})),this.initializeEditor()}initializeEditor(){let t=this,n=this.editor;this.head=document.head,this.injectStyle("#ace_editor\\.css");let i=this.baseUrl||`${this.importPath}../../ace-builds/src-min-noconflict/`;ace.config.set("basePath",i),ace.config.set("modePath",i),ace.config.set("themePath",i),ace.config.set("workerPath",i),this.themeChanged(),this.editorValue="",n.setOption("enableSnippets",this.enableSnippets),n.setOption("enableBasicAutocompletion",!0),n.setOption("enableLiveAutocompletion",this.enableLiveAutocompletion),n.on("change",this.editorChangeAction.bind(this)),n.on("input",this._updatePlaceholder.bind(this)),setTimeout(this._updatePlaceholder.bind(this),100),this.session=n.getSession(),this.initialFocus&&n.focus(),n.$blockScrolling=1/0,n.setTheme(this.theme),this.readonlyChanged(),this.wrapChanged(),this.tabSizeChanged(),this.modeChanged(),this.softtabsChanged(),this.fontSizeChanged();let e=this.innerHTML.trim();void 0===this.value?this.value=e:this.valueChanged(),n.setOptions({minLines:this.minlines,maxLines:this.maxlines}),this.enableSnippets&&ace.require("ace/snippets").snippetManager.register(this.snippets,"javascript"),ace.require("ace/ext/language_tools").addCompleter({getCompletions:function(n,i,e,r,o){o(null,0!==r.length&&t.autoComplete||[])}}),this.verbose&&console.debug("[ace-widget] After initializing: editor.getSession().getValue()",n.getSession().getValue())}fontSizeChanged(){null!=this.editor&&(this.$.editor.style.fontSize=this.fontSize)}modeChanged(){this.editor&&this.editor.getSession().setMode(this.mode)}softtabsChanged(){null!=this.editor&&this.editor.getSession().setUseSoftTabs(this.softtabs)}themeChanged(){null!=this.editor&&this.editor.setTheme(this.theme)}valueChanged(){null!=this.editor&&this.editorValue!=this.value&&(this.editorValue=this.value,this.editor.clearSelection(),this.editor.resize())}readonlyChanged(){null!=this.editor&&(this.editor.setReadOnly(this.readonly),this.editor.setHighlightActiveLine(!this.readonly),this.editor.setHighlightGutterLine(!this.readonly),this.editor.renderer.$cursorLayer.element.style.opacity=this.readonly?0:1)}wrapChanged(){null!=this.editor&&this.editor.getSession().setUseWrapMode(this.wrap)}tabSizeChanged(){null!=this.editor&&this.tabSize&&this.editor.getSession().setTabSize(this.tabSize)}editorChangeAction(){this.dispatchEvent(new CustomEvent("editor-content",{detail:{value:this.editorValue,oldValue:this._value}}))}get editorValue(){return this.editor.getValue()}set editorValue(t){void 0!==t&&(this._value=t,this.editor.setValue(t))}focus(){this.editor.focus()}_updatePlaceholder(){let t=!this.editor.session.getValue().length,n=this.editor.renderer.emptyMessageNode;this.verbose&&console.debug("[ace-widget] _updatePlaceholder",{shouldShow:t,node:n}),!t&&n?(this.editor.renderer.scroller.removeChild(this.editor.renderer.emptyMessageNode),this.editor.renderer.emptyMessageNode=null):t&&!n&&(this.verbose&&console.debug("[ace-widget] _updatePlaceholder - shouldShow && !node"),n=this.editor.renderer.emptyMessageNode=document.createElement("div"),n.textContent=this.placeholder,n.className="ace_comment",n.style.padding="0 9px",n.style.zIndex="1",n.style.position="absolute",n.style.color="#aaa",this.verbose&&console.debug("[ace-widget] _updatePlaceholder - node",n),this.editor.renderer.scroller.appendChild(n))}injectStyle(t){const n=this.getRootNode().querySelector(t)||document.querySelector(t);this.shadowRoot.appendChild(n.cloneNode(!0))}}window.customElements.define(un.is,un);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var an=function(t,n){return(an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function cn(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}an(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var hn=function(){return(hn=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var r in n=arguments[i])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function fn(t,n,i,e){return new(i||(i=Promise))((function(r,o){function s(t){try{a(e.next(t))}catch(t){o(t)}}function u(t){try{a(e.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,u)}a((e=e.apply(t,n||[])).next())}))}function ln(t,n){var i,e,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,e&&(r=2&o[0]?e.return:o[0]?e.throw||((r=e.return)&&r.call(e),0):e.next)&&!(r=r.call(e,o[1])).done)return r;switch(e=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,e=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(t){o=[6,t],e=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function dn(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],e=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var e,r,o=i.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(e=o.next()).done;)s.push(e.value)}catch(t){r={error:t}}finally{try{e&&!e.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function pn(t,n){for(var i=0,e=n.length,r=t.length;i<e;i++,r++)t[r]=n[i];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(var i in n)n.hasOwnProperty(i)&&"__proto__"!==i&&(t[i]=mn(t[i],n[i]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bn=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(n,i){t.resolve=n,t.reject=i}))}return t.prototype.wrapCallback=function(t){var n=this;return function(i,e){i?n.reject(i):n.resolve(e),"function"==typeof t&&(n.promise.catch((function(){})),1===t.length?t(i):t(i,e))}},t}();function gn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yn=function(t){function n(i,e,r){var o=t.call(this,e)||this;return o.code=i,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,wn.prototype.create),o}return cn(n,t),n}(Error),wn=function(){function t(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return t.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var e=n[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?xn(o,e):"Error",u=this.serviceName+": "+s+" ("+r+").",a=new yn(r,u,e);return a},t}();function xn(t,n){return t.replace(kn,(function(t,i){var e=n[i];return null!=e?String(e):"<"+i+"?>"}))}var kn=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function An(t,n){var i=new Sn(t,n);return i.subscribe.bind(i)}var Sn=function(){function t(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(i)})).catch((function(t){i.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(n){n.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(n){n.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,n,i){var e,r=this;if(void 0===t&&void 0===n&&void 0===i)throw new Error("Missing Observer.");void 0===(e=function(t){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var e=i[n];if(e in t&&"function"==typeof t[e])return!0}return!1}(t)?t:{next:t,error:n,complete:i}).next&&(e.next=En),void 0===e.error&&(e.error=En),void 0===e.complete&&(e.complete=En);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?e.error(r.finalError):e.complete()}catch(t){}})),this.observers.push(e),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},t.prototype.sendOne=function(t,n){var i=this;this.task.then((function(){if(void 0!==i.observers&&void 0!==i.observers[t])try{n(i.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){n.observers=void 0,n.onNoObservers=void 0})))},t}();function En(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){return t&&t._delegate?t._delegate:t}var Mn,Cn=function(){function t(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Tn=function(){function t(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new bn;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var e=this.getOrInitializeService({instanceIdentifier:n});e&&i.resolve(e)}catch(t){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(t){var n=hn({identifier:"[DEFAULT]",optional:!1},t),i=n.optional,e=this.normalizeInstanceIdentifier(n.identifier);if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}try{for(var e=dn(this.instancesDeferred.entries()),r=e.next();!r.done;r=e.next()){var o=vn(r.value,2),s=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var a=this.getOrInitializeService({instanceIdentifier:u});s.resolve(a)}catch(t){}}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return fn(this,void 0,void 0,(function(){var t;return ln(this,(function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(pn(pn([],vn(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),vn(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return n.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var n,i;void 0===t&&(t={});var e=t.instanceIdentifier,r=t.options,o=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var a=dn(this.instancesDeferred.entries()),c=a.next();!c.done;c=a.next()){var h=vn(c.value,2),f=h[1];s===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(u,s),u},t.prototype.onInit=function(t){var n=this;return this.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,n){var i,e;try{for(var r=dn(this.onInitCallbacks),o=r.next();!o.done;o=r.next()){var s=o.value;try{s(t,n)}catch(t){}}}catch(t){i={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(t){var n,i=t.instanceIdentifier,e=t.options,r=void 0===e?{}:e,o=this.instances.get(i);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(n=i,"[DEFAULT]"===n?void 0:n),options:r}),this.instances.set(i,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),jn=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new Tn(t,this);return this.providers.set(t,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function Rn(){for(var t=0,n=0,i=arguments.length;n<i;n++)t+=arguments[n].length;var e=Array(t),r=0;for(n=0;n<i;n++)for(var o=arguments[n],s=0,u=o.length;s<u;s++,r++)e[r]=o[s];return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn,In=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Fn||(Fn={}));var Bn,Pn={debug:Fn.DEBUG,verbose:Fn.VERBOSE,info:Fn.INFO,warn:Fn.WARN,error:Fn.ERROR,silent:Fn.SILENT},Ln=Fn.INFO,zn=((Mn={})[Fn.DEBUG]="log",Mn[Fn.VERBOSE]="log",Mn[Fn.INFO]="info",Mn[Fn.WARN]="warn",Mn[Fn.ERROR]="error",Mn),Dn=function(t,n){for(var i=[],e=2;e<arguments.length;e++)i[e-2]=arguments[e];if(!(n<t.logLevel)){var r=(new Date).toISOString(),o=zn[n];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+n+")");console[o].apply(console,Rn(["["+r+"]  "+t.name+":"],i))}},Nn=function(){function t(t){this.name=t,this._logLevel=Ln,this._logHandler=Dn,this._userLogHandler=null,In.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Fn))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Pn[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Fn.DEBUG],t)),this._logHandler.apply(this,Rn([this,Fn.DEBUG],t))},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Fn.VERBOSE],t)),this._logHandler.apply(this,Rn([this,Fn.VERBOSE],t))},t.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Fn.INFO],t)),this._logHandler.apply(this,Rn([this,Fn.INFO],t))},t.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Fn.WARN],t)),this._logHandler.apply(this,Rn([this,Fn.WARN],t))},t.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rn([this,Fn.ERROR],t)),this._logHandler.apply(this,Rn([this,Fn.ERROR],t))},t}();function Un(t){In.forEach((function(n){n.setLogLevel(t)}))}var Vn,Hn=((Bn={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Bn["bad-app-name"]="Illegal App name: '{$appName}",Bn["duplicate-app"]="Firebase App named '{$appName}' already exists",Bn["app-deleted"]="Firebase App named '{$appName}' already deleted",Bn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Bn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Bn),$n=new wn("app","Firebase",Hn),Kn=((Vn={})["@firebase/app"]="fire-core",Vn["@firebase/analytics"]="fire-analytics",Vn["@firebase/app-check"]="fire-app-check",Vn["@firebase/auth"]="fire-auth",Vn["@firebase/database"]="fire-rtdb",Vn["@firebase/functions"]="fire-fn",Vn["@firebase/installations"]="fire-iid",Vn["@firebase/messaging"]="fire-fcm",Vn["@firebase/performance"]="fire-perf",Vn["@firebase/remote-config"]="fire-rc",Vn["@firebase/storage"]="fire-gcs",Vn["@firebase/firestore"]="fire-fst",Vn["fire-js"]="fire-js",Vn["firebase-wrapper"]="fire-js-all",Vn),Wn=new Nn("@firebase/app"),Gn=function(){function t(t,n,i){var e=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=mn(void 0,t),this.container=new jn(n.name),this._addComponent(new Cn("app",(function(){return e}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return e._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(n){t.checkDestroyed_(),n()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,n){return void 0===n&&(n="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(t,n){void 0===n&&(n="[DEFAULT]"),this.container.getProvider(t).clearInstance(n)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Wn.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw $n.create("app-deleted",{appName:this.name_})},t}();Gn.prototype.name&&Gn.prototype.options||Gn.prototype.delete||console.log("dc");var qn=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var n=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var n={},i=new Map,e={__esModule:!0,initializeApp:function(i,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw $n.create("bad-app-name",{appName:String(s)});if(_n(n,s))throw $n.create("duplicate-app",{appName:s});var u=new t(i,o,e);return n[s]=u,u},app:r,registerVersion:function(t,n,i){var e,r=null!==(e=Kn[t])&&void 0!==e?e:t;i&&(r+="-"+i);var s=r.match(/\s|\//),u=n.match(/\s|\//);if(s||u){var a=['Unable to register library "'+r+'" with version "'+n+'":'];return s&&a.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&u&&a.push("and"),u&&a.push('version name "'+n+'" contains illegal characters (whitespace or "/")'),void Wn.warn(a.join(" "))}o(new Cn(r+"-version",(function(){return{library:r,version:n}}),"VERSION"))},setLogLevel:Un,onLog:function(t,n){if(null!==t&&"function"!=typeof t)throw $n.create("invalid-log-argument");!function(t,n){for(var i=function(i){var e=null;n&&n.level&&(e=Pn[n.level]),i.userLogHandler=null===t?null:function(n,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");i>=(null!=e?e:n.logLevel)&&t({level:Fn[i].toLowerCase(),message:s,args:r,type:n.name})}},e=0,r=In;e<r.length;e++)i(r[e])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,n)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete n[t]},components:i,useAsService:function(t,n){return"serverAuth"===n?null:n}}};function r(t){if(!_n(n,t=t||"[DEFAULT]"))throw $n.create("no-app",{appName:t});return n[t]}function o(o){var s=o.name;if(i.has(s))return Wn.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?e[s]:null;if(i.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[s])throw $n.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&mn(u,o.serviceProps),e[s]=u,t.prototype[s]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var a=0,c=Object.keys(n);a<c.length;a++)n[c[a]]._addComponent(o);return"PUBLIC"===o.type?e[s]:null}return e.default=e,Object.defineProperty(e,"apps",{get:function(){return Object.keys(n).map((function(t){return n[t]}))}}),r.App=t,e}(Gn);return n.INTERNAL=hn(hn({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){mn(n,t)},createSubscribe:An,ErrorFactory:wn,deepExtend:mn}),n}(),Jn=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var n=t.getComponent();return"VERSION"===(null==n?void 0:n.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var n=t.getImmediate();return n.library+"/"+n.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Wn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Yn=self.firebase.SDK_VERSION;Yn&&Yn.indexOf("LITE")>=0&&Wn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Qn=qn.initializeApp;qn.initializeApp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return gn()&&Wn.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Qn.apply(void 0,t)};var Zn=qn;!function(t){t.INTERNAL.registerComponent(new Cn("platform-logger",(function(t){return new Jn(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.21",void 0),t.registerVersion("fire-js","")}(Zn),
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Zn.registerVersion("firebase","8.5.0","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xn=function(t){function n(i,e){var r=t.call(this,ti(i),"Firebase Storage: "+e+" ("+ti(i)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,n.prototype),r}return cn(n,t),n.prototype._codeEquals=function(t){return ti(t)===this.code},Object.defineProperty(n.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),n}(yn);function ti(t){return"storage/"+t}function ni(){return new Xn("unknown","An unknown error occurred, please check the error payload for server response.")}function ii(){return new Xn("canceled","User canceled the upload/download.")}function ei(){return new Xn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ri(t){return new Xn("invalid-argument",t)}function oi(){return new Xn("app-deleted","The Firebase app was deleted.")}function si(t){return new Xn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ui(t,n){return new Xn("invalid-format","String does not match format '"+t+"': "+n)}function ai(t){throw new Xn("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hi=function(t,n){this.data=t,this.contentType=n||null};function fi(t,n){switch(t){case ci.RAW:return new hi(li(n));case ci.BASE64:case ci.BASE64URL:return new hi(di(t,n));case ci.DATA_URL:return new hi((i=new pi(n)).base64?di(ci.BASE64,i.rest):function(t){var n;try{n=decodeURIComponent(t)}catch(t){throw ui(ci.DATA_URL,"Malformed data URL.")}return li(n)}(i.rest),new pi(n).contentType)}var i;throw ni()}function li(t){for(var n=[],i=0;i<t.length;i++){var e=t.charCodeAt(i);if(e<=127)n.push(e);else if(e<=2047)n.push(192|e>>6,128|63&e);else if(55296==(64512&e))if(i<t.length-1&&56320==(64512&t.charCodeAt(i+1))){var r=e,o=t.charCodeAt(++i);n.push(240|(e=65536|(1023&r)<<10|1023&o)>>18,128|e>>12&63,128|e>>6&63,128|63&e)}else n.push(239,191,189);else 56320==(64512&e)?n.push(239,191,189):n.push(224|e>>12,128|e>>6&63,128|63&e)}return new Uint8Array(n)}function di(t,n){switch(t){case ci.BASE64:var i=-1!==n.indexOf("-"),e=-1!==n.indexOf("_");if(i||e)throw ui(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break;case ci.BASE64URL:var r=-1!==n.indexOf("+"),o=-1!==n.indexOf("/");if(r||o)throw ui(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(n)}catch(n){throw ui(t,"Invalid character found")}for(var u=new Uint8Array(s.length),a=0;a<s.length;a++)u[a]=s.charCodeAt(a);return u}var vi,pi=function(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw ui(ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i,e,r=n[1]||null;null!=r&&(this.base64=(i=r).length>=(e=";base64").length&&i.substring(i.length-e.length)===e,this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},mi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bi(t){switch(t){case"running":case"pausing":case"canceling":return mi.RUNNING;case"paused":return mi.PAUSED;case"success":return mi.SUCCESS;case"canceled":return mi.CANCELED;case"error":default:return mi.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(vi||(vi={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gi=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=vi.NO_ERROR,this.sendPromise_=new Promise((function(n){t.xhr_.addEventListener("abort",(function(){t.errorCode_=vi.ABORT,n(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=vi.NETWORK_ERROR,n(t)})),t.xhr_.addEventListener("load",(function(){n(t)}))}))}return t.prototype.send=function(t,n,i,e){if(this.sent_)throw ai("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),void 0!==e)for(var r in e)e.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,e[r].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ai("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ai("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ai("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),yi=function(){function t(){}return t.prototype.createXhrIo=function(){return new gi},t}(),wi=function(){function t(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(n,i){var e;try{e=t.makeFromUrl(n,i)}catch(i){return new t(n,"")}if(""===e.path)return e;throw new Xn("invalid-default-bucket","Invalid default bucket '"+n+"'.")},t.makeFromUrl=function(n,i){var e=null,r="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var u=i.replace(/[.]/g,"\\."),a=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+u+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===i?"(?:storage.googleapis.com|storage.cloud.google.com)":i)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<a.length;c++){var h=a[c],f=h.regex.exec(n);if(f){var l=f[h.indices.path];l||(l=""),e=new t(f[h.indices.bucket],l),h.postModify(e);break}}if(null==e)throw function(t){return new Xn("invalid-url","Invalid URL '"+t+"'.")}(n);return e},t}(),xi=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t){return"string"==typeof t||t instanceof String}function _i(t){return Ai()&&t instanceof Blob}function Ai(){return"undefined"!=typeof Blob}function Si(t,n,i,e){if(e<n)throw ri("Invalid value for '"+t+"'. Expected "+n+" or greater.");if(e>i)throw ri("Invalid value for '"+t+"'. Expected "+i+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,n){var i=n.match(/^(\w+):\/\/.+/),e=n;return null==(null==i?void 0:i[1])&&(e="https://"+n),e+"/v0"+t}function Oi(t){var n=encodeURIComponent,i="?";for(var e in t)t.hasOwnProperty(e)&&(i=i+(n(e)+"=")+n(t[e])+"&");return i.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi=function(){function t(t,n,i,e,r,o,s,u,a,c,h){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=e,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=a,this.pool_=h,this.promise_=new Promise((function(t,n){f.resolve_=t,f.reject_=n,f.start_()}))}return t.prototype.start_=function(){var t=this;function n(n,i){var e,r=t.resolve_,o=t.reject_,s=i.xhr;if(i.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());void 0!==u?r(u):r()}catch(t){o(t)}else null!==s?((e=ni()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,e):e)):o(e=i.canceled?t.appDelete_?oi():ii():new Xn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?n(0,new Ci(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(n,i,e){var r=1,o=null,s=!1,u=0;function a(){return 2===u}var c=!1;function h(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,i.apply(null,t))}function f(n){o=setTimeout((function(){o=null,function(n,i){if(i)n(!1,new Ci(!1,null,!0));else{var e=t.pool_.createXhrIo();t.pendingXhr_=e,null!==t.progressCallback_&&e.addUploadProgressListener(r),e.send(t.url_,t.method_,t.body_,t.headers_).then((function(i){null!==t.progressCallback_&&i.removeUploadProgressListener(r),t.pendingXhr_=null;var e=(i=i).getErrorCode()===vi.NO_ERROR,o=i.getStatus();if(e&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);n(!0,new Ci(s,i))}else{var u=i.getErrorCode()===vi.ABORT;n(!1,new Ci(!1,null,u))}}))}function r(n){null!==t.progressCallback_&&t.progressCallback_(n.loaded,n.lengthComputable?n.total:-1)}}(l,a())}),n)}function l(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!c)if(t)h.call.apply(h,pn([null,t],n));else{var e;a()||s?h.call.apply(h,pn([null,t],n)):(r<64&&(r*=2),1===u?(u=2,e=0):e=1e3*(r+Math.random()),f(e))}}var d=!1;function v(t){d||(d=!0,c||(null!==o?(t||(u=2),clearTimeout(o),f(0)):t||(u=1)))}return f(0),setTimeout((function(){s=!0,v(!0)}),e),v}(0,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),e=-1!==this.additionalRetryCodes_.indexOf(t);return n||i||e},t}(),Ci=function(t,n,i){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!i};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ti(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ji(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=Ti();if(void 0!==i){for(var e=new i,r=0;r<t.length;r++)e.append(t[r]);return e.getBlob()}if(Ai())return new Blob(t);throw new Xn("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ri=function(){function t(t,n){var i=0,e="";_i(t)?(this.data_=t,i=t.size,e=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=e}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(n,i){if(_i(this.data_)){var e=(o=n,s=i,(r=this.data_).webkitSlice?r.webkitSlice(o,s):r.mozSlice?r.mozSlice(o,s):r.slice?r.slice(o,s):null);return null===e?null:new t(e)}var r,o,s;return new t(new Uint8Array(this.data_.buffer,n,i-n),!0)},t.getBlob=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(Ai()){var e=n.map((function(n){return n instanceof t?n.data_:n}));return new t(ji.apply(null,e))}var r=n.map((function(t){return ki(t)?fi(ci.RAW,t).data:t.data_})),o=0;r.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),u=0;return r.forEach((function(t){for(var n=0;n<t.length;n++)s[u++]=t[n]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){var n,i;try{n=JSON.parse(t)}catch(t){return null}return"object"!=typeof(i=n)||Array.isArray(i)?null:n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t){var n=t.lastIndexOf("/",t.length-2);return-1===n?t:t.slice(n+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,n){return n}var Pi=function(t,n,i,e){this.server=t,this.local=n||t,this.writable=!!i,this.xform=e||Bi},Li=null;function zi(){if(Li)return Li;var t=[];t.push(new Pi("bucket")),t.push(new Pi("generation")),t.push(new Pi("metageneration")),t.push(new Pi("name","fullPath",!0));var n=new Pi("name");n.xform=function(t,n){return function(t){return!ki(t)||t.length<2?t:Ii(t)}(n)},t.push(n);var i=new Pi("size");return i.xform=function(t,n){return void 0!==n?Number(n):n},t.push(i),t.push(new Pi("timeCreated")),t.push(new Pi("updated")),t.push(new Pi("md5Hash",null,!0)),t.push(new Pi("cacheControl",null,!0)),t.push(new Pi("contentDisposition",null,!0)),t.push(new Pi("contentEncoding",null,!0)),t.push(new Pi("contentLanguage",null,!0)),t.push(new Pi("contentType",null,!0)),t.push(new Pi("metadata","customMetadata",!0)),Li=t}function Di(t,n,i){var e=Fi(n);return null===e?null:function(t,n,i){for(var e={type:"file"},r=i.length,o=0;o<r;o++){var s=i[o];e[s.local]=s.xform(e,n[s.server])}return function(t,n){Object.defineProperty(t,"ref",{get:function(){var i=new wi(t.bucket,t.fullPath);return n._makeStorageReference(i)}})}(e,t),e}(t,e,i)}function Ni(t,n){for(var i={},e=n.length,r=0;r<e;r++){var o=n[r];o.writable&&(i[o.server]=t[o.local])}return JSON.stringify(i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ui=function(t,n,i,e){this.url=t,this.method=n,this.handler=i,this.timeout=e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){if(!t)throw ni()}function Hi(t,n){return function(i,e){var r=Di(t,e,n);return Vi(null!==r),r}}function $i(t){return function(n,i){var e;return(e=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Xn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Xn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?new Xn("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===n.getStatus()?new Xn("unauthorized","User does not have permission to access '"+t.path+"'."):i).serverResponse=i.serverResponse,e}}function Ki(t){var n=$i(t);return function(i,e){var r=n(i,e);return 404===i.getStatus()&&(r=new Xn("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=e.serverResponse,r}}function Wi(t,n,i){var e=Ei(n.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new Ui(e,"GET",Hi(t,i),r);return o.errorHandler=Ki(n),o}function Gi(t,n,i,e,r){var o={};o.prefix=n.isRoot?"":n.path+"/",i&&i.length>0&&(o.delimiter=i),e&&(o.pageToken=e),r&&(o.maxResults=r);var s=Ei(n.bucketOnlyServerUrl(),t.host),u=t.maxOperationRetryTime,a=new Ui(s,"GET",function(t,n){return function(i,e){var r=function(t,n,i){var e=Fi(i);return null===e?null:function(t,n,i){var e={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i.prefixes)for(var r=0,o=i.prefixes;r<o.length;r++){var s=o[r].replace(/\/$/,""),u=t._makeStorageReference(new wi(n,s));e.prefixes.push(u)}if(i.items)for(var a=0,c=i.items;a<c.length;a++)u=t._makeStorageReference(new wi(n,c[a].name)),e.items.push(u);return e}(t,n,e)}(t,n,e);return Vi(null!==r),r}}(t,n.bucket),u);return a.urlParams=o,a.errorHandler=$i(n),a}function qi(t,n,i){var e=Object.assign({},i);return e.fullPath=t.path,e.size=n.size(),e.contentType||(e.contentType=function(t,n){return n&&n.type()||"application/octet-stream"}(0,n)),e}var Ji=function(t,n,i,e){this.current=t,this.total=n,this.finalized=!!i,this.metadata=e||null};function Yi(t,n){var i=null;try{i=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Vi(!1)}return Vi(!!i&&-1!==(n||["active"]).indexOf(i)),i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qi=function(t,n,i){if("function"==typeof t||null!=n||null!=i)this.next=t,this.error=n,this.complete=i;else{var e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve().then((function(){return t.apply(void 0,n)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xi=function(){function t(t,n,i){var e=this;void 0===i&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=zi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){e._request=void 0,e._chunkMultiplier=1,t._codeEquals("canceled")?(e._needToFetchStatus=!0,e.completeTransitions_()):(e._error=t,e._transition("error"))},this._metadataErrorHandler=function(t){e._request=void 0,t._codeEquals("canceled")?e.completeTransitions_():(e._error=t,e._transition("error"))},this._promise=new Promise((function(t,n){e._resolve=t,e._reject=n,e._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(i){var e=i[0],r=i[1];switch(n._state){case"running":t(e,r);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(n,i){var e=function(t,n,i,e,r){var o=n.bucketOnlyServerUrl(),s=qi(n,e,r),u={name:s.fullPath},a=Ei(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":e.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=Ni(s,i),f=new Ui(a,"POST",(function(t){var n;Yi(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Vi(!1)}return Vi(ki(n)),n}),t.maxUploadRetryTime);return f.urlParams=u,f.headers=c,f.body=h,f.errorHandler=$i(n),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(e,n,i);t._request=r,r.getPromise().then((function(n){t._request=void 0,t._uploadUrl=n,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken((function(i,e){var r=function(t,n,i,e){var r=new Ui(i,"POST",(function(t){var n=Yi(t,["active","final"]),i=null;try{i=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Vi(!1)}i||Vi(!1);var r=Number(i);return Vi(!isNaN(r)),new Ji(r,e.size(),"final"===n)}),t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=$i(n),r}(t._ref.storage,t._ref._location,n,t._blob),o=t._ref.storage._makeRequest(r,i,e);t._request=o,o.getPromise().then((function(n){n=n,t._request=void 0,t._updateProgress(n.current),t._needToFetchStatus=!1,n.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,n=262144*this._chunkMultiplier,i=new Ji(this._transferred,this._blob.size()),e=this._uploadUrl;this._resolveToken((function(r,o){var s;try{s=function(t,n,i,e,r,o,s,u){var a=new Ji(0,0);if(s?(a.current=s.current,a.total=s.total):(a.current=0,a.total=e.size()),e.size()!==a.total)throw new Xn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=a.total-a.current,h=c;r>0&&(h=Math.min(h,r));var f=a.current,l={"X-Goog-Upload-Command":h===c?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},d=e.slice(f,f+h);if(null===d)throw ei();var v=new Ui(i,"POST",(function(t,i){var r,s=Yi(t,["active","final"]),u=a.current+h,c=e.size();return r="final"===s?Hi(n,o)(t,i):null,new Ji(u,c,"final"===s,r)}),n.maxUploadRetryTime);return v.headers=l,v.body=d.uploadData(),v.progressCallback=u||null,v.errorHandler=$i(t),v}(t._ref._location,t._ref.storage,e,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(n){return t._error=n,void t._transition("error")}var u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then((function(n){t._increaseMultiplier(),t._request=void 0,t._updateProgress(n.current),n.finalized?(t._metadata=n.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(n,i){var e=Wi(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(e,n,i);t._request=r,r.getPromise().then((function(n){t._request=void 0,t._metadata=n,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(n,i){var e=function(t,n,i,e,r){var o=n.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var t="",n=0;n<2;n++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+u;var a=qi(n,e,r),c=Ni(a,i),h=Ri.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+u+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",e,"\r\n--"+u+"--");if(null===h)throw ei();var f={name:a.fullPath},l=Ei(o,t.host),d=t.maxUploadRetryTime,v=new Ui(l,"POST",Hi(t,i),d);return v.urlParams=f,v.headers=s,v.body=h.uploadData(),v.errorHandler=$i(n),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(e,n,i);t._request=r,r.getPromise().then((function(n){t._request=void 0,t._metadata=n,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var n="paused"===this._state;this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=ii(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=bi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,n,i,e){var r=this,o=new Qi(n,i,e);return this._addObserver(o),function(){r._removeObserver(o)}},t.prototype.then=function(t,n){return this._promise.then(t,n)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);-1!==n&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(n){t._notifyObserver(n)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(bi(this._state)){case mi.SUCCESS:Zi(this._resolve.bind(null,this.snapshot))();break;case mi.CANCELED:case mi.ERROR:Zi(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(bi(this._state)){case mi.RUNNING:case mi.PAUSED:t.next&&Zi(t.next.bind(t,this.snapshot))();break;case mi.SUCCESS:t.complete&&Zi(t.complete.bind(t))();break;case mi.CANCELED:case mi.ERROR:t.error&&Zi(t.error.bind(t,this._error))();break;default:t.error&&Zi(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),te=function(){function t(t,n){this._service=t,this._location=n instanceof wi?n:wi.makeFromUrl(n,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(n,i){return new t(n,i)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new wi(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Ii(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=function(t){if(0===t.length)return null;var n=t.lastIndexOf("/");return-1===n?"":t.slice(0,n)}(this._location.path);if(null===n)return null;var i=new wi(this._location.bucket,n);return new t(this._service,i)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw si(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t){var n={prefixes:[],items:[]};return ie(t,n).then((function(){return n}))}function ie(t,n,i){return fn(this,void 0,void 0,(function(){var e,r,o;return ln(this,(function(s){switch(s.label){case 0:return[4,ee(t,{pageToken:i})];case 1:return e=s.sent(),(r=n.prefixes).push.apply(r,e.prefixes),(o=n.items).push.apply(o,e.items),null==e.nextPageToken?[3,3]:[4,ie(t,n,e.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function ee(t,n){return fn(this,void 0,void 0,(function(){var i,e;return ln(this,(function(r){switch(r.label){case 0:return null!=n&&"number"==typeof n.maxResults&&Si("options.maxResults",1,1e3,n.maxResults),e=Gi(t.storage,t._location,"/",(i=n||{}).pageToken,i.maxResults),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,r.sent().getPromise()]}}))}))}function re(t){return fn(this,void 0,void 0,(function(){var n;return ln(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("getDownloadURL"),n=function(t,n,i){var e=Ei(n.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new Ui(e,"GET",function(t,n){return function(i,e){var r=Di(t,e,n);return Vi(null!==r),function(t,n,i){var e=Fi(n);if(null===e)return null;if(!ki(e.downloadTokens))return null;var r=e.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map((function(n){var e=t.fullPath;return Ei("/b/"+o(t.bucket)+"/o/"+o(e),i)+Oi({alt:"media",token:n})}))[0]}(r,e,t.host)}}(t,i),r);return o.errorHandler=Ki(n),o}(t.storage,t._location,zi()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise().then((function(t){if(null===t)throw new Xn("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function oe(t,n){var i=function(t,n){var i=n.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?i:t+"/"+i}(t._location.path,n),e=new wi(t._location.bucket,i);return new te(t.storage,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t){return/^[A-Za-z]+:\/\//.test(t)}function ue(t,n){if(t instanceof he){var i=t;if(null==i._bucket)throw new Xn("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var e=new te(i,i._bucket);return null!=n?ue(e,n):e}if(void 0!==n){if(n.includes(".."))throw ri('`path` param cannot contain ".."');return oe(t,n)}return t}function ae(t,n){if(n&&se(n)){if(t instanceof he)return new te(t,n);throw ri("To use ref(service, url), the first argument must be a Storage instance.")}return ue(t,n)}function ce(t,n){var i=null==n?void 0:n.storageBucket;return null==i?null:wi.makeFromBucketSpec(i,t)}var he=function(){function t(t,n,i,e,r,o){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=e,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?wi.makeFromBucketSpec(r,this._host):ce(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?wi.makeFromBucketSpec(this._url,t):ce(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Si("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Si("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return fn(this,void 0,void 0,(function(){var t,n;return ln(this,(function(i){switch(i.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(n=i.sent()))return[2,n.accessToken];i.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return fn(this,void 0,void 0,(function(){var t;return ln(this,(function(n){switch(n.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,n.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new te(this,t)},t.prototype._makeRequest=function(t,n,i){var e=this;if(this._deleted)return new xi(oi());var r=function(t,n,i,e,r,o){var s=Oi(t.urlParams),u=t.url+s,a=Object.assign({},t.headers);return function(t,n){n&&(t["X-Firebase-GMPID"]=n)}(a,n),function(t,n){null!==n&&n.length>0&&(t.Authorization="Firebase "+n)}(a,i),function(t,n){t["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(a,o),function(t,n){null!==n&&(t["X-Firebase-AppCheck"]=n)}(a,e),new Mi(u,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return e._requests.delete(r)}),(function(){return e._requests.delete(r)})),r},t.prototype.makeRequestWithTokens=function(t){return fn(this,void 0,void 0,(function(){var n;return ln(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=i.sent(),[2,this._makeRequest(t,n[0],n[1])]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,n){return ae(t=On(t),n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var le,de,ve=function(){function t(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),pe=function(){function t(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ve(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,n){var i=this;return this._delegate.then((function(n){if(t)return t(new ve(n,i,i._ref))}),n)},t.prototype.on=function(t,n,i,e){var r=this,o=void 0;return n&&(o="function"==typeof n?function(t){return n(new ve(t,r,r._ref))}:{next:n.next?function(t){return n.next(new ve(t,r,r._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,o,i||void 0,e||void 0)},t}(),me=function(){function t(t,n){this._delegate=t,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(n){return new be(n,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(n){return new be(n,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),be=function(){function t(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(n){return new t(function(t,n){return oe(t,n)}(this._delegate,n),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return null==n?null:new t(n,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,n){return this._throwIfRoot("put"),new pe(function(t,n,i){return function(t,n,i){return t._throwIfRoot("uploadBytesResumable"),new Xi(t,new Ri(n),i)}(t=On(t),n,i)}(this._delegate,t,n),this)},t.prototype.putString=function(t,n,i){void 0===n&&(n=ci.RAW),this._throwIfRoot("putString");var e=fi(n,t),r=hn({},i);return null==r.contentType&&null!=e.contentType&&(r.contentType=e.contentType),new pe(new Xi(this._delegate,new Ri(e.data,!0),r),this)},t.prototype.listAll=function(){var t=this;return function(t){return ne(t=On(t))}(this._delegate).then((function(n){return new me(n,t.storage)}))},t.prototype.list=function(t){var n=this;return function(t,n){return ee(t=On(t),n)}(this._delegate,t||void 0).then((function(t){return new me(t,n.storage)}))},t.prototype.getMetadata=function(){return function(t){return function(t){return fn(this,void 0,void 0,(function(){var n;return ln(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("getMetadata"),n=Wi(t.storage,t._location,zi()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}}))}))}(t=On(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,n){return function(t,n){return fn(this,void 0,void 0,(function(){var i;return ln(this,(function(e){switch(e.label){case 0:return t._throwIfRoot("updateMetadata"),i=function(t,n,i,e){var r=Ei(n.fullServerUrl(),t.host),o=Ni(i,e),s=t.maxOperationRetryTime,u=new Ui(r,"PATCH",Hi(t,e),s);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=o,u.errorHandler=Ki(n),u}(t.storage,t._location,n,zi()),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,e.sent().getPromise()]}}))}))}(t=On(t),n)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return re(t=On(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return fn(this,void 0,void 0,(function(){var n;return ln(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("deleteObject"),n=function(t,n){var i=Ei(n.fullServerUrl(),t.host),e=new Ui(i,"DELETE",(function(){}),t.maxOperationRetryTime);return e.successCodes=[200,204],e.errorHandler=Ki(n),e}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}}))}))}(t=On(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw si(t)},t}(),ge=function(){function t(t,n){var i=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return i._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(se(t))throw ri("ref() expected a child path but got a URL, use refFromURL instead.");return new be(fe(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!se(t))throw ri("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wi.makeFromUrl(t,this._delegate.host)}catch(t){throw ri("refFromUrl() expected a valid full URL but got an invalid one.")}return new be(fe(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,n){!function(t,n,i){t.host="http://"+n+":"+i}(this._delegate,t,n)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */de={TaskState:mi,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:ci,Storage:he,Reference:be},(le=Zn).INTERNAL.registerComponent(new Cn("storage",(function(t,n){var i=n.instanceIdentifier,e=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new ge(e,new he(e,r,o,new yi,i,Zn.SDK_VERSION))}),"PUBLIC").setServiceProps(de).setMultipleInstances(!0)),le.registerVersion("@firebase/storage","0.5.2");const ye=rn(on((function(t){
/*! For license information please see editor.js.LICENSE.txt */
window,t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=183)}([function(t,n,i){var e=i(10),r=i(17),o=i(27),s=i(21),u=i(31),a=function(t,n,i){var c,h,f,l,d=t&a.F,v=t&a.G,p=t&a.P,m=t&a.B,b=v?e:t&a.S?e[n]||(e[n]={}):(e[n]||{}).prototype,g=v?r:r[n]||(r[n]={}),y=g.prototype||(g.prototype={});for(c in v&&(i=n),i)f=((h=!d&&b&&void 0!==b[c])?b:i)[c],l=m&&h?u(f,e):p&&"function"==typeof f?u(Function.call,f):f,b&&s(b,c,f,t&a.U),g[c]!=f&&o(g,c,l),p&&y[c]!=f&&(y[c]=f)};e.core=r,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t){function n(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}},function(t){function n(i){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(i)}t.exports=n},function(t,n,i){var e=i(110);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}},function(t,n,i){var e=i(80),r=i(368);t.exports=function(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?r(t):n}},function(t,n,i){var e,r,o;r=[n,i(23),i(367),i(24),i(398),i(15)],void 0===(o="function"==typeof(e=function(t,n,e,r,o,s){var u,a=i(1);function c(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log",e=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"color: inherit";if("console"in window&&window.console[i]){var o=["info","log","warn","error"].includes(i),s=[];switch(c.logLevel){case u.ERROR:if("error"!==i)return;break;case u.WARN:if(!["error","warn"].includes(i))return;break;case u.INFO:if(!o||t)return}e&&s.push(e);var a="Editor.js ".concat("2.21.0");t&&(o?(s.unshift("line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;",r),n="%c".concat(a,"%c ").concat(n)):n="( ".concat(a," )").concat(n));try{if(o)if(e){var h;(h=console)[i].apply(h,["".concat(n," %o")].concat(s))}else{var f;(f=console)[i].apply(f,[n].concat(s))}else console[i](n)}catch(t){}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=function(t){c.logLevel=t},t.typeOf=l,t.isFunction=d,t.isObject=v,t.isString=function(t){return"string"===l(t)},t.isBoolean=function(t){return"boolean"===l(t)},t.isNumber=function(t){return"number"===l(t)},t.isUndefined=p,t.isClass=function(t){return d(t)&&/^\s*class\s+/.test(t.toString())},t.isEmpty=function(t){return!t||0===Object.keys(t).length&&t.constructor===Object},t.isPromise=function(t){return Promise.resolve(t)===t},t.isPrintableKey=function(t){return t>47&&t<58||32===t||13===t||229===t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223},t.sequence=function(t){return m.apply(this,arguments)},t.array=function(t){return Array.prototype.slice.call(t)},t.delay=function(t,n){return function(){var i=this,e=arguments;window.setTimeout((function(){return t.apply(i,e)}),n)}},t.getFileExtension=function(t){return t.name.split(".").pop()},t.isValidMimeType=function(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)},t.debounce=function(t,n,i){var e,r=arguments,o=this;return function(){var s=o,u=r,a=i&&!e;window.clearTimeout(e),e=window.setTimeout((function(){e=null,i||t.apply(s,u)}),n),a&&t.apply(s,u)}},t.copyTextToClipboard=function(t){var n=s.default.make("div","codex-editor-clipboard",{innerHTML:t});document.body.appendChild(n);var i=window.getSelection(),e=document.createRange();e.selectNode(n),window.getSelection().removeAllRanges(),i.addRange(e),document.execCommand("copy"),document.body.removeChild(n)},t.getUserOS=b,t.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)},t.deepMerge=function t(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(!r.length)return n;var s=r.shift();if(v(n)&&v(s))for(var u in s)v(s[u])?(n[u]||Object.assign(n,(0,e.default)({},u,{})),t(n[u],s[u])):Object.assign(n,(0,e.default)({},u,s[u]));return t.apply(void 0,[n].concat(r))},t.beautifyShortcut=function(t){var n=b();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),n.mac?t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},t.getValidUrl=function(t){try{return new URL(t).href}catch(t){}return"//"===t.substring(0,2)?window.location.protocol+t:window.location.origin+t},t.generateBlockId=function(){return(0,o.nanoid)(10)},t.openTab=function(t){window.open(t,"_blank")},t.generateId=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(Math.floor(1e8*Math.random()).toString(16))},t.deprecationAssert=function(t,n,i){var e="".concat(n," is deprecated and will be removed in the next major release. Please use the ").concat(i," instead.");t&&f(e,"warn")},t.cacheable=function(t,n,i){var e=i.value?"value":"get",r=i[e],o="#".concat(n,"Cache");if(i[e]=function(){if(void 0===this[o]){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this[o]=r.apply.apply(r,[this].concat(n))}return this[o]},"get"===e&&i.set){var s=i.set;i.set=function(n){delete t[o],s.apply(this,n)}}return i},t.isTouchSupported=t.logLabeled=t.log=t.mouseButtons=t.keyCodes=t.LogLevels=void 0,n=a(n),e=a(e),r=a(r),s=a(s),t.LogLevels=u,function(t){t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR"}(u||(t.LogLevels=u={})),t.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},t.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},c.logLevel=u.VERBOSE;var h=c.bind(window,!1);t.log=h;var f=c.bind(window,!0);function l(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function d(t){return"function"===l(t)}function v(t){return"object"===l(t)}function p(t){return"undefined"===l(t)}function m(){return(m=(0,r.default)(n.default.mark((function t(i){var e,o,s,u,a=arguments;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=function(){return(u=(0,r.default)(n.default.mark((function t(i,e,r){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.function(i.data);case 3:return t.next=5,e(p(i.data)?{}:i.data);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(p(i.data)?{}:i.data);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)},s=function(t,n,i){return u.apply(this,arguments)},e=a.length>1&&void 0!==a[1]?a[1]:function(){},o=a.length>2&&void 0!==a[2]?a[2]:function(){},t.abrupt("return",i.reduce(function(){var t=(0,r.default)(n.default.mark((function t(i,r){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i;case 2:return t.abrupt("return",s(r,e,o));case 3:case"end":return t.stop()}}),t)})));return function(n,i){return t.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){var t={win:!1,mac:!1,x11:!1,linux:!1},n=Object.keys(t).find((function(t){return-1!==navigator.appVersion.toLowerCase().indexOf(t)}));return n?(t[n]=!0,t):t}t.logLabeled=f;var g="ontouchstart"in document.documentElement;t.isTouchSupported=g})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e=i(80);function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==e(t)&&"function"!=typeof t)return{default:t};var n=r();if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(374)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var c=function(){function t(n){var i=this,e=n.config,o=n.eventsDispatcher;if((0,r.default)(this,t),this.nodes={},this.listeners=new s.default,this.readOnlyMutableListeners={on:function(t,n,e){i.mutableListenerIds.push(i.listeners.on(t,n,e,arguments.length>3&&void 0!==arguments[3]&&arguments[3]))},clearAll:function(){var t,n=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,n){if(t){if("string"==typeof t)return a(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,n):void 0}}(t))){var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,r,o=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==e.return||e.return()}finally{if(s)throw r}}}}(i.mutableListenerIds);try{for(n.s();!(t=n.n()).done;)i.listeners.offById(t.value)}catch(t){n.e(t)}finally{n.f()}i.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof t?this.constructor:void 0)===t)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=o}return(0,o.default)(t,[{key:"removeAllNodes",value:function(){for(var t in this.nodes){var n=this.nodes[t];n instanceof HTMLElement&&n.remove()}}},{key:"state",set:function(t){this.Editor=t}},{key:"isRtl",get:function(){return"rtl"===this.config.i18n.direction}}]),t}();e.default=c,c.displayName="Module",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,i){var e=i(13);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,i){var e=i(68)("wks"),r=i(44),o=i(10).Symbol,s="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=e},function(t,n,i){var e,r,o;r=[n,i(42),i(2),i(3),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,u){var a=i(8),c=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=c(r),o=c(o),s=c(s),u=a(u);var h=function(){function t(){(0,o.default)(this,t)}return(0,s.default)(t,null,[{key:"isSingleTag",value:function(t){return t.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}},{key:"isLineBreakTag",value:function(t){return t&&t.tagName&&["BR","WBR"].includes(t.tagName)}},{key:"make",value:function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(t);for(var s in Array.isArray(i)?(n=o.classList).add.apply(n,(0,r.default)(i)):i&&o.classList.add(i),e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s]);return o}},{key:"text",value:function(t){return document.createTextNode(t)}},{key:"svg",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:14,e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.classList.add("icon","icon--"+t),e.setAttribute("width",n+"px"),e.setAttribute("height",i+"px"),e.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(t,'"></use>'),e}},{key:"append",value:function(t,n){Array.isArray(n)?n.forEach((function(n){return t.appendChild(n)})):t.appendChild(n)}},{key:"prepend",value:function(t,n){Array.isArray(n)?(n=n.reverse()).forEach((function(n){return t.prepend(n)})):t.prepend(n)}},{key:"swap",value:function(t,n){var i=document.createElement("div"),e=t.parentNode;e.insertBefore(i,t),e.insertBefore(t,n),e.insertBefore(n,i),e.removeChild(i)}},{key:"find",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector(arguments.length>1?arguments[1]:void 0)}},{key:"get",value:function(t){return document.getElementById(t)}},{key:"findAll",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(arguments.length>1?arguments[1]:void 0)}},{key:"findAllInputs",value:function(n){return u.array(n.querySelectorAll(t.allInputsSelector)).reduce((function(n,i){return t.isNativeInput(i)||t.containsOnlyInlineElements(i)?[].concat((0,r.default)(n),[i]):[].concat((0,r.default)(n),(0,r.default)(t.getDeepestBlockElements(i)))}),[])}},{key:"getDeepestNode",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=i?"lastChild":"firstChild",r=i?"previousSibling":"nextSibling";if(n&&n.nodeType===Node.ELEMENT_NODE&&n[e]){var o=n[e];if(t.isSingleTag(o)&&!t.isNativeInput(o)&&!t.isLineBreakTag(o))if(o[r])o=o[r];else{if(!o.parentNode[r])return o.parentNode;o=o.parentNode[r]}return this.getDeepestNode(o,i)}return n}},{key:"isElement",value:function(t){return!u.isNumber(t)&&t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(t){return!u.isNumber(t)&&t&&t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(t){return"true"===t.contentEditable}},{key:"isNativeInput",value:function(t){return!(!t||!t.tagName)&&["INPUT","TEXTAREA"].includes(t.tagName)}},{key:"canSetCaret",value:function(n){var i=!0;if(t.isNativeInput(n))switch(n.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":i=!1}else i=t.isContentEditable(n);return i}},{key:"isNodeEmpty",value:function(t){return!(this.isSingleTag(t)&&!this.isLineBreakTag(t))&&0===(this.isElement(t)&&this.isNativeInput(t)?t.value:t.textContent.replace("","")).trim().length}},{key:"isLeaf",value:function(t){return!!t&&0===t.childNodes.length}},{key:"isEmpty",value:function(t){t.normalize();for(var n=[t];n.length>0;)if(t=n.shift()){if(this.isLeaf(t)&&!this.isNodeEmpty(t))return!1;t.childNodes&&n.push.apply(n,(0,r.default)(Array.from(t.childNodes)))}return!0}},{key:"isHTMLString",value:function(n){var i=t.make("div");return i.innerHTML=n,i.childElementCount>0}},{key:"getContentLength",value:function(n){return t.isNativeInput(n)?n.value.length:n.nodeType===Node.TEXT_NODE?n.length:n.textContent.length}},{key:"containsOnlyInlineElements",value:function(n){var i;return u.isString(n)?(i=document.createElement("div")).innerHTML=n:i=n,Array.from(i.children).every((function n(i){return!t.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(n)}))}},{key:"getDeepestBlockElements",value:function(n){return t.containsOnlyInlineElements(n)?[n]:Array.from(n.children).reduce((function(n,i){return[].concat((0,r.default)(n),(0,r.default)(t.getDeepestBlockElements(i)))}),[])}},{key:"getHolder",value:function(t){return u.isString(t)?document.getElementById(t):t}},{key:"isExtensionNode",value:function(t){return t&&["GRAMMARLY-EXTENSION"].includes(t.nodeName)}},{key:"isAnchor",value:function(t){return"a"===t.tagName.toLowerCase()}},{key:"allInputsSelector",get:function(){return"[contenteditable], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((function(t){return'input[type="'.concat(t,'"]')})).join(", ")}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),t}();e.default=h,h.displayName="Dom",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e=i(33),r=Math.min;t.exports=function(t){return t>0?r(e(t),9007199254740991):0}},function(t){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,n,i){t.exports=!i(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,i){var e=i(12),r=i(112),o=i(40),s=Object.defineProperty;n.f=i(18)?Object.defineProperty:function(t,n,i){if(e(t),n=o(n,!0),e(i),r)try{return s(t,n,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[n]=i.value),t}},function(t,n,i){var e=i(38);t.exports=function(t){return Object(e(t))}},function(t,n,i){var e=i(10),r=i(27),o=i(26),s=i(44)("src"),u=i(188),a=(""+u).split("toString");i(17).inspectSource=function(t){return u.call(t)},(t.exports=function(t,n,i,u){var c="function"==typeof i;c&&(o(i,"name")||r(i,"name",n)),t[n]!==i&&(c&&(o(i,s)||r(i,s,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=i:u?t[n]?t[n]=i:r(t,n,i):(delete t[n],r(t,n,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||u.call(this)}))},function(t,n,i){var e=i(0),r=i(11),o=i(38),s=/"/g,u=function(t,n,i,e){var r=String(o(t)),u="<"+n;return""!==i&&(u+=" "+i+'="'+String(e).replace(s,"&quot;")+'"'),u+">"+r+"</"+n+">"};t.exports=function(t,n){var i={};i[t]=n(u),e(e.P+e.F*r((function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3})),"String",i)}},function(t,n,i){t.exports=i(143)},function(t){function n(t,n,i,e,r,o,s){try{var u=t[o](s),a=u.value}catch(t){return void i(t)}u.done?n(a):Promise.resolve(a).then(e,r)}t.exports=function(t){return function(){var i=this,e=arguments;return new Promise((function(r,o){var s=t.apply(i,e);function u(t){n(s,r,o,u,a,"next",t)}function a(t){n(s,r,o,u,a,"throw",t)}u(void 0)}))}}},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(7),i(15)],void 0===(o="function"==typeof(e=function(e,r,o,s,u){var a=i(8),c=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=c(r),o=c(o),s=a(s),u=c(u);var h=function(){function t(){(0,r.default)(this,t),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,o.default)(t,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=t.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(t.focusNode),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}},{key:"findParentTag",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,e=window.getSelection(),r=null;return e&&e.anchorNode&&e.focusNode?([e.anchorNode,e.focusNode].forEach((function(e){for(var o=i;o>0&&e.parentNode&&(e.tagName!==t||(r=e,n&&e.classList&&!e.classList.contains(n)&&(r=null),!r));)e=e.parentNode,o--})),r):null}},{key:"expandToTag",value:function(t){var n=window.getSelection();n.removeAllRanges();var i=document.createRange();i.selectNodeContents(t),n.addRange(i)}}],[{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=document.createRange(),e=window.getSelection();if(u.default.isNativeInput(t)){if(!u.default.canSetCaret(t))return;return t.focus(),t.selectionStart=t.selectionEnd=n,t.getBoundingClientRect()}return i.setStart(t,n),i.setEnd(t,n),e.removeAllRanges(),e.addRange(i),i.getBoundingClientRect()}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var t=window.getSelection();return t?t.anchorNode:null}},{key:"anchorElement",get:function(){var t=window.getSelection();if(!t)return null;var n=t.anchorNode;return n?u.default.isElement(n)?n:n.parentElement:null}},{key:"anchorOffset",get:function(){var t=window.getSelection();return t?t.anchorOffset:null}},{key:"isCollapsed",get:function(){var t=window.getSelection();return t?t.isCollapsed:null}},{key:"isAtEditor",get:function(){var n=t.get(),i=n.anchorNode||n.focusNode;i&&i.nodeType===Node.TEXT_NODE&&(i=i.parentNode);var e=null;return i&&i instanceof Element&&(e=i.closest(".".concat(t.CSS.editorZone))),e&&e.nodeType===Node.ELEMENT_NODE}},{key:"isSelectionExists",get:function(){return!!t.get().anchorNode}},{key:"range",get:function(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}},{key:"rect",get:function(){var t,n=document.selection,i={x:0,y:0,width:0,height:0};if(n&&"Control"!==n.type)return t=(n=n).createRange(),i.x=t.boundingLeft,i.y=t.boundingTop,i.width=t.boundingWidth,i.height=t.boundingHeight,i;if(!window.getSelection)return s.log("Method window.getSelection is not supported","warn"),i;if(null===(n=window.getSelection()).rangeCount||isNaN(n.rangeCount))return s.log("Method SelectionUtils.rangeCount is not supported","warn"),i;if(0===n.rangeCount)return i;if((t=n.getRangeAt(0).cloneRange()).getBoundingClientRect&&(i=t.getBoundingClientRect()),0===i.x&&0===i.y){var e=document.createElement("span");if(e.getBoundingClientRect){e.appendChild(document.createTextNode("")),t.insertNode(e),i=e.getBoundingClientRect();var r=e.parentNode;r.removeChild(e),r.normalize()}}return i}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),t}();e.default=h,h.displayName="SelectionUtils",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t){var n={}.hasOwnProperty;t.exports=function(t,i){return n.call(t,i)}},function(t,n,i){var e=i(19),r=i(43);t.exports=i(18)?function(t,n,i){return e.f(t,n,r(1,i))}:function(t,n,i){return t[n]=i,t}},function(t,n,i){var e=i(62),r=i(38);t.exports=function(t){return e(r(t))}},function(t,n,i){var e=i(11);t.exports=function(t,n){return!!t&&e((function(){n?t.call(null,(function(){}),1):t.call(null)}))}},function(t,n,i){var e=i(357),r=i(358),o=i(144),s=i(359);t.exports=function(t,n){return e(t)||r(t,n)||o(t,n)||s()}},function(t,n,i){var e=i(32);t.exports=function(t,n,i){if(e(t),void 0===n)return t;switch(i){case 1:return function(i){return t.call(n,i)};case 2:return function(i,e){return t.call(n,i,e)};case 3:return function(i,e,r){return t.call(n,i,e,r)}}return function(){return t.apply(n,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,n,i){var e=i(63),r=i(43),o=i(28),s=i(40),u=i(26),a=i(112),c=Object.getOwnPropertyDescriptor;n.f=i(18)?c:function(t,n){if(t=o(t),n=s(n,!0),a)try{return c(t,n)}catch(t){}if(u(t,n))return r(!e.f.call(t,n),t[n])}},function(t,n,i){var e=i(0),r=i(17),o=i(11);t.exports=function(t,n){var i=(r.Object||{})[t]||Object[t],s={};s[t]=n(i),e(e.S+e.F*o((function(){i(1)})),"Object",s)}},function(t,n,i){var e=i(31),r=i(62),o=i(20),s=i(16),u=i(128);t.exports=function(t,n){var i=1==t,a=2==t,c=3==t,h=4==t,f=6==t,l=5==t||f,d=n||u;return function(n,u,v){for(var p,m,b=o(n),g=r(b),y=e(u,v,3),w=s(g.length),x=0,k=i?d(n,w):a?d(n,0):void 0;w>x;x++)if((l||x in g)&&(m=y(p=g[x],x,b),t))if(i)k[x]=m;else if(m)switch(t){case 3:return!0;case 5:return p;case 6:return x;case 2:k.push(p)}else if(h)return!1;return f?-1:c||h?h:k}}},function(t){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,i){if(i(18)){var e=i(45),r=i(10),o=i(11),s=i(0),u=i(79),a=i(109),c=i(31),h=i(57),f=i(43),l=i(27),d=i(58),v=i(33),p=i(16),m=i(139),b=i(47),g=i(40),y=i(26),w=i(64),x=i(13),k=i(20),_=i(101),A=i(48),S=i(50),E=i(49).f,O=i(103),M=i(44),C=i(14),T=i(36),j=i(69),R=i(65),F=i(105),I=i(55),B=i(72),P=i(56),L=i(104),z=i(130),D=i(19),N=i(34),U=D.f,V=N.f,H=r.RangeError,$=r.TypeError,K=r.Uint8Array,W=Array.prototype,G=a.ArrayBuffer,q=a.DataView,J=T(0),Y=T(2),Q=T(3),Z=T(4),X=T(5),tt=T(6),nt=j(!0),it=j(!1),et=F.values,rt=F.keys,ot=F.entries,st=W.lastIndexOf,ut=W.reduce,at=W.reduceRight,ct=W.join,ht=W.sort,ft=W.slice,lt=W.toString,dt=W.toLocaleString,vt=C("iterator"),pt=C("toStringTag"),mt=M("typed_constructor"),bt=M("def_constructor"),gt=u.CONSTR,yt=u.TYPED,wt=u.VIEW,xt=T(1,(function(t,n){return Et(R(t,t[bt]),n)})),kt=o((function(){return 1===new K(new Uint16Array([1]).buffer)[0]})),_t=!!K&&!!K.prototype.set&&o((function(){new K(1).set({})})),At=function(t,n){var i=v(t);if(i<0||i%n)throw H("Wrong offset!");return i},St=function(t){if(x(t)&&yt in t)return t;throw $(t+" is not a typed array!")},Et=function(t,n){if(!x(t)||!(mt in t))throw $("It is not a typed array constructor!");return new t(n)},Ot=function(t,n){return Mt(R(t,t[bt]),n)},Mt=function(t,n){for(var i=0,e=n.length,r=Et(t,e);e>i;)r[i]=n[i++];return r},Ct=function(t,n,i){U(t,n,{get:function(){return this._d[i]}})},Tt=function(t){var n,i,e,r,o,s,u=k(t),a=arguments.length,h=a>1?arguments[1]:void 0,f=void 0!==h,l=O(u);if(null!=l&&!_(l)){for(s=l.call(u),e=[],n=0;!(o=s.next()).done;n++)e.push(o.value);u=e}for(f&&a>2&&(h=c(h,arguments[2],2)),n=0,i=p(u.length),r=Et(this,i);i>n;n++)r[n]=f?h(u[n],n):u[n];return r},jt=function(){for(var t=0,n=arguments.length,i=Et(this,n);n>t;)i[t]=arguments[t++];return i},Rt=!!K&&o((function(){dt.call(new K(1))})),Ft=function(){return dt.apply(Rt?ft.call(St(this)):St(this),arguments)},It={copyWithin:function(t,n){return z.call(St(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(St(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(){return L.apply(St(this),arguments)},filter:function(t){return Ot(this,Y(St(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return X(St(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){J(St(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return it(St(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(St(this),t,arguments.length>1?arguments[1]:void 0)},join:function(){return ct.apply(St(this),arguments)},lastIndexOf:function(){return st.apply(St(this),arguments)},map:function(t){return xt(St(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(){return ut.apply(St(this),arguments)},reduceRight:function(){return at.apply(St(this),arguments)},reverse:function(){for(var t,n=St(this).length,i=Math.floor(n/2),e=0;e<i;)t=this[e],this[e++]=this[--n],this[n]=t;return this},some:function(t){return Q(St(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(St(this),t)},subarray:function(t,n){var i=St(this),e=i.length,r=b(t,e);return new(R(i,i[bt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,p((void 0===n?e:b(n,e))-r))}},Bt=function(t,n){return Ot(this,ft.call(St(this),t,n))},Pt=function(t){St(this);var n=At(arguments[1],1),i=this.length,e=k(t),r=p(e.length),o=0;if(r+n>i)throw H("Wrong length!");for(;o<r;)this[n+o]=e[o++]},Lt={entries:function(){return ot.call(St(this))},keys:function(){return rt.call(St(this))},values:function(){return et.call(St(this))}},zt=function(t,n){return x(t)&&t[yt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Dt=function(t,n){return zt(t,n=g(n,!0))?f(2,t[n]):V(t,n)},Nt=function(t,n,i){return!(zt(t,n=g(n,!0))&&x(i)&&y(i,"value"))||y(i,"get")||y(i,"set")||i.configurable||y(i,"writable")&&!i.writable||y(i,"enumerable")&&!i.enumerable?U(t,n,i):(t[n]=i.value,t)};gt||(N.f=Dt,D.f=Nt),s(s.S+s.F*!gt,"Object",{getOwnPropertyDescriptor:Dt,defineProperty:Nt}),o((function(){lt.call({})}))&&(lt=dt=function(){return ct.call(this)});var Ut=d({},It);d(Ut,Lt),l(Ut,vt,Lt.values),d(Ut,{slice:Bt,set:Pt,constructor:function(){},toString:lt,toLocaleString:Ft}),Ct(Ut,"buffer","b"),Ct(Ut,"byteOffset","o"),Ct(Ut,"byteLength","l"),Ct(Ut,"length","e"),U(Ut,pt,{get:function(){return this[yt]}}),t.exports=function(t,n,i,a){var c=t+((a=!!a)?"Clamped":"")+"Array",f="get"+t,d="set"+t,v=r[c],b=v||{},g=v&&S(v),y={},k=v&&v.prototype,_=function(t,i){U(t,i,{get:function(){return function(t,i){var e=t._d;return e.v[f](i*n+e.o,kt)}(this,i)},set:function(t){return function(t,i,e){var r=t._d;a&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),r.v[d](i*n+r.o,e,kt)}(this,i,t)},enumerable:!0})};v&&u.ABV?o((function(){v(1)}))&&o((function(){new v(-1)}))&&B((function(t){new v,new v(null),new v(1.5),new v(t)}),!0)||(v=i((function(t,i,e,r){var o;return h(t,v,c),x(i)?i instanceof G||"ArrayBuffer"==(o=w(i))||"SharedArrayBuffer"==o?void 0!==r?new b(i,At(e,n),r):void 0!==e?new b(i,At(e,n)):new b(i):yt in i?Mt(v,i):Tt.call(v,i):new b(m(i))})),J(g!==Function.prototype?E(b).concat(E(g)):E(b),(function(t){t in v||l(v,t,b[t])})),v.prototype=k,e||(k.constructor=v)):(v=i((function(t,i,e,r){h(t,v,c,"_d");var o,s,u,a,f=0,d=0;if(x(i)){if(!(i instanceof G||"ArrayBuffer"==(a=w(i))||"SharedArrayBuffer"==a))return yt in i?Mt(v,i):Tt.call(v,i);o=i,d=At(e,n);var b=i.byteLength;if(void 0===r){if(b%n)throw H("Wrong length!");if((s=b-d)<0)throw H("Wrong length!")}else if((s=p(r)*n)+d>b)throw H("Wrong length!");u=s/n}else u=m(i),o=new G(s=u*n);for(l(t,"_d",{b:o,o:d,l:s,e:u,v:new q(o)});f<u;)_(t,f++)})),k=v.prototype=A(Ut),l(k,"constructor",v));var O=k[vt],M=!!O&&("values"==O.name||null==O.name),C=Lt.values;l(v,mt,!0),l(k,yt,c),l(k,wt,!0),l(k,bt,v),(a?new v(1)[pt]==c:pt in k)||U(k,pt,{get:function(){return c}}),y[c]=v,s(s.G+s.W+s.F*(v!=b),y),s(s.S,c,{BYTES_PER_ELEMENT:n}),s(s.S+s.F*o((function(){b.of.call(v,1)})),c,{from:Tt,of:jt}),"BYTES_PER_ELEMENT"in k||l(k,"BYTES_PER_ELEMENT",n),s(s.P,c,It),P(c),s(s.P+s.F*_t,c,{set:Pt}),s(s.P+s.F*!M,c,Lt),e||k.toString==lt||(k.toString=lt),s(s.P+s.F*o((function(){new v(1).slice()})),c,{slice:Bt}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()}))||!o((function(){k.toLocaleString.call([1,2])}))),c,{toLocaleString:Ft}),I[c]=M?O:C,e||M||l(k,vt,C)}}else t.exports=function(){}},function(t,n,i){var e=i(13);t.exports=function(t,n){if(!e(t))return t;var i,r;if(n&&"function"==typeof(i=t.toString)&&!e(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!e(r=i.call(t)))return r;if(!n&&"function"==typeof(i=t.toString)&&!e(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n,i){var e=i(44)("meta"),r=i(13),o=i(26),s=i(19).f,u=0,a=Object.isExtensible||function(){return!0},c=!i(11)((function(){return a(Object.preventExtensions({}))})),h=function(t){s(t,e,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!a(t))return"F";if(!n)return"E";h(t)}return t[e].i},getWeak:function(t,n){if(!o(t,e)){if(!a(t))return!0;if(!n)return!1;h(t)}return t[e].w},onFreeze:function(t){return c&&f.NEED&&a(t)&&!o(t,e)&&h(t),t}}},function(t,n,i){var e=i(364),r=i(365),o=i(144),s=i(366);t.exports=function(t){return e(t)||r(t)||o(t)||s()}},function(t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t){t.exports=!1},function(t,n,i){var e=i(114),r=i(88);t.exports=Object.keys||function(t){return e(t,r)}},function(t,n,i){var e=i(33),r=Math.max,o=Math.min;t.exports=function(t,n){return(t=e(t))<0?r(t+n,0):o(t,n)}},function(t,n,i){var e=i(12),r=i(115),o=i(88),s=i(87)("IE_PROTO"),u=function(){},a=function(){var t,n=i(85)("iframe"),e=o.length;for(n.style.display="none",i(89).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a.prototype[o[e]];return a()};t.exports=Object.create||function(t,n){var i;return null!==t?(u.prototype=e(t),i=new u,u.prototype=null,i[s]=t):i=a(),void 0===n?i:r(i,n)}},function(t,n,i){var e=i(114),r=i(88).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,r)}},function(t,n,i){var e=i(26),r=i(20),o=i(87)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,n,i){var e=i(14)("unscopables"),r=Array.prototype;null==r[e]&&i(27)(r,e,{}),t.exports=function(t){r[e][t]=!0}},function(t,n,i){var e=i(13);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},function(t,n,i){var e=i(19).f,r=i(26),o=i(14)("toStringTag");t.exports=function(t,n,i){t&&!r(t=i?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,i){var e=i(0),r=i(38),o=i(11),s=i(91),u="["+s+"]",a=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),h=function(t,n,i){var r={},u=o((function(){return!!s[t]()||""!=""[t]()})),a=r[t]=u?n(f):s[t];i&&(r[i]=a),e(e.P+e.F*u,"String",r)},f=h.trim=function(t,n){return t=String(r(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(c,"")),t};t.exports=h},function(t){t.exports={}},function(t,n,i){var e=i(10),r=i(19),o=i(18),s=i(14)("species");t.exports=function(t){var n=e[t];o&&n&&!n[s]&&r.f(n,s,{configurable:!0,get:function(){return this}})}},function(t){t.exports=function(t,n,i,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,n,i){var e=i(21);t.exports=function(t,n,i){for(var r in n)e(t,r,n[r],i);return t}},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(146)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,null,[{key:"ui",value:function(n,i){return t._t(n,i)}},{key:"t",value:function(n,i){return t._t(n,i)}},{key:"setDictionary",value:function(n){t.currentDictionary=n}},{key:"_t",value:function(n,i){var e=t.getNamespace(n);return e&&e[i]?e[i]:i}},{key:"getNamespace",value:function(n){return n.split(".").reduce((function(t,n){return t&&Object.keys(t).length?t[n]:{}}),t.currentDictionary)}}]),t}();e.default=a,a.displayName="I18n",a.currentDictionary=s.default,t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(379),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,u){var a=i(8),c=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=c(r),o=c(o),s=c(s),u=a(u);var h=function(){function t(n){var i=this;(0,r.default)(this,t),this.iterator=null,this.activated=!1,this.allowArrows=!0,this.onKeyDown=function(n){if(i.isEventReadyForHandling(n))switch(t.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case u.keyCodes.TAB:i.handleTabPress(n);break;case u.keyCodes.LEFT:case u.keyCodes.UP:i.flipLeft();break;case u.keyCodes.RIGHT:case u.keyCodes.DOWN:i.flipRight();break;case u.keyCodes.ENTER:i.handleEnterPress(n)}},this.allowArrows=!u.isBoolean(n.allowArrows)||n.allowArrows,this.iterator=new s.default(n.items,n.focusedItemClass),this.activateCallback=n.activateCallback}return(0,o.default)(t,[{key:"activate",value:function(t){this.activated=!0,t&&this.iterator.setItems(t),document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous()}},{key:"flipRight",value:function(){this.iterator.next()}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(t){var n=[u.keyCodes.TAB,u.keyCodes.ENTER],i=this.iterator.currentItem==document.activeElement;return this.allowArrows&&!i&&n.push(u.keyCodes.LEFT,u.keyCodes.RIGHT,u.keyCodes.UP,u.keyCodes.DOWN),this.activated&&-1!==n.indexOf(t.keyCode)}},{key:"handleTabPress",value:function(t){switch(t.shiftKey?s.default.directions.LEFT:s.default.directions.RIGHT){case s.default.directions.RIGHT:this.flipRight();break;case s.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(t){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),u.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem),t.preventDefault(),t.stopPropagation())}},{key:"currentItem",get:function(){return this.iterator.currentItem}}],[{key:"usedKeys",get:function(){return[u.keyCodes.TAB,u.keyCodes.LEFT,u.keyCodes.RIGHT,u.keyCodes.ENTER,u.keyCodes.UP,u.keyCodes.DOWN]}}]),t}();e.default=h,h.displayName="Flipper",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(30),i(42),i(23),i(24),i(2),i(3),i(15),i(7),i(150),i(25)],void 0===(o="function"==typeof(e=function(t,n,e,r,o,s,u,a,c,h,f){var l,d=i(8),v=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockToolAPI=void 0,n=v(n),e=v(e),r=v(r),o=v(o),s=v(s),u=v(u),a=v(a),c=d(c),h=v(h),f=v(f),t.BlockToolAPI=l,function(t){t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste"}(l||(t.BlockToolAPI=l={}));var p=function(){function t(n){var i=this,e=n.id,r=void 0===e?c.generateBlockId():e,o=n.data,u=n.tool,a=n.api,f=n.readOnly,d=n.tunesData;(0,s.default)(this,t),this.cachedInputs=[],this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.modificationDebounceTimer=450,this.didMutated=c.debounce((function(){i.cachedInputs=[],i.updateCurrentInput(),i.call(l.UPDATED)}),this.modificationDebounceTimer),this.handleFocus=function(){i.cachedInputs=[],i.updateCurrentInput()},this.name=u.name,this.id=r,this.settings=u.settings,this.config=u.settings.config||{},this.api=a,this.blockAPI=new h.default(this),this.mutationObserver=new MutationObserver(this.didMutated),this.tool=u,this.toolInstance=u.create(o,this.blockAPI,f),this.tunes=u.tunes,this.composeTunes(d),this.holder=this.compose()}var i,d,v;return(0,u.default)(t,[{key:"call",value:function(t,n){if(c.isFunction(this.toolInstance[t])){t===l.APPEND_CALLBACK&&c.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[t].call(this.toolInstance,n)}catch(n){c.log("Error during '".concat(t,"' call: ").concat(n.message),"error")}}}},{key:"mergeWith",value:(v=(0,o.default)(r.default.mark((function t(n){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toolInstance.merge(n);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"save",value:(d=(0,o.default)(r.default.mark((function t(){var i,o,s,u,a=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toolInstance.save(this.pluginsContent);case 2:return i=t.sent,o=this.unavailableTunesData,[].concat((0,e.default)(this.tunesInstances.entries()),(0,e.default)(this.defaultTunesInstances.entries())).forEach((function(t){var i=(0,n.default)(t,2),e=i[0],r=i[1];if(c.isFunction(r.save))try{o[e]=r.save()}catch(t){c.log("Tune ".concat(r.constructor.name," save method throws an Error %o"),"warn",t)}})),s=window.performance.now(),t.abrupt("return",Promise.resolve(i).then((function(t){return u=window.performance.now(),{id:a.id,tool:a.name,data:t,tunes:o,time:u-s}})).catch((function(t){c.log("Saving proccess for ".concat(a.name," tool failed due to the ").concat(t),"log","red")})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"validate",value:(i=(0,o.default)(r.default.mark((function t(n){var i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=!0,!(this.toolInstance.validate instanceof Function)){t.next=5;break}return t.next=4,this.toolInstance.validate(n);case 4:i=t.sent;case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"renderTunes",value:function(){var t=document.createDocumentFragment(),n=document.createDocumentFragment();return this.tunesInstances.forEach((function(n){a.default.append(t,n.render())})),this.defaultTunesInstances.forEach((function(t){a.default.append(n,t.render())})),[t,n]}},{key:"updateCurrentInput",value:function(){this.currentInput=a.default.isNativeInput(document.activeElement)||!f.default.anchorNode?document.activeElement:f.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"destroy",value:function(){c.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"renderSettings",value:function(){if(c.isFunction(this.toolInstance.renderSettings))return this.toolInstance.renderSettings()}},{key:"compose",value:function(){var n=a.default.make("div",t.CSS.wrapper),i=a.default.make("div",t.CSS.content),r=this.toolInstance.render();i.appendChild(r);var o=i;return[].concat((0,e.default)(this.tunesInstances.values()),(0,e.default)(this.defaultTunesInstances.values())).forEach((function(t){if(c.isFunction(t.wrap))try{o=t.wrap(o)}catch(n){c.log("Tune ".concat(t.constructor.name," wrap method throws an Error %o"),"warn",n)}})),n.appendChild(o),n}},{key:"composeTunes",value:function(t){var i=this;Array.from(this.tunes.values()).forEach((function(n){(n.isInternal?i.defaultTunesInstances:i.tunesInstances).set(n.name,n.create(t[n.name],i.blockAPI))})),Object.entries(t).forEach((function(t){var e=(0,n.default)(t,2),r=e[0],o=e[1];i.tunesInstances.has(r)||(i.unavailableTunesData[r]=o)}))}},{key:"addInputEvents",value:function(){var t=this;this.inputs.forEach((function(n){n.addEventListener("focus",t.handleFocus)}))}},{key:"removeInputEvents",value:function(){var t=this;this.inputs.forEach((function(n){n.removeEventListener("focus",t.handleFocus)}))}},{key:"inputs",get:function(){if(0!==this.cachedInputs.length)return this.cachedInputs;var t=a.default.findAllInputs(this.holder);return this.inputIndex>t.length-1&&(this.inputIndex=t.length-1),this.cachedInputs=t,t}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(t){var n=this.inputs.findIndex((function(n){return n===t||n.contains(t)}));-1!==n&&(this.inputIndex=n)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var t=this.inputs;return t[t.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then((function(t){return t&&!c.isEmpty(t.data)?t.data:{}}))}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return c.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){return a.default.isEmpty(this.pluginsContent)&&!this.hasMedia}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(n){this.holder.classList.toggle(t.CSS.focused,n)},get:function(){return this.holder.classList.contains(t.CSS.focused)}},{key:"selected",set:function(n){n?this.holder.classList.add(t.CSS.selected):this.holder.classList.remove(t.CSS.selected)},get:function(){return this.holder.classList.contains(t.CSS.selected)}},{key:"stretched",set:function(n){this.holder.classList.toggle(t.CSS.wrapperStretched,n)},get:function(){return this.holder.classList.contains(t.CSS.wrapperStretched)}},{key:"dropTarget",set:function(n){this.holder.classList.toggle(t.CSS.dropTarget,n)}},{key:"pluginsContent",get:function(){var n=this.holder.querySelector(".".concat(t.CSS.content));if(n&&n.childNodes.length)for(var i=n.childNodes.length-1;i>=0;i--){var e=n.childNodes[i];if(!a.default.isExtensionNode(e))return e}return null}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),t}();t.default=p,p.displayName="Block"})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e=i(37);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,i){var e=i(37),r=i(14)("toStringTag"),o="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),r))?i:o?e(n):"Object"==(s=e(n))&&"function"==typeof n.callee?"Arguments":s}},function(t,n,i){var e=i(12),r=i(32),o=i(14)("species");t.exports=function(t,n){var i,s=e(t).constructor;return void 0===s||null==(i=e(s)[o])?n:r(i)}},function(t,n,i){var e,r,o;r=[n,i(7),i(377)],void 0===(o="function"==typeof(e=function(t,n,e){var r=i(1),o=i(8);function s(t){return new e.default({tags:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}).clean(t)}function u(t,i){return Array.isArray(t)?(o=i,t.map((function(t){return u(t,o)}))):n.isObject(t)?function(t,i){var e,r={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=t[o],a=n.isObject(e=i[o])||n.isBoolean(e)||n.isFunction(e)?i[o]:i;r[o]=u(s,a)}return r}(t,i):n.isString(t)?(e=t,n.isObject(r=i)?s(e,r):!1===r?s(e,{}):e):t;var e,r,o}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeBlocks=function(t,i){return t.map((function(t){var e=n.isFunction(i)?i(t.tool):i;return n.isEmpty(e)||(t.data=u(t.data,e)),t}))},t.clean=s,n=o(n),e=r(e)})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(7)],void 0===(o="function"==typeof(e=function(t,n,e,r){var o,s,u,a,c,h,f=i(8),l=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InternalTuneSettings=t.InternalInlineToolSettings=t.InternalBlockToolSettings=t.CommonInternalSettings=t.UserSettings=t.ToolType=void 0,n=l(n),e=l(e),r=f(r),t.ToolType=o,function(t){t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune"}(o||(t.ToolType=o={})),t.UserSettings=s,function(t){t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config"}(s||(t.UserSettings=s={})),t.CommonInternalSettings=u,function(t){t.Shortcut="shortcut",t.SanitizeConfig="sanitize"}(u||(t.CommonInternalSettings=u={})),t.InternalBlockToolSettings=a,function(t){t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig"}(a||(t.InternalBlockToolSettings=a={})),t.InternalInlineToolSettings=c,function(t){t.IsInline="isInline",t.Title="title"}(c||(t.InternalInlineToolSettings=c={})),t.InternalTuneSettings=h,function(t){t.IsTune="isTune"}(h||(t.InternalTuneSettings=h={}));var d=function(){function t(i){var e=i.name,r=i.constructable,o=i.config,s=i.api,u=i.isDefault,a=i.isInternal,c=void 0!==a&&a,h=i.defaultPlaceholder;(0,n.default)(this,t),this.api=s,this.name=e,this.constructable=r,this.config=o,this.isDefault=u,this.isInternal=c,this.defaultPlaceholder=h}return(0,e.default)(t,[{key:"reset",value:function(){if(r.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(r.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"isInline",value:function(){return this.type===o.Inline}},{key:"isBlock",value:function(){return this.type===o.Block}},{key:"isTune",value:function(){return this.type===o.Tune}},{key:"settings",get:function(){var t=this.config[s.Config]||{};return this.isDefault&&!("placeholder"in t)&&this.defaultPlaceholder&&(t.placeholder=this.defaultPlaceholder),t}},{key:"shortcut",get:function(){return this.config[s.Shortcut]||this.constructable[u.Shortcut]}},{key:"sanitizeConfig",get:function(){return this.constructable[u.SanitizeConfig]||{}}}]),t}();t.default=d,d.displayName="BaseTool"})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e=i(17),r=i(10),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:i(45)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,i){var e=i(28),r=i(16),o=i(47);t.exports=function(t){return function(n,i,s){var u,a=e(n),c=r(a.length),h=o(s,c);if(t&&i!=i){for(;c>h;)if((u=a[h++])!=u)return!0}else for(;c>h;h++)if((t||h in a)&&a[h]===i)return t||h||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,i){var e=i(37);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,i){var e=i(14)("iterator"),r=!1;try{var o=[7][e]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!r)return!1;var i=!1;try{var o=[7],s=o[e]();s.next=function(){return{done:i=!0}},o[e]=function(){return s},t(o)}catch(t){}return i}},function(t,n,i){var e=i(12);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,i){var e=i(64),r=RegExp.prototype.exec;t.exports=function(t,n){var i=t.exec;if("function"==typeof i){var o=i.call(t,n);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==e(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,n)}},function(t,n,i){i(132);var e=i(21),r=i(27),o=i(11),s=i(38),u=i(14),a=i(106),c=u("species"),h=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,n,i){var l=u(t),d=!o((function(){var n={};return n[l]=function(){return 7},7!=""[t](n)})),v=d?!o((function(){var n=!1,i=/a/;return i.exec=function(){return n=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[l](""),!n})):void 0;if(!d||!v||"replace"===t&&!h||"split"===t&&!f){var p=/./[l],m=i(s,l,""[t],(function(t,n,i,e,r){return n.exec===a?d&&!r?{done:!0,value:p.call(n,i,e)}:{done:!0,value:t.call(i,n,e)}:{done:!1}})),b=m[1];e(String.prototype,t,m[0]),r(RegExp.prototype,l,2==n?function(t,n){return b.call(t,this,n)}:function(t){return b.call(t,this)})}}},function(t,n,i){var e=i(31),r=i(127),o=i(101),s=i(12),u=i(16),a=i(103),c={},h={};(n=t.exports=function(t,n,i,f,l){var d,v,p,m,b=l?function(){return t}:a(t),g=e(i,f,n?2:1),y=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(o(b)){for(d=u(t.length);d>y;y++)if((m=n?g(s(v=t[y])[0],v[1]):g(t[y]))===c||m===h)return m}else for(p=b.call(t);!(v=p.next()).done;)if((m=r(p,g,v.value,n))===c||m===h)return m}).BREAK=c,n.RETURN=h},function(t,n,i){var e=i(10).navigator;t.exports=e&&e.userAgent||""},function(t,n,i){var e=i(10),r=i(0),o=i(21),s=i(58),u=i(41),a=i(76),c=i(57),h=i(13),f=i(11),l=i(72),d=i(53),v=i(92);t.exports=function(t,n,i,p,m,b){var g=e[t],y=g,w=m?"set":"add",x=y&&y.prototype,k={},_=function(t){var n=x[t];o(x,t,"delete"==t||"has"==t?function(t){return!(b&&!h(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!h(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,i){return n.call(this,0===t?0:t,i),this})};if("function"==typeof y&&(b||x.forEach&&!f((function(){(new y).entries().next()})))){var A=new y,S=A[w](b?{}:-0,1)!=A,E=f((function(){A.has(1)})),O=l((function(t){new y(t)})),M=!b&&f((function(){for(var t=new y,n=5;n--;)t[w](n,n);return!t.has(-0)}));O||((y=n((function(n,i){c(n,y,t);var e=v(new g,n,y);return null!=i&&a(i,m,e[w],e),e}))).prototype=x,x.constructor=y),(E||M)&&(_("delete"),_("has"),m&&_("get")),(M||S)&&_(w),b&&x.clear&&delete x.clear}else y=p.getConstructor(n,t,m,w),s(y.prototype,i),u.NEED=!0;return d(y,t),k[t]=y,r(r.G+r.W+r.F*(y!=g),k),b||p.setStrong(y,t,m),y}},function(t,n,i){for(var e,r=i(10),o=i(27),s=i(44),u=s("typed_array"),a=s("view"),c=!(!r.ArrayBuffer||!r.DataView),h=c,f=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(e=r[l[f++]])?(o(e.prototype,u,!0),o(e.prototype,a,!0)):h=!1;t.exports={ABV:c,CONSTR:h,TYPED:u,VIEW:a}},function(t){function n(i){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(i)}t.exports=n},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=h(u),a=h(a);var l=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(f()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"getMethodsForTool",value:function(t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(t)})}},{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods}}}]),e}((c=h(c)).default);e.default=l,l.displayName="API",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(378)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(){(0,r.default)(this,t),this.lib=new s.default}return(0,o.default)(t,[{key:"destroy",value:function(){this.lib.destroy()}},{key:"show",value:function(t,n,i){this.lib.show(t,n,i)}},{key:"hide",value:function(){this.lib.hide()}},{key:"onHover",value:function(t,n,i){this.lib.onHover(t,n,i)}}]),t}();e.default=a,a.displayName="Tooltip",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(15),i(7),i(59),i(84),i(82)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v){var p=i(8),m=i(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=m(r),o=m(o),s=m(s),u=m(u),a=m(a),c=m(c),h=m(h),f=p(f),l=m(l),v=m(v);var g=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(b()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(t){var n,o=t.config,s=t.eventsDispatcher;return(0,r.default)(this,e),(n=i.call(this,{config:o,eventsDispatcher:s})).tooltip=new v.default,n}return(0,o.default)(e,[{key:"toggleReadOnly",value:function(t){t?(this.destroy(),this.Editor.Toolbox.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"move",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var t=this.Editor.BlockManager.currentBlock.holder;if(t){var n=t.offsetHeight,i=t.offsetTop;if(this.Editor.UI.isMobile)i+=n;else{var e=Math.floor(n/2);this.nodes.plusButton.style.transform="translate3d(0, calc(".concat(e,"px - 50%), 0)"),this.Editor.Toolbox.nodes.toolbox.style.transform="translate3d(0, calc(".concat(e,"px - 50%), 0)")}this.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(i),"px, 0)")}}},{key:"open",value:function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f.delay((function(){t.move(i),t.nodes.wrapper.classList.add(t.CSS.toolbarOpened),n?t.blockActions.show():t.blockActions.hide()}),50)()}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.Editor.Toolbox.close(),this.Editor.BlockSettings.close()}},{key:"make",value:function(){var t=this;this.nodes.wrapper=h.default.make("div",this.CSS.toolbar),["content","actions"].forEach((function(n){t.nodes[n]=h.default.make("div",t.CSS[n])})),h.default.append(this.nodes.wrapper,this.nodes.content),h.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=h.default.make("div",this.CSS.plusButton),h.default.append(this.nodes.plusButton,h.default.svg("plus",14,14)),h.default.append(this.nodes.content,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",(function(){t.plusButtonClicked()}),!1);var n=h.default.make("div");n.appendChild(document.createTextNode(l.default.ui(d.I18nInternalNS.ui.toolbar.toolbox,"Add"))),n.appendChild(h.default.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,n),this.nodes.blockActionsButtons=h.default.make("div",this.CSS.blockActionsButtons),this.nodes.settingsToggler=h.default.make("span",this.CSS.settingsToggler);var i=h.default.svg("dots",8,8);h.default.append(this.nodes.settingsToggler,i),h.default.append(this.nodes.blockActionsButtons,this.nodes.settingsToggler),h.default.append(this.nodes.actions,this.nodes.blockActionsButtons),this.tooltip.onHover(this.nodes.settingsToggler,l.default.ui(d.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{placement:"top"}),h.default.append(this.nodes.content,this.Editor.Toolbox.nodes.toolbox),h.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),h.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"plusButtonClicked",value:function(){this.Editor.Toolbox.toggle()}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"click",(function(){t.settingsTogglerClicked()}))}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open()}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.Editor.Toolbox.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes(),this.tooltip.destroy()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",plusButtonHidden:"ce-toolbar__plus--hidden",blockActionsButtons:"ce-toolbar__actions-buttons",settingsToggler:"ce-toolbar__settings-btn"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"plusButton",get:function(){var t=this;return{hide:function(){return t.nodes.plusButton.classList.add(t.CSS.plusButtonHidden)},show:function(){t.Editor.Toolbox.isEmpty||t.nodes.plusButton.classList.remove(t.CSS.plusButtonHidden)}}}},{key:"blockActions",get:function(){var t=this;return{hide:function(){t.nodes.actions.classList.remove(t.CSS.actionsOpened)},show:function(){t.nodes.actions.classList.add(t.CSS.actionsOpened)}}}}]),e}(c.default);e.default=g,g.displayName="Toolbar",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(30),i(146),i(7)],void 0===(o="function"==typeof(e=function(t,n,e,r){var o=i(1);Object.defineProperty(t,"__esModule",{value:!0}),t.I18nInternalNS=void 0,n=o(n);var s=function t(i,e){var o={};return Object.entries(i).forEach((function(i){var s=(0,n.default)(i,2),u=s[0],a=s[1];if((0,r.isObject)(a)){var c=e?"".concat(e,".").concat(u):u,h=Object.values(a).every((function(t){return(0,r.isString)(t)}));o[u]=h?c:t(a,c)}else o[u]=a})),o}((e=o(e)).default);t.I18nInternalNS=s})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e=i(13),r=i(10).document,o=e(r)&&e(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,n,i){n.f=i(14)},function(t,n,i){var e=i(68)("keys"),r=i(44);t.exports=function(t){return e[t]||(e[t]=r(t))}},function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,i){var e=i(10).document;t.exports=e&&e.documentElement},function(t,n,i){var e=i(13),r=i(12),o=function(t,n){if(r(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{(e=i(31)(Function.call,i(34).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,i){return o(t,i),n?t.__proto__=i:e(t,i),t}}({},!1):void 0),check:o}},function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,n,i){var e=i(13),r=i(90).set;t.exports=function(t,n,i){var o,s=n.constructor;return s!==i&&"function"==typeof s&&(o=s.prototype)!==i.prototype&&e(o)&&r&&r(t,o),t}},function(t,n,i){var e=i(33),r=i(38);t.exports=function(t){var n=String(r(this)),i="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(i+=n);return i}},function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,n,i){var e=i(33),r=i(38);t.exports=function(t){return function(n,i){var o,s,u=String(r(n)),a=e(i),c=u.length;return a<0||a>=c?t?"":void 0:(o=u.charCodeAt(a))<55296||o>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?t?u.charAt(a):o:t?u.slice(a,a+2):s-56320+(o-55296<<10)+65536}}},function(t,n,i){var e=i(45),r=i(0),o=i(21),s=i(27),u=i(55),a=i(126),c=i(53),h=i(50),f=i(14)("iterator"),l=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,n,i,v,p,m,b){a(i,n,v);var g,y,w,x=function(t){if(!l&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},k=n+" Iterator",_="values"==p,A=!1,S=t.prototype,E=S[f]||S["@@iterator"]||p&&S[p],O=E||x(p),M=p?_?x("entries"):O:void 0,C="Array"==n&&S.entries||E;if(C&&(w=h(C.call(new t)))!==Object.prototype&&w.next&&(c(w,k,!0),e||"function"==typeof w[f]||s(w,f,d)),_&&E&&"values"!==E.name&&(A=!0,O=function(){return E.call(this)}),e&&!b||!l&&!A&&S[f]||s(S,f,O),u[n]=O,u[k]=d,p)if(g={values:_?O:x("values"),keys:m?O:x("keys"),entries:M},b)for(y in g)y in S||o(S,y,g[y]);else r(r.P+r.F*(l||A),n,g);return g}},function(t,n,i){var e=i(99),r=i(38);t.exports=function(t,n,i){if(e(n))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,n,i){var e=i(13),r=i(37),o=i(14)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==r(t))}},function(t,n,i){var e=i(14)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(i){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,i){var e=i(55),r=i(14)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[r]===t)}},function(t,n,i){var e=i(19),r=i(43);t.exports=function(t,n,i){n in t?e.f(t,n,r(0,i)):t[n]=i}},function(t,n,i){var e=i(64),r=i(14)("iterator"),o=i(55);t.exports=i(17).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[e(t)]}},function(t,n,i){var e=i(20),r=i(47),o=i(16);t.exports=function(t){for(var n=e(this),i=o(n.length),s=arguments.length,u=r(s>1?arguments[1]:void 0,i),a=s>2?arguments[2]:void 0,c=void 0===a?i:r(a,i);c>u;)n[u++]=t;return n}},function(t,n,i){var e=i(51),r=i(131),o=i(55),s=i(28);t.exports=i(97)(Array,"Array",(function(t,n){this._t=s(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==n?i:"values"==n?t[i]:[i,t[i]])}),"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n,i){var e,r,o=i(73),s=RegExp.prototype.exec,u=String.prototype.replace,a=s,c=(r=/b*/g,s.call(e=/a/,"a"),s.call(r,"a"),0!==e.lastIndex||0!==r.lastIndex),h=void 0!==/()??/.exec("")[1];(c||h)&&(a=function(t){var n,i,e,r,a=this;return h&&(i=new RegExp("^"+a.source+"$(?!\\s)",o.call(a))),c&&(n=a.lastIndex),e=s.call(a,t),c&&e&&(a.lastIndex=a.global?e.index+e[0].length:n),h&&e&&e.length>1&&u.call(e[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(e[r]=void 0)})),e}),t.exports=a},function(t,n,i){var e=i(96)(!0);t.exports=function(t,n,i){return n+(i?e(t,n).length:1)}},function(t,n,i){var e,r,o,s=i(31),u=i(120),a=i(89),c=i(85),h=i(10),f=h.process,l=h.setImmediate,d=h.clearImmediate,v=h.MessageChannel,p=h.Dispatch,m=0,b={},g=function(){var t=+this;if(b.hasOwnProperty(t)){var n=b[t];delete b[t],n()}},y=function(t){g.call(t.data)};l&&d||(l=function(t){for(var n=[],i=1;arguments.length>i;)n.push(arguments[i++]);return b[++m]=function(){u("function"==typeof t?t:Function(t),n)},e(m),m},d=function(t){delete b[t]},"process"==i(37)(f)?e=function(t){f.nextTick(s(g,t,1))}:p&&p.now?e=function(t){p.now(s(g,t,1))}:v?(o=(r=new v).port2,r.port1.onmessage=y,e=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(e=function(t){h.postMessage(t+"","*")},h.addEventListener("message",y,!1)):e="onreadystatechange"in c("script")?function(t){a.appendChild(c("script")).onreadystatechange=function(){a.removeChild(this),g.call(t)}}:function(t){setTimeout(s(g,t,1),0)}),t.exports={set:l,clear:d}},function(t,n,i){var e=i(10),r=i(18),o=i(45),s=i(79),u=i(27),a=i(58),c=i(11),h=i(57),f=i(33),l=i(16),d=i(139),v=i(49).f,p=i(19).f,m=i(104),b=i(53),g=e.ArrayBuffer,y=e.DataView,w=e.Math,x=e.RangeError,k=e.Infinity,_=g,A=w.abs,S=w.pow,E=w.floor,O=w.log,M=w.LN2,C=r?"_b":"buffer",T=r?"_l":"byteLength",j=r?"_o":"byteOffset";function R(t,n,i){var e,r,o,s=new Array(i),u=8*i-n-1,a=(1<<u)-1,c=a>>1,h=23===n?S(2,-24)-S(2,-77):0,f=0,l=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===k?(r=t!=t?1:0,e=a):(e=E(O(t)/M),t*(o=S(2,-e))<1&&(e--,o*=2),(t+=e+c>=1?h/o:h*S(2,1-c))*o>=2&&(e++,o/=2),e+c>=a?(r=0,e=a):e+c>=1?(r=(t*o-1)*S(2,n),e+=c):(r=t*S(2,c-1)*S(2,n),e=0));n>=8;s[f++]=255&r,r/=256,n-=8);for(e=e<<n|r,u+=n;u>0;s[f++]=255&e,e/=256,u-=8);return s[--f]|=128*l,s}function F(t,n,i){var e,r=8*i-n-1,o=(1<<r)-1,s=o>>1,u=r-7,a=i-1,c=t[a--],h=127&c;for(c>>=7;u>0;h=256*h+t[a],a--,u-=8);for(e=h&(1<<-u)-1,h>>=-u,u+=n;u>0;e=256*e+t[a],a--,u-=8);if(0===h)h=1-s;else{if(h===o)return e?NaN:c?-k:k;e+=S(2,n),h-=s}return(c?-1:1)*e*S(2,h-n)}function I(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function B(t){return[255&t]}function P(t){return[255&t,t>>8&255]}function L(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return R(t,52,8)}function D(t){return R(t,23,4)}function N(t,n,i){p(t.prototype,n,{get:function(){return this[i]}})}function U(t,n,i,e){var r=d(+i);if(r+n>t[T])throw x("Wrong index!");var o=r+t[j],s=t[C]._b.slice(o,o+n);return e?s:s.reverse()}function V(t,n,i,e,r,o){var s=d(+i);if(s+n>t[T])throw x("Wrong index!");for(var u=t[C]._b,a=s+t[j],c=e(+r),h=0;h<n;h++)u[a+h]=c[o?h:n-h-1]}if(s.ABV){if(!c((function(){g(1)}))||!c((function(){new g(-1)}))||c((function(){return new g,new g(1.5),new g(NaN),"ArrayBuffer"!=g.name}))){for(var H,$=(g=function(t){return h(this,g),new _(d(t))}).prototype=_.prototype,K=v(_),W=0;K.length>W;)(H=K[W++])in g||u(g,H,_[H]);o||($.constructor=g)}var G=new y(new g(2)),q=y.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||a(y.prototype,{setInt8:function(t,n){q.call(this,t,n<<24>>24)},setUint8:function(t,n){q.call(this,t,n<<24>>24)}},!0)}else g=function(t){h(this,g,"ArrayBuffer");var n=d(t);this._b=m.call(new Array(n),0),this[T]=n},y=function(t,n,i){h(this,y,"DataView"),h(t,g,"DataView");var e=t[T],r=f(n);if(r<0||r>e)throw x("Wrong offset!");if(r+(i=void 0===i?e-r:l(i))>e)throw x("Wrong length!");this[C]=t,this[j]=r,this[T]=i},r&&(N(g,"byteLength","_l"),N(y,"buffer","_b"),N(y,"byteLength","_l"),N(y,"byteOffset","_o")),a(y.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var n=U(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=U(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return I(U(this,4,t,arguments[1]))},getUint32:function(t){return I(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){V(this,1,t,B,n)},setUint8:function(t,n){V(this,1,t,B,n)},setInt16:function(t,n){V(this,2,t,P,n,arguments[2])},setUint16:function(t,n){V(this,2,t,P,n,arguments[2])},setInt32:function(t,n){V(this,4,t,L,n,arguments[2])},setUint32:function(t,n){V(this,4,t,L,n,arguments[2])},setFloat32:function(t,n){V(this,4,t,D,n,arguments[2])},setFloat64:function(t,n){V(this,8,t,z,n,arguments[2])}});b(g,"ArrayBuffer"),b(y,"DataView"),u(y.prototype,s.VIEW,!0),n.ArrayBuffer=g,n.DataView=y},function(t){function n(i,e){return t.exports=n=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},n(i,e)}t.exports=n},function(t,n,i){var e,r,o;r=[n,i(42),i(2),i(3),i(381)],void 0===(o="function"==typeof(e=function(e,r,o,s,u){var a=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=a(s),u=a(u);var c=function(){function t(){(0,o.default)(this,t),this.registeredShortcuts=new Map}return(0,s.default)(t,[{key:"add",value:function(t){if(this.findShortcut(t.on,t.name))throw Error("Shortcut ".concat(t.name," is already registered for ").concat(t.on,". Please remove it before add a new handler."));var n=new u.default({name:t.name,on:t.on,callback:t.handler}),i=this.registeredShortcuts.get(t.on)||[];this.registeredShortcuts.set(t.on,[].concat((0,r.default)(i),[n]))}},{key:"remove",value:function(t,n){var i=this.findShortcut(t,n);if(i){i.remove();var e=this.registeredShortcuts.get(t);this.registeredShortcuts.set(t,e.filter((function(t){return t!==i})))}}},{key:"findShortcut",value:function(t,n){return(this.registeredShortcuts.get(t)||[]).find((function(t){return t.name===n}))}}]),t}();c.displayName="Shortcuts";var h=new c;e.default=h,t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){t.exports=!i(18)&&!i(11)((function(){return 7!=Object.defineProperty(i(85)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,i){var e=i(10),r=i(17),o=i(45),s=i(86),u=i(19).f;t.exports=function(t){var n=r.Symbol||(r.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||u(n,t,{value:s.f(t)})}},function(t,n,i){var e=i(26),r=i(28),o=i(69)(!1),s=i(87)("IE_PROTO");t.exports=function(t,n){var i,u=r(t),a=0,c=[];for(i in u)i!=s&&e(u,i)&&c.push(i);for(;n.length>a;)e(u,i=n[a++])&&(~o(c,i)||c.push(i));return c}},function(t,n,i){var e=i(19),r=i(12),o=i(46);t.exports=i(18)?Object.defineProperties:function(t,n){r(t);for(var i,s=o(n),u=s.length,a=0;u>a;)e.f(t,i=s[a++],n[i]);return t}},function(t,n,i){var e=i(28),r=i(49).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(e(t))}},function(t,n,i){var e=i(18),r=i(46),o=i(70),s=i(63),u=i(20),a=i(62),c=Object.assign;t.exports=!c||i(11)((function(){var t={},n={},i=Symbol(),e="abcdefghijklmnopqrst";return t[i]=7,e.split("").forEach((function(t){n[t]=t})),7!=c({},t)[i]||Object.keys(c({},n)).join("")!=e}))?function(t,n){for(var i=u(t),c=arguments.length,h=1,f=o.f,l=s.f;c>h;)for(var d,v=a(arguments[h++]),p=f?r(v).concat(f(v)):r(v),m=p.length,b=0;m>b;)d=p[b++],e&&!l.call(v,d)||(i[d]=v[d]);return i}:c},function(t){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,i){var e=i(32),r=i(13),o=i(120),s=[].slice,u={},a=function(t,n,i){if(!(n in u)){for(var e=[],r=0;r<n;r++)e[r]="a["+r+"]";u[n]=Function("F,a","return new F("+e.join(",")+")")}return u[n](t,i)};t.exports=Function.bind||function(t){var n=e(this),i=s.call(arguments,1),u=function(){var e=i.concat(s.call(arguments));return this instanceof u?a(n,e.length,e):o(n,e,t)};return r(n.prototype)&&(u.prototype=n.prototype),u}},function(t){t.exports=function(t,n,i){var e=void 0===i;switch(n.length){case 0:return e?t():t.call(i);case 1:return e?t(n[0]):t.call(i,n[0]);case 2:return e?t(n[0],n[1]):t.call(i,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(i,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(i,n[0],n[1],n[2],n[3])}return t.apply(i,n)}},function(t,n,i){var e=i(10).parseInt,r=i(54).trim,o=i(91),s=/^[-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var i=r(String(t),3);return e(i,n>>>0||(s.test(i)?16:10))}:e},function(t,n,i){var e=i(10).parseFloat,r=i(54).trim;t.exports=1/e(i(91)+"-0")!=-1/0?function(t){var n=r(String(t),3),i=e(n);return 0===i&&"-"==n.charAt(0)?-0:i}:e},function(t,n,i){var e=i(37);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,i){var e=i(13),r=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&r(t)===t}},function(t){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,i){var e=i(48),r=i(43),o=i(53),s={};i(27)(s,i(14)("iterator"),(function(){return this})),t.exports=function(t,n,i){t.prototype=e(s,{next:r(1,i)}),o(t,n+" Iterator")}},function(t,n,i){var e=i(12);t.exports=function(t,n,i,r){try{return r?n(e(i)[0],i[1]):n(i)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},function(t,n,i){var e=i(278);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,i){var e=i(32),r=i(20),o=i(62),s=i(16);t.exports=function(t,n,i,u,a){e(n);var c=r(t),h=o(c),f=s(c.length),l=a?f-1:0,d=a?-1:1;if(i<2)for(;;){if(l in h){u=h[l],l+=d;break}if(l+=d,a?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;a?l>=0:f>l;l+=d)l in h&&(u=n(u,h[l],l,c));return u}},function(t,n,i){var e=i(20),r=i(47),o=i(16);t.exports=[].copyWithin||function(t,n){var i=e(this),s=o(i.length),u=r(t,s),a=r(n,s),c=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===c?s:r(c,s))-a,s-u),f=1;for(a<u&&u<a+h&&(f=-1,a+=h-1,u+=h-1);h-- >0;)a in i?i[u]=i[a]:delete i[u],u+=f,a+=f;return i}},function(t){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,i){var e=i(106);i(0)({target:"RegExp",proto:!0,forced:e!==/./.exec},{exec:e})},function(t,n,i){i(18)&&"g"!=/./g.flags&&i(19).f(RegExp.prototype,"flags",{configurable:!0,get:i(73)})},function(t,n,i){var e,r,o,s,u=i(45),a=i(10),c=i(31),h=i(64),f=i(0),l=i(13),d=i(32),v=i(57),p=i(76),m=i(65),b=i(108).set,g=i(298)(),y=i(135),w=i(299),x=i(77),k=i(136),_=a.TypeError,A=a.process,S=A&&A.versions,E=S&&S.v8||"",O=a.Promise,M="process"==h(A),C=function(){},T=r=y.f,j=!!function(){try{var t=O.resolve(1),n=(t.constructor={})[i(14)("species")]=function(t){t(C,C)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof n&&0!==E.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},F=function(t,n){if(!t._n){t._n=!0;var i=t._c;g((function(){for(var e=t._v,r=1==t._s,o=0,s=function(n){var i,o,s,u=r?n.ok:n.fail,a=n.resolve,c=n.reject,h=n.domain;try{u?(r||(2==t._h&&P(t),t._h=1),!0===u?i=e:(h&&h.enter(),i=u(e),h&&(h.exit(),s=!0)),i===n.promise?c(_("Promise-chain cycle")):(o=R(i))?o.call(i,a,c):a(i)):c(e)}catch(t){h&&!s&&h.exit(),c(t)}};i.length>o;)s(i[o++]);t._c=[],t._n=!1,n&&!t._h&&I(t)}))}},I=function(t){b.call(a,(function(){var n,i,e,r=t._v,o=B(t);if(o&&(n=w((function(){M?A.emit("unhandledRejection",r,t):(i=a.onunhandledrejection)?i({promise:t,reason:r}):(e=a.console)&&e.error&&e.error("Unhandled promise rejection",r)})),t._h=M||B(t)?2:1),t._a=void 0,o&&n.e)throw n.v}))},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){b.call(a,(function(){var n;M?A.emit("rejectionHandled",t):(n=a.onrejectionhandled)&&n({promise:t,reason:t._v})}))},L=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),F(n,!0))},z=function(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw _("Promise can't be resolved itself");(n=R(t))?g((function(){var e={_w:i,_d:!1};try{n.call(t,c(z,e,1),c(L,e,1))}catch(t){L.call(e,t)}})):(i._v=t,i._s=1,F(i,!1))}catch(t){L.call({_w:i,_d:!1},t)}}};j||(O=function(t){v(this,O,"Promise","_h"),d(t),e.call(this);try{t(c(z,this,1),c(L,this,1))}catch(t){L.call(this,t)}},(e=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(58)(O.prototype,{then:function(t,n){var i=T(m(this,O));return i.ok="function"!=typeof t||t,i.fail="function"==typeof n&&n,i.domain=M?A.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&F(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new e;this.promise=t,this.resolve=c(z,t,1),this.reject=c(L,t,1)},y.f=T=function(t){return t===O||t===s?new o(t):r(t)}),f(f.G+f.W+f.F*!j,{Promise:O}),i(53)(O,"Promise"),i(56)("Promise"),s=i(17).Promise,f(f.S+f.F*!j,"Promise",{reject:function(t){var n=T(this);return(0,n.reject)(t),n.promise}}),f(f.S+f.F*(u||!j),"Promise",{resolve:function(t){return k(u&&this===s?O:this,t)}}),f(f.S+f.F*!(j&&i(72)((function(t){O.all(t).catch(C)}))),"Promise",{all:function(t){var n=this,i=T(n),e=i.resolve,r=i.reject,o=w((function(){var i=[],o=0,s=1;p(t,!1,(function(t){var u=o++,a=!1;i.push(void 0),s++,n.resolve(t).then((function(t){a||(a=!0,i[u]=t,--s||e(i))}),r)})),--s||e(i)}));return o.e&&r(o.v),i.promise},race:function(t){var n=this,i=T(n),e=i.reject,r=w((function(){p(t,!1,(function(t){n.resolve(t).then(i.resolve,e)}))}));return r.e&&e(r.v),i.promise}})},function(t,n,i){var e=i(32);function r(t){var n,i;this.promise=new t((function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e})),this.resolve=e(n),this.reject=e(i)}t.exports.f=function(t){return new r(t)}},function(t,n,i){var e=i(12),r=i(13),o=i(135);t.exports=function(t,n){if(e(t),r(n)&&n.constructor===t)return n;var i=o.f(t);return(0,i.resolve)(n),i.promise}},function(t,n,i){var e=i(19).f,r=i(48),o=i(58),s=i(31),u=i(57),a=i(76),c=i(97),h=i(131),f=i(56),l=i(18),d=i(41).fastKey,v=i(52),p=l?"_s":"size",m=function(t,n){var i,e=d(n);if("F"!==e)return t._i[e];for(i=t._f;i;i=i.n)if(i.k==n)return i};t.exports={getConstructor:function(t,n,i,c){var h=t((function(t,e){u(t,h,n,"_i"),t._t=n,t._i=r(null),t._f=void 0,t._l=void 0,t[p]=0,null!=e&&a(e,i,t[c],t)}));return o(h.prototype,{clear:function(){for(var t=v(this,n),i=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete i[e.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var i=v(this,n),e=m(i,t);if(e){var r=e.n,o=e.p;delete i._i[e.i],e.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==e&&(i._f=r),i._l==e&&(i._l=o),i[p]--}return!!e},forEach:function(t){v(this,n);for(var i,e=s(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(e(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!m(v(this,n),t)}}),l&&e(h.prototype,"size",{get:function(){return v(this,n)[p]}}),h},def:function(t,n,i){var e,r,o=m(t,n);return o?o.v=i:(t._l=o={i:r=d(n,!0),k:n,v:i,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[p]++,"F"!==r&&(t._i[r]=o)),t},getEntry:m,setStrong:function(t,n,i){c(t,n,(function(t,i){this._t=v(t,n),this._k=i,this._l=void 0}),(function(){for(var t=this._k,n=this._l;n&&n.r;)n=n.p;return this._t&&(this._l=n=n?n.n:this._t._f)?h(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this._t=void 0,h(1))}),i?"entries":"values",!i,!0),f(n)}}},function(t,n,i){var e=i(58),r=i(41).getWeak,o=i(12),s=i(13),u=i(57),a=i(76),c=i(36),h=i(26),f=i(52),l=c(5),d=c(6),v=0,p=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},b=function(t,n){return l(t.a,(function(t){return t[0]===n}))};m.prototype={get:function(t){var n=b(this,t);if(n)return n[1]},has:function(t){return!!b(this,t)},set:function(t,n){var i=b(this,t);i?i[1]=n:this.a.push([t,n])},delete:function(t){var n=d(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,i,o){var c=t((function(t,e){u(t,c,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&a(e,i,t[o],t)}));return e(c.prototype,{delete:function(t){if(!s(t))return!1;var i=r(t);return!0===i?p(f(this,n)).delete(t):i&&h(i,this._i)&&delete i[this._i]},has:function(t){if(!s(t))return!1;var i=r(t);return!0===i?p(f(this,n)).has(t):i&&h(i,this._i)}}),c},def:function(t,n,i){var e=r(o(n),!0);return!0===e?p(t).set(n,i):e[t._i]=i,t},ufstore:p}},function(t,n,i){var e=i(33),r=i(16);t.exports=function(t){if(void 0===t)return 0;var n=e(t),i=r(n);if(n!==i)throw RangeError("Wrong length!");return i}},function(t,n,i){var e=i(49),r=i(70),o=i(12),s=i(10).Reflect;t.exports=s&&s.ownKeys||function(t){var n=e.f(o(t)),i=r.f;return i?n.concat(i(t)):n}},function(t,n,i){var e=i(16),r=i(93),o=i(38);t.exports=function(t,n,i,s){var u=String(o(t)),a=u.length,c=void 0===i?" ":String(i),h=e(n);if(h<=a||""==c)return u;var f=h-a,l=r.call(c,Math.ceil(f/c.length));return l.length>f&&(l=l.slice(0,f)),s?l+u:u+l}},function(t,n,i){var e=i(18),r=i(46),o=i(28),s=i(63).f;t.exports=function(t){return function(n){for(var i,u=o(n),a=r(u),c=a.length,h=0,f=[];c>h;)i=a[h++],e&&!s.call(u,i)||f.push(t?[i,u[i]]:u[i]);return f}}},function(t){var n=function(t){var n=Object.prototype,i=n.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function u(t,n,i,e){var r=Object.create((n&&n.prototype instanceof h?n:h).prototype),o=new k(e||[]);return r._invoke=function(t,n,i){var e="suspendedStart";return function(r,o){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===r)throw o;return{value:void 0,done:!0}}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var u=y(s,i);if(u){if(u===c)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===e)throw e="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e="executing";var h=a(t,n,i);if("normal"===h.type){if(e=i.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e="completed",i.method="throw",i.arg=h.arg)}}}(t,i,o),r}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function h(){}function f(){}function l(){}var d={};d[r]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(_([])));p&&p!==n&&i.call(p,r)&&(d=p);var m=l.prototype=h.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function g(t,n){var e;this._invoke=function(r,o){function s(){return new n((function(e,s){!function e(r,o,s,u){var c=a(t[r],t,o);if("throw"!==c.type){var h=c.arg,f=h.value;return f&&"object"==typeof f&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){e("next",t,s,u)}),(function(t){e("throw",t,s,u)})):n.resolve(f).then((function(t){h.value=t,s(h)}),(function(t){return e("throw",t,s,u)}))}u(c.arg)}(r,o,e,s)}))}return e=e?e.then(s,s):s()}}function y(t,n){var i=t.iterator[n.method];if(void 0===i){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,y(t,n),"throw"===n.method))return c;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var e=a(i,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,c;var r=e.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,c):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,c)}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function x(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function n(){for(;++e<t.length;)if(i.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=m.constructor=l,l.constructor=f,l[s]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===f||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(g.prototype),g.prototype[o]=function(){return this},t.AsyncIterator=g,t.async=function(n,i,e,r,o){void 0===o&&(o=Promise);var s=new g(u(n,i,e,r),o);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),m[s]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=_,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(i,e){return s.type="throw",s.arg=t,n.next=i,e&&(n.method="next",n.arg=void 0),!!e}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),a=i.call(o,"finallyLoc");if(u&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=n,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),c},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),x(i),c}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;x(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:_(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,n,i){var e=i(145);t.exports=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}},function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}},function(t){t.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(t,n,i){var e,r,o;r=[n,i(2),i(5),i(6),i(4),i(148)],void 0===(o="function"==typeof(e=function(t,n,e,r,o,s){var u=i(1);function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.CriticalError=void 0,n=u(n),e=u(e),r=u(r),o=u(o);var c=function(t){(0,e.default)(u,t);var i,s=(i=u,function(){var t,n=(0,o.default)(i);if(a()){var e=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,e)}else t=n.apply(this,arguments);return(0,r.default)(this,t)});function u(){return(0,n.default)(this,u),s.apply(this,arguments)}return u}((0,(s=u(s)).default)(Error));t.CriticalError=c,c.displayName="CriticalError"})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e=i(4),r=i(110),o=i(369),s=i(370);function u(n){var i="function"==typeof Map?new Map:void 0;return t.exports=u=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,n)}function n(){return s(t,arguments,e(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r(n,t)},u(n)}t.exports=u},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(7),i(150),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f){var l=i(8),d=i(1);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=d(r),o=d(o),s=d(s),u=d(u),a=d(a),c=l(c),h=d(h);var p=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(v()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=i.apply(this,arguments)).insert=function(){t.Editor.BlockManager.insert({tool:arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.config.defaultBlock,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},index:arguments.length>3?arguments[3]:void 0,needToFocus:arguments.length>4?arguments[4]:void 0})},t}return(0,o.default)(e,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockByIndex",value:function(t){var n=this.Editor.BlockManager.getBlockByIndex(t);if(void 0!==n)return new h.default(n);c.logLabeled("There is no block at index `"+t+"`","warn")}},{key:"getById",value:function(t){var n=this.Editor.BlockManager.getBlockById(t);return void 0===n?(c.logLabeled("There is no block with id `"+t+"`","warn"),null):new h.default(n)}},{key:"swap",value:function(t,n){c.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(t,n),this.Editor.Toolbar.move(!1)}},{key:"move",value:function(t,n){this.Editor.BlockManager.move(t,n),this.Editor.Toolbar.move(!1)}},{key:"delete",value:function(t){try{this.Editor.BlockManager.removeBlock(t)}catch(t){return void c.logLabeled(t,"warn")}0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(t){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(t.blocks)}},{key:"renderFromHTML",value:function(t){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(t,!0)}},{key:"stretchBlock",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var i=this.Editor.BlockManager.getBlockByIndex(t);i&&(i.stretched=n)}},{key:"insertNewBlock",value:function(){c.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var t=this;return{clear:function(){return t.clear()},render:function(n){return t.render(n)},renderFromHTML:function(n){return t.renderFromHTML(n)},delete:function(n){return t.delete(n)},swap:function(n,i){return t.swap(n,i)},move:function(n,i){return t.move(n,i)},getBlockByIndex:function(n){return t.getBlockByIndex(n)},getById:function(n){return t.getById(n)},getCurrentBlockIndex:function(){return t.getCurrentBlockIndex()},getBlocksCount:function(){return t.getBlocksCount()},stretchBlock:function(n){return t.stretchBlock(n,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])},insertNewBlock:function(){return t.insertNewBlock()},insert:this.insert}}}]),e}((f=d(f)).default);e.default=p,p.displayName="BlocksAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n){var i,e;void 0===(e="function"==typeof(i=function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(n){t.stretched=n},get stretched(){return t.stretched},call:function(n,i){return t.call(n,i)},save:function(){return t.save()},validate:function(n){return t.validate(n)}})},t.exports=n.default})?i.apply(n,[n]):i)||(t.exports=e)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=h(u),a=h(a);var l=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(f()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=i.apply(this,arguments)).setToFirstBlock=function(){return!!t.Editor.BlockManager.firstBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.firstBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToLastBlock=function(){return!!t.Editor.BlockManager.lastBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.lastBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToPreviousBlock=function(){return!!t.Editor.BlockManager.previousBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.previousBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToNextBlock=function(){return!!t.Editor.BlockManager.nextBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.nextBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToBlock=function(n){return!!t.Editor.BlockManager.blocks[n]&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.blocks[n],arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.Editor.Caret.positions.DEFAULT,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),!0)},t.focus=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.setToLastBlock(t.Editor.Caret.positions.END):t.setToFirstBlock(t.Editor.Caret.positions.START)},t}return(0,o.default)(e,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),e}((c=h(c)).default);e.default=l,l.displayName="CaretAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=h(u),a=h(a);var l=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(f()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"on",value:function(t,n){this.eventsDispatcher.on(t,n)}},{key:"emit",value:function(t,n){this.eventsDispatcher.emit(t,n)}},{key:"off",value:function(t,n){this.eventsDispatcher.off(t,n)}},{key:"methods",get:function(){var t=this;return{emit:function(n,i){return t.emit(n,i)},off:function(n,i){return t.off(n,i)},on:function(n,i){return t.on(n,i)}}}}]),e}((c=h(c)).default);e.default=l,l.displayName="EventsAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(59),i(7),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f){var l=i(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),u=l(u),a=l(a),c=l(c);var v=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(d()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"getMethodsForTool",value:function(t){return Object.assign(this.methods,{t:function(n){return c.default.t(e.getNamespace(t),n)}})}},{key:"methods",get:function(){return{t:function(){(0,h.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}}],[{key:"getNamespace",value:function(t){return t.isTune?"blockTunes.".concat(t.name):"tools.".concat(t.name)}}]),e}((f=l(f)).default);e.default=v,v.displayName="I18nAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=h(u),a=h(a);var l=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(f()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var t=this;return{close:function(){return t.close()},open:function(){return t.open()}}}}]),e}((c=h(c)).default);e.default=l,l.displayName="InlineToolbarAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=h(u),a=h(a);var l=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(f()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"on",value:function(t,n,i,e){this.listeners.on(t,n,i,e)}},{key:"off",value:function(t,n,i,e){this.listeners.off(t,n,i,e)}},{key:"methods",get:function(){var t=this;return{on:function(n,i,e,r){return t.on(n,i,e,r)},off:function(n,i,e,r){return t.off(n,i,e,r)}}}}]),e}((c=h(c)).default);e.default=l,l.displayName="ListenersAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(375),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h){var f=i(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),u=f(u),a=f(a),c=f(c);var d=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(l()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(t){var n,o=t.config,s=t.eventsDispatcher;return(0,r.default)(this,e),(n=i.call(this,{config:o,eventsDispatcher:s})).notifier=new c.default,n}return(0,o.default)(e,[{key:"show",value:function(t){return this.notifier.show(t)}},{key:"methods",get:function(){var t=this;return{show:function(n){return t.show(n)}}}}]),e}((h=f(h)).default);e.default=d,d.displayName="NotifierAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=h(u),a=h(a);var l=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(f()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"toggle",value:function(t){return this.Editor.ReadOnly.toggle(t)}},{key:"methods",get:function(){var t=this;return{toggle:function(n){return t.toggle(n)}}}}]),e}((c=h(c)).default);e.default=l,l.displayName="ReadOnlyAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(66)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h){var f=i(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),u=f(u),a=f(a);var d=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(l()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"clean",value:function(t,n){return(0,h.clean)(t,n)}},{key:"methods",get:function(){var t=this;return{clean:function(n,i){return t.clean(n,i)}}}}]),e}((c=f(c)).default);e.default=d,d.displayName="SanitizerAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(7),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h){var f=i(8),l=i(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),u=l(u),a=l(a),c=f(c);var v=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(d()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"save",value:function(){var t="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(c.logLabeled(t,"warn"),Promise.reject(new Error(t))):this.Editor.Saver.save()}},{key:"methods",get:function(){var t=this;return{save:function(){return t.save()}}}}]),e}((h=l(h)).default);e.default=v,v.displayName="SaverAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(25),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h){var f=i(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),u=f(u),a=f(a),c=f(c);var d=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(l()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"findParentTag",value:function(t,n){return(new c.default).findParentTag(t,n)}},{key:"expandToTag",value:function(t){(new c.default).expandToTag(t)}},{key:"methods",get:function(){var t=this;return{findParentTag:function(n,i){return t.findParentTag(n,i)},expandToTag:function(n){return t.expandToTag(n)}}}}]),e}((h=f(h)).default);e.default=d,d.displayName="SelectionAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(1);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=h(u),a=h(a);var l=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(f()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),e}((c=h(c)).default);e.default=l,l.displayName="StylesAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h){var f=i(8),l=i(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),u=l(u),a=l(a),c=l(c),h=f(h);var v=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(d()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"open",value:function(){this.Editor.Toolbar.open()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(t){-1!==this.Editor.BlockManager.currentBlockIndex?t!==this.Editor.BlockSettings.opened&&((null!=t?t:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()):h.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}},{key:"methods",get:function(){var t=this;return{close:function(){return t.close()},open:function(){return t.open()},toggleBlockSettings:function(n){return t.toggleBlockSettings(n)}}}}]),e}(c.default);e.default=v,v.displayName="ToolbarAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(82)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h){var f=i(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),u=f(u),a=f(a),c=f(c),h=f(h);var d=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(l()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(t){var n,o=t.config,s=t.eventsDispatcher;return(0,r.default)(this,e),(n=i.call(this,{config:o,eventsDispatcher:s})).tooltip=new h.default,n}return(0,o.default)(e,[{key:"destroy",value:function(){this.tooltip.destroy()}},{key:"show",value:function(t,n,i){this.tooltip.show(t,n,i)}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"onHover",value:function(t,n,i){this.tooltip.onHover(t,n,i)}},{key:"methods",get:function(){var t=this;return{show:function(n,i,e){return t.show(n,i,e)},hide:function(){return t.hide()},onHover:function(n,i,e){return t.onHover(n,i,e)}}}}]),e}(c.default);e.default=d,d.displayName="TooltipAPI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(7),i(25),i(60)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l){var d=i(8),v=i(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),u=v(u),a=v(a),c=v(c),h=d(h),f=v(f),l=v(l);var m=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(p()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"keydown",value:function(t){switch(this.beforeKeydownProcessing(t),t.keyCode){case h.keyCodes.BACKSPACE:this.backspace(t);break;case h.keyCodes.ENTER:this.enter(t);break;case h.keyCodes.DOWN:case h.keyCodes.RIGHT:this.arrowRightAndDown(t);break;case h.keyCodes.UP:case h.keyCodes.LEFT:this.arrowLeftAndUp(t);break;case h.keyCodes.TAB:this.tabPressed(t)}}},{key:"beforeKeydownProcessing",value:function(t){this.needToolbarClosing(t)&&h.isPrintableKey(t.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(t)))}},{key:"keyup",value:function(t){t.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(t){this.Editor.BlockSelection.clearSelection(t);var n=this.Editor,i=n.BlockManager.currentBlock;if(i){var e=!i.isEmpty&&n.ConversionToolbar.opened,r=!i.isEmpty&&!f.default.isCollapsed&&n.InlineToolbar.opened;i.tool.isDefault&&i.isEmpty?this.activateToolbox():e||r||this.activateBlockSettings()}}},{key:"dragOver",value:function(t){this.Editor.BlockManager.getBlockByChildNode(t.target).dropTarget=!0}},{key:"dragLeave",value:function(t){this.Editor.BlockManager.getBlockByChildNode(t.target).dropTarget=!1}},{key:"handleCommandC",value:function(t){var n=this.Editor.BlockSelection;n.anyBlockSelected&&n.copySelectedBlocks(t)}},{key:"handleCommandX",value:function(t){var n=this.Editor,i=n.BlockSelection,e=n.BlockManager,r=n.Caret;i.anyBlockSelected&&i.copySelectedBlocks(t).then((function(){var n=e.removeSelectedBlocks(),o=e.insertDefaultBlockAtIndex(n,!0);r.setToBlock(o,r.positions.START),i.clearSelection(t)}))}},{key:"enter",value:function(t){var n=this.Editor,i=n.UI;if(!n.BlockManager.currentBlock.tool.isLineBreaksEnabled&&!(i.someToolbarOpened&&i.someFlipperButtonFocused||t.shiftKey)){var e=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):e=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(e),e.tool.isDefault&&e.isEmpty&&(this.Editor.Toolbar.open(!1),this.Editor.Toolbar.plusButton.show()),t.preventDefault()}}},{key:"backspace",value:function(t){var n=this.Editor,i=n.BlockManager,e=n.BlockSelection,r=n.Caret,o=i.currentBlock,s=o.tool;if(o.selected||o.isEmpty&&o.currentInput===o.firstInput){t.preventDefault();var u=i.currentBlockIndex;return i.previousBlock&&0===i.previousBlock.inputs.length?i.removeBlock(u-1):i.removeBlock(),r.setToBlock(i.currentBlock,u?r.positions.END:r.positions.START),this.Editor.Toolbar.close(),void e.clearSelection(t)}s.isLineBreaksEnabled&&!r.isAtStart||r.isAtStart&&f.default.isCollapsed&&o.currentInput===o.firstInput&&0!==i.currentBlockIndex&&(t.preventDefault(),this.mergeBlocks())}},{key:"mergeBlocks",value:function(){var t=this.Editor,n=t.BlockManager,i=t.Caret,e=t.Toolbar,r=n.previousBlock,o=n.currentBlock;if(o.name!==r.name||!r.mergeable)return 0===r.inputs.length||r.isEmpty?(n.removeBlock(n.currentBlockIndex-1),i.setToBlock(n.currentBlock),void e.close()):void(i.navigatePrevious()&&e.close());i.createShadow(r.pluginsContent),n.mergeBlocks(r,o).then((function(){i.restoreCaret(r.pluginsContent),r.pluginsContent.normalize(),e.close()}))}},{key:"arrowRightAndDown",value:function(t){var n=this,i=l.default.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===h.keyCodes.TAB);this.Editor.UI.someToolbarOpened&&i||(this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close(),t.shiftKey&&t.keyCode===h.keyCodes.DOWN&&(this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected)?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((t.keyCode===h.keyCodes.DOWN||t.keyCode===h.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?t.preventDefault():h.delay((function(){n.Editor.BlockManager.currentBlock&&n.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(t)))}},{key:"arrowLeftAndUp",value:function(t){var n=this;if(this.Editor.UI.someToolbarOpened){if(l.default.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===h.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close(),t.shiftKey&&t.keyCode===h.keyCodes.UP&&(this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected)?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((t.keyCode===h.keyCodes.UP||t.keyCode===h.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?t.preventDefault():h.delay((function(){n.Editor.BlockManager.currentBlock&&n.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(t))}},{key:"needToolbarClosing",value:function(t){return!(t.shiftKey||t.keyCode===h.keyCodes.TAB||t.keyCode===h.keyCodes.ENTER&&this.Editor.Toolbox.opened||t.keyCode===h.keyCodes.ENTER&&this.Editor.BlockSettings.opened||t.keyCode===h.keyCodes.ENTER&&this.Editor.InlineToolbar.opened||t.keyCode===h.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!1,!1),this.Editor.Toolbar.plusButton.show()),this.Editor.Toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),e}(c.default);e.default=m,m.displayName="BlockEvents",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(23),i(24),i(2),i(3),i(5),i(6),i(4),i(61),i(9),i(15),i(7),i(380)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v,p){var m=i(8),b=i(1);function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=b(r),o=b(o),s=b(s),u=b(u),a=b(a),c=b(c),h=b(h),f=m(f),l=b(l),d=b(d),v=m(v),p=b(p);var y=function(t){(0,a.default)(m,t);var n,i,e,l=(n=m,function(){var t,i=(0,h.default)(n);if(g()){var e=(0,h.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,c.default)(this,t)});function m(){var t;return(0,s.default)(this,m),(t=l.apply(this,arguments))._currentBlockIndex=-1,t._blocks=null,t}return(0,u.default)(m,[{key:"prepare",value:function(){var t=this,n=new p.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(n,{set:p.default.set,get:p.default.get}),this.listeners.on(document,"copy",(function(n){return t.Editor.BlockEvents.handleCommandC(n)}))}},{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(t){var n=t.data,i=void 0===n?{}:n,e=t.id,r=void 0===e?void 0:e,o=t.tunes,s=void 0===o?{}:o,u=this.Editor.ReadOnly.isEnabled,a=this.Editor.Tools.blockTools.get(t.tool),c=new f.default({id:r,data:i,tool:a,api:this.Editor.API,readOnly:u,tunesData:s});return u||this.bindBlockEvents(c),c}},{key:"insert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,i=t.tool,e=t.data,r=t.needToFocus,o=void 0===r||r,s=t.replace,u=void 0!==s&&s,a=t.tunes,c=t.index;void 0===c&&(c=this.currentBlockIndex+(u?0:1));var h=this.composeBlock({id:void 0===n?void 0:n,tool:void 0===i?this.config.defaultBlock:i,data:void 0===e?{}:e,tunes:void 0===a?{}:a});return this._blocks.insert(c,h,u),o?this.currentBlockIndex=c:c<=this.currentBlockIndex&&this.currentBlockIndex++,h}},{key:"replace",value:function(t){var n=t.tool,i=t.data;return this.insert({tool:void 0===n?this.config.defaultBlock:n,data:void 0===i?{}:i,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(t,n){var i=this.insert({tool:t,replace:arguments.length>2&&void 0!==arguments[2]&&arguments[2]});try{i.call(f.BlockToolAPI.ON_PASTE,n)}catch(n){v.log("".concat(t,": onPaste callback call is failed"),"error",n)}return i}},{key:"insertDefaultBlockAtIndex",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[t]=i,n?this.currentBlockIndex=t:t<=this.currentBlockIndex&&this.currentBlockIndex++,i}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(e=(0,o.default)(r.default.mark((function t(n,i){var e,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this._blocks.indexOf(i),!i.isEmpty){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,i.data;case 5:if(v.isEmpty(o=t.sent)){t.next=9;break}return t.next=9,n.mergeWith(o);case 9:this.removeBlock(e),this.currentBlockIndex=this._blocks.indexOf(n);case 11:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"removeBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(t))throw new Error("Can't find a Block to remove");this._blocks.remove(t),this.currentBlockIndex>=t&&this.currentBlockIndex--,this.blocks.length?0===t&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var t,n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),t=n);return t}},{key:"removeAllBlocks",value:function(){for(var t=this.blocks.length-1;t>=0;t--)this._blocks.remove(t);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var t=this.Editor.Caret.extractFragmentFromCaretPosition(),n=d.default.make("div");n.appendChild(t);var i={text:d.default.isEmpty(n)?"":n.innerHTML};return this.insert({data:i})}},{key:"getBlockByIndex",value:function(t){return this._blocks[t]}},{key:"getBlockById",value:function(t){return this._blocks.array.find((function(n){return n.id===t}))}},{key:"getBlock",value:function(t){d.default.isElement(t)||(t=t.parentNode);var n=this._blocks.nodes,i=t.closest(".".concat(f.default.CSS.wrapper)),e=n.indexOf(i);if(e>=0)return this._blocks[e]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach((function(t){t.focused=!1}))}},{key:"setCurrentBlockByChildNode",value:function(t){d.default.isElement(t)||(t=t.parentNode);var n=t.closest(".".concat(f.default.CSS.wrapper));if(n){var i=n.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(null==i?void 0:i.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(t){d.default.isElement(t)||(t=t.parentNode);var n=t.closest(".".concat(f.default.CSS.wrapper));return this.blocks.find((function(t){return t.holder===n}))}},{key:"swap",value:function(t,n){this._blocks.swap(t,n),this.currentBlockIndex=n}},{key:"move",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentBlockIndex;isNaN(t)||isNaN(n)?v.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(t)&&this.validateIndex(n)?(this._blocks.move(t,n),this.currentBlockIndex=t):v.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._blocks.removeAll(),this.dropPointer(),t&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(i=(0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.blocks.map((function(t){return t.destroy()})));case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"bindBlockEvents",value:function(t){var n=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(t.holder,"keydown",(function(t){n.keydown(t)})),this.readOnlyMutableListeners.on(t.holder,"keyup",(function(t){n.keyup(t)})),this.readOnlyMutableListeners.on(t.holder,"dragover",(function(t){n.dragOver(t)})),this.readOnlyMutableListeners.on(t.holder,"dragleave",(function(t){n.dragLeave(t)}))}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(document,"cut",(function(n){return t.Editor.BlockEvents.handleCommandX(n)})),this.blocks.forEach((function(n){t.bindBlockEvents(n)}))}},{key:"validateIndex",value:function(t){return!(t<0||t>=this._blocks.length)}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(t){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[t]&&this._blocks[t].willSelect(),this._currentBlockIndex=t}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find((function(t){return!!t.inputs.length}))}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((function(t){return!!t.inputs.length}))}},{key:"previousBlock",get:function(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every((function(t){return t.isEmpty}))}}]),m}(l.default);e.default=y,y.displayName="BlockManager",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(7),i(15),i(111),i(25),i(66)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v){var p=i(8),m=i(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=m(r),o=m(o),s=m(s),u=m(u),a=m(a),c=m(c),h=p(h),f=m(f),l=m(l),d=m(d);var g=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(b()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=i.apply(this,arguments)).anyBlockSelectedCache=null,t.needToSelectAll=!1,t.nativeInputSelected=!1,t.readyToBlockSelection=!1,t}return(0,o.default)(e,[{key:"prepare",value:function(){var t=this;this.selection=new d.default,l.default.add({name:"CMD+A",handler:function(n){var i=t.Editor,e=i.BlockManager;if(i.ReadOnly.isEnabled)return n.preventDefault(),void t.selectAllBlocks();e.currentBlock&&t.handleCommandA(n)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(){d.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(t){var n=this.Editor.BlockManager;(isNaN(t)?n.currentBlock:n.getBlockByIndex(t)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.Editor,e=i.BlockManager,r=i.Caret,o=i.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var s=t&&t instanceof KeyboardEvent,u=s&&h.isPrintableKey(t.keyCode);if(this.anyBlockSelected&&s&&u&&!d.default.isSelectionExists){var a=e.removeSelectedBlocks();e.insertDefaultBlockAtIndex(a,!0),r.setToBlock(e.currentBlock),h.delay((function(){var n=t.key;r.insertContentAtCaretPosition(n.length>1?"":n)}),20)()}this.Editor.CrossBlockSelection.clear(t),this.anyBlockSelected&&!o.isRectActivated()?(n&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(t){var n=this;t.preventDefault();var i=f.default.make("div");this.selectedBlocks.forEach((function(t){var e=(0,v.clean)(t.holder.innerHTML,n.sanitizerConfig),r=f.default.make("p");r.innerHTML=e,i.appendChild(r)}));var e=Array.from(i.childNodes).map((function(t){return t.textContent})).join("\n\n"),r=i.innerHTML;return t.clipboardData.setData("text/plain",e),t.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map((function(t){return t.save()}))).then((function(i){try{t.clipboardData.setData(n.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch(t){}}))}},{key:"selectBlockByIndex",value:function(t){var n,i=this.Editor.BlockManager;i.clearFocused(),n=isNaN(t)?i.currentBlock:i.getBlockByIndex(t),this.selection.save(),d.default.get().removeAllRanges(),n.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){l.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(t){if(this.Editor.RectangleSelection.clearSelection(),!f.default.isNativeInput(t.target)||this.readyToBlockSelection){var n=this.Editor.BlockManager.getBlock(t.target).inputs;n.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==n.length||this.needToSelectAll?this.needToSelectAll?(t.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(t.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),d.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every((function(t){return!0===t.selected}))},set:function(t){this.Editor.BlockManager.blocks.forEach((function(n){n.selected=t})),this.clearCache()}},{key:"anyBlockSelected",get:function(){return null===this.anyBlockSelectedCache&&(this.anyBlockSelectedCache=this.Editor.BlockManager.blocks.some((function(t){return!0===t.selected}))),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter((function(t){return t.selected}))}}]),e}(c.default);e.default=g,g.displayName="BlockSelection",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(25),i(9),i(15),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l){var d=i(8),v=i(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),u=v(u),a=v(a),c=v(c),h=v(h),f=v(f),l=d(l);var m=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(p()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){return(0,r.default)(this,e),i.apply(this,arguments)}return(0,o.default)(e,[{key:"setToBlock",value:function(t){var n,i=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.Editor.BlockManager;switch(e){case this.positions.START:n=t.firstInput;break;case this.positions.END:n=t.lastInput;break;default:n=t.currentInput}if(n){var s=f.default.getDeepestNode(n,e===this.positions.END),u=f.default.getContentLength(s);switch(!0){case e===this.positions.START:r=0;break;case e===this.positions.END:case r>u:r=u}l.delay((function(){i.set(s,r)}),20)(),o.setCurrentBlockByChildNode(t.holder),o.currentBlock.currentInput=n}}},{key:"setToInput",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=this.Editor.BlockManager.currentBlock,r=f.default.getDeepestNode(t);switch(n){case this.positions.START:this.set(r,0);break;case this.positions.END:this.set(r,f.default.getContentLength(r));break;default:i&&this.set(r,i)}e.currentInput=t}},{key:"set",value:function(t){var n=c.default.setCursor(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=n.top,e=n.bottom,r=window.innerHeight;i<0&&window.scrollBy(0,i),e>r&&window.scrollBy(0,e-r)}},{key:"setToTheLastBlock",value:function(){var t=this.Editor.BlockManager.lastBlock;if(t)if(t.tool.isDefault&&t.isEmpty)this.setToBlock(t);else{var n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}},{key:"extractFragmentFromCaretPosition",value:function(){var t=c.default.get();if(t.rangeCount){var n=t.getRangeAt(0),i=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),i){if(f.default.isNativeInput(i)){var e=i,r=document.createDocumentFragment(),o=e.value.substring(0,e.selectionStart),s=e.value.substring(e.selectionStart);return r.textContent=s,e.value=o,r}var u=n.cloneRange();return u.selectNodeContents(i),u.setStart(n.endContainer,n.endOffset),u.extractContents()}}}},{key:"navigateNext",value:function(){var t=this.Editor.BlockManager,n=t.currentBlock,i=n.nextInput,e=this.isAtEnd,r=t.nextContentfulBlock;if(!r&&!i){if(n.tool.isDefault||!e)return!1;r=t.insertAtEnd()}return!!e&&(i?this.setToInput(i,this.positions.START):this.setToBlock(r,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var t=this.Editor.BlockManager,n=t.currentBlock,i=t.previousContentfulBlock;if(!n)return!1;var e=n.previousInput;return!(!i&&!e||!this.isAtStart||(e?this.setToInput(e,this.positions.END):this.setToBlock(i,this.positions.END),0))}},{key:"createShadow",value:function(t){var n=document.createElement("span");n.classList.add(e.CSS.shadowCaret),t.insertAdjacentElement("beforeend",n)}},{key:"restoreCaret",value:function(t){var n=t.querySelector(".".concat(e.CSS.shadowCaret));n&&((new c.default).expandToTag(n),setTimeout((function(){var t=document.createRange();t.selectNode(n),t.extractContents()}),50))}},{key:"insertContentAtCaretPosition",value:function(t){var n=document.createDocumentFragment(),i=document.createElement("div"),e=c.default.get(),r=c.default.range;i.innerHTML=t,Array.from(i.childNodes).forEach((function(t){return n.appendChild(t)})),0===n.childNodes.length&&n.appendChild(new Text);var o=n.lastChild;r.deleteContents(),r.insertNode(n);var s=document.createRange();s.setStart(o,o.textContent.length),e.removeAllRanges(),e.addRange(s)}},{key:"getHigherLevelSiblings",value:function(t,n){for(var i=t,e=[];i.parentNode&&"true"!==i.parentNode.contentEditable;)i=i.parentNode;for(var r="left"===n?"previousSibling":"nextSibling";i[r];)e.push(i=i[r]);return e}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var t=c.default.get(),n=f.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),i=t.focusNode;if(f.default.isNativeInput(n))return 0===n.selectionEnd;if(!t.anchorNode)return!1;var e=i.textContent.search(/\S/);-1===e&&(e=0);var r=t.focusOffset;return i.nodeType!==Node.TEXT_NODE&&i.childNodes.length&&(i.childNodes[r]?(i=i.childNodes[r],r=0):r=(i=i.childNodes[r-1]).textContent.length),!(!f.default.isLineBreakTag(n)&&!f.default.isEmpty(n)||!this.getHigherLevelSiblings(i,"left").every((function(t){var n=f.default.isLineBreakTag(t),i=1===t.children.length&&f.default.isLineBreakTag(t.children[0]),e=n||i;return f.default.isEmpty(t)&&!e}))||r!==e)||null===n||i===n&&r<=e}},{key:"isAtEnd",get:function(){var t=c.default.get(),n=t.focusNode,i=f.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(f.default.isNativeInput(i))return i.selectionEnd===i.value.length;if(!t.focusNode)return!1;var e=t.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[e-1]?e=(n=n.childNodes[e-1]).textContent.length:(n=n.childNodes[0],e=0)),f.default.isLineBreakTag(i)||f.default.isEmpty(i)){var r=this.getHigherLevelSiblings(n,"right");if(r.every((function(t,n){return n===r.length-1&&f.default.isLineBreakTag(t)||f.default.isEmpty(t)&&!f.default.isLineBreakTag(t)}))&&e===n.textContent.length)return!0}var o=i.textContent.replace(/\s+$/,"");return n===i&&e>=o.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),e}(h.default);e.default=m,m.displayName="Caret",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(23),i(24),i(2),i(3),i(5),i(6),i(4),i(9),i(25),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d){var v=i(8),p=i(1);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=p(r),o=p(o),s=p(s),u=p(u),a=p(a),c=p(c),h=p(h),f=p(f),l=p(l),d=v(d);var b=function(t){(0,a.default)(f,t);var n,i,e=(n=f,function(){var t,i=(0,h.default)(n);if(m()){var e=(0,h.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,c.default)(this,t)});function f(){var t;return(0,s.default)(this,f),(t=e.apply(this,arguments)).onMouseUp=function(){t.listeners.off(document,"mouseover",t.onMouseOver),t.listeners.off(document,"mouseup",t.onMouseUp)},t.onMouseOver=function(n){var i=t.Editor,e=i.BlockManager,r=i.BlockSelection,o=e.getBlockByChildNode(n.relatedTarget)||t.lastSelectedBlock,s=e.getBlockByChildNode(n.target);if(o&&s&&s!==o){if(o===t.firstSelectedBlock)return l.default.get().removeAllRanges(),o.selected=!0,s.selected=!0,void r.clearCache();if(s===t.firstSelectedBlock)return o.selected=!1,s.selected=!1,void r.clearCache();t.Editor.InlineToolbar.close(),t.toggleBlocksSelectedState(o,s),t.lastSelectedBlock=s}},t}return(0,u.default)(f,[{key:"prepare",value:(i=(0,o.default)(r.default.mark((function t(){var n=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.listeners.on(document,"mousedown",(function(t){n.enableCrossBlockSelection(t)}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"watchSelection",value:function(t){t.button===d.mouseButtons.LEFT&&(this.firstSelectedBlock=this.Editor.BlockManager.getBlock(t.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp))}},{key:"toggleBlockSelectedState",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.Editor,i=n.BlockManager,e=n.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=i.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,e.clearCache(),l.default.get().removeAllRanges());var r=i.blocks.indexOf(this.lastSelectedBlock)+(t?1:-1),o=i.blocks[r];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,e.clearCache()):(this.lastSelectedBlock.selected=!1,e.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(t){var n=this.Editor,i=n.BlockManager,e=n.BlockSelection,r=n.Caret,o=i.blocks.indexOf(this.firstSelectedBlock),s=i.blocks.indexOf(this.lastSelectedBlock);if(e.anyBlockSelected&&o>-1&&s>-1)if(t&&t instanceof KeyboardEvent)switch(t.keyCode){case d.keyCodes.DOWN:case d.keyCodes.RIGHT:r.setToBlock(i.blocks[Math.max(o,s)],r.positions.END);break;case d.keyCodes.UP:case d.keyCodes.LEFT:r.setToBlock(i.blocks[Math.min(o,s)],r.positions.START);break;default:r.setToBlock(i.blocks[Math.max(o,s)],r.positions.END)}else r.setToBlock(i.blocks[Math.max(o,s)],r.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(t){var n=this.Editor.UI;l.default.isCollapsed||this.Editor.BlockSelection.clearSelection(t),n.nodes.redactor.contains(t.target)?this.watchSelection(t):this.Editor.BlockSelection.clearSelection(t)}},{key:"toggleBlocksSelectedState",value:function(t,n){for(var i=this.Editor,e=i.BlockManager,r=i.BlockSelection,o=e.blocks.indexOf(t),s=e.blocks.indexOf(n),u=t.selected!==n.selected,a=Math.min(o,s);a<=Math.max(o,s);a++){var c=e.blocks[a];c!==this.firstSelectedBlock&&c!==(u?t:n)&&(e.blocks[a].selected=!e.blocks[a].selected,r.clearCache())}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}}]),f}(f.default);e.default=b,b.displayName="CrossBlockSelection",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(23),i(24),i(2),i(3),i(5),i(6),i(4),i(25),i(9)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l){var d=i(1);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=d(r),o=d(o),s=d(s),u=d(u),a=d(a),c=d(c),h=d(h),f=d(f);var p=function(t){(0,a.default)(l,t);var n,i,e=(n=l,function(){var t,i=(0,h.default)(n);if(v()){var e=(0,h.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,c.default)(this,t)});function l(){var t;return(0,s.default)(this,l),(t=e.apply(this,arguments)).isStartedAtEditor=!1,t}return(0,u.default)(l,[{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var t=this,n=this.Editor.UI;this.readOnlyMutableListeners.on(n.nodes.holder,"drop",function(){var n=(0,o.default)(r.default.mark((function n(i){return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.processDrop(i);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(n.nodes.holder,"dragstart",(function(){t.processDragStart()})),this.readOnlyMutableListeners.on(n.nodes.holder,"dragover",(function(n){t.processDragOver(n)}),!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(i=(0,o.default)(r.default.mark((function t(n){var i,e,o,s,u,a;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(i=this.Editor).BlockManager,o=i.Caret,s=i.Paste,n.preventDefault(),e.blocks.forEach((function(t){t.dropTarget=!1})),f.default.isAtEditor&&!f.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(u=e.setCurrentBlockByChildNode(n.target))?this.Editor.Caret.setToBlock(u,o.positions.END):(a=e.setCurrentBlockByChildNode(e.lastBlock.holder),this.Editor.Caret.setToBlock(a,o.positions.END)),t.next=9,s.processDataTransfer(n.dataTransfer,!0);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"processDragStart",value:function(){f.default.isAtEditor&&!f.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(t){t.preventDefault()}}]),l}((l=d(l)).default);e.default=p,p.displayName="DragNDrop",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(7),i(61)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f){var l=i(8),d=i(1);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=d(r),o=d(o),s=d(s),u=d(u),a=d(a),c=d(c),h=l(h),f=d(f);var p=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(v()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=i.apply(this,arguments)).disabled=!1,t.mutationDebouncer=h.debounce((function(){t.updateNativeInputs(),h.isFunction(t.config.onChange)&&t.config.onChange(t.Editor.API.methods)}),e.DebounceTimer),t.nativeInputs=[],t}return(0,o.default)(e,[{key:"destroy",value:function(){var t=this;this.mutationDebouncer=null,this.observer&&this.observer.disconnect(),this.observer=null,this.nativeInputs.forEach((function(n){return t.listeners.off(n,"input",t.mutationDebouncer)})),this.mutationDebouncer=null}},{key:"toggleReadOnly",value:function(t){t?this.disableModule():this.enableModule()}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"setObserver",value:function(){var t=this,n=this.Editor.UI;this.observer=new MutationObserver((function(n,i){t.mutationHandler(n,i)})),this.observer.observe(n.nodes.redactor,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:"mutationHandler",value:function(t){if(!this.disabled){var n=!1;t.forEach((function(t){switch(t.type){case"childList":case"characterData":n=!0;break;case"attributes":t.target.classList.contains(f.default.CSS.wrapper)||(n=!0)}})),n&&this.mutationDebouncer()}}},{key:"updateNativeInputs",value:function(){var t=this;this.nativeInputs&&this.nativeInputs.forEach((function(n){t.listeners.off(n,"input")})),this.nativeInputs=Array.from(this.Editor.UI.nodes.redactor.querySelectorAll("textarea, input, select")),this.nativeInputs.forEach((function(n){return t.listeners.on(n,"input",t.mutationDebouncer)}))}},{key:"enableModule",value:function(){var t=this;window.setTimeout((function(){t.setObserver(),t.updateNativeInputs(),t.enable()}),1e3)}},{key:"disableModule",value:function(){this.disable()}}]),e}(c.default);e.default=p,p.displayName="ModificationsObserver",p.DebounceTimer=450,t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(42),i(30),i(23),i(24),i(2),i(3),i(5),i(6),i(4),i(9),i(15),i(7),i(66)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v,p,m){var b=i(8),g=i(1);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=g(r),o=g(o),s=g(s),u=g(u),a=g(a),c=g(c),h=g(h),f=g(f),l=g(l),d=g(d),v=g(v),p=b(p);var w=function(t){(0,h.default)(A,t);var n,i,e,d,b,g,w,x,k,_=(n=A,function(){var t,i=(0,l.default)(n);if(y()){var e=(0,l.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,f.default)(this,t)});function A(){var t;return(0,a.default)(this,A),(t=_.apply(this,arguments)).MIME_TYPE="application/x-editor-js",t.toolsTags={},t.tagsByTool={},t.toolsPatterns=[],t.toolsFiles={},t.exceptionList=[],t.processTool=function(n){try{var i=n.create({},{},!1);if(!1===n.pasteConfig)return void t.exceptionList.push(n.name);if(!p.isFunction(i.onPaste))return;t.getTagsConfig(n),t.getFilesConfig(n),t.getPatternsConfig(n)}catch(t){p.log("Paste handling for ".concat(n.name," Tool hasn't been set up because of the error"),"warn",t)}},t.handlePasteEvent=function(){var n=(0,u.default)(s.default.mark((function n(i){var e,r,o;return s.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(e=t.Editor).Toolbar,(r=e.BlockManager).currentBlock&&(!t.isNativeBehaviour(i.target)||i.clipboardData.types.includes("Files"))){n.next=3;break}return n.abrupt("return");case 3:if(!r.currentBlock||!t.exceptionList.includes(r.currentBlock.name)){n.next=5;break}return n.abrupt("return");case 5:i.preventDefault(),t.processDataTransfer(i.clipboardData),r.clearFocused(),o.close();case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t}return(0,c.default)(A,[{key:"prepare",value:(k=(0,u.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.processTools();case 1:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"toggleReadOnly",value:function(t){t?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(x=(0,u.default)(s.default.mark((function t(n){var i,e,r,o,u,a,c,h,f,l=arguments;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=l.length>1&&void 0!==l[1]&&l[1],e=this.Editor.Tools,!((r=n.types).includes?r.includes("Files"):r.contains("Files"))){t.next=8;break}return t.next=7,this.processFiles(n.files);case 7:return t.abrupt("return");case 8:if(o=n.getData(this.MIME_TYPE),u=n.getData("text/plain"),a=n.getData("text/html"),!o){t.next=19;break}return t.prev=12,this.insertEditorJSData(JSON.parse(o)),t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(12);case 19:if(i&&u.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:u)+"</p>"),c=Object.keys(this.toolsTags).reduce((function(t,n){return t[n.toLowerCase()]=!0,t}),{}),h=Object.assign({},c,e.getAllInlineToolsSanitizeConfig(),{br:{}}),(f=(0,m.clean)(a,h)).trim()&&f.trim()!==u&&v.default.isHTMLString(f)){t.next=28;break}return t.next=26,this.processText(u);case 26:t.next=30;break;case 28:return t.next=30,this.processText(f,!0);case 30:case"end":return t.stop()}}),t,this,[[12,17]])}))),function(t){return x.apply(this,arguments)})},{key:"processText",value:(w=(0,u.default)(s.default.mark((function t(n){var i,e,r,o,a,c=this,h=arguments;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(i=this.Editor).Caret,r=i.BlockManager,(o=h.length>1&&void 0!==h[1]&&h[1]?this.processHTML(n):this.processPlain(n)).length){t.next=5;break}return t.abrupt("return");case 5:if(1!==o.length){t.next=8;break}return o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop()),t.abrupt("return");case 8:a=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty,o.map(function(){var t=(0,u.default)(s.default.mark((function t(n,i){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.insertBlock(n,0===i&&a));case 1:case"end":return t.stop()}}),t)})));return function(n,i){return t.apply(this,arguments)}}()),r.currentBlock&&e.setToBlock(r.currentBlock,e.positions.END);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){Array.from(this.Editor.Tools.blockTools.values()).forEach(this.processTool)}},{key:"getTagsConfig",value:function(t){var n=this,i=t.pasteConfig.tags||[];i.forEach((function(i){Object.prototype.hasOwnProperty.call(n.toolsTags,i)?p.log("Paste handler for ".concat(t.name," Tool on ").concat(i," tag is skipped ")+"because it is already used by ".concat(n.toolsTags[i].tool.name," Tool."),"warn"):n.toolsTags[i.toUpperCase()]={tool:t}})),this.tagsByTool[t.name]=i.map((function(t){return t.toUpperCase()}))}},{key:"getFilesConfig",value:function(t){var n=t.pasteConfig.files,i=void 0===n?{}:n,e=i.extensions,r=i.mimeTypes;(e||r)&&(e&&!Array.isArray(e)&&(p.log("extensions property of the onDrop config for ".concat(t.name," Tool should be an array")),e=[]),r&&!Array.isArray(r)&&(p.log("mimeTypes property of the onDrop config for ".concat(t.name," Tool should be an array")),r=[]),r&&(r=r.filter((function(n){return!!p.isValidMimeType(n)||(p.log("MIME type value ".concat(n," for the ").concat(t.name," Tool is not a valid MIME type"),"warn"),!1)}))),this.toolsFiles[t.name]={extensions:e||[],mimeTypes:r||[]})}},{key:"getPatternsConfig",value:function(t){var n=this;t.pasteConfig.patterns&&!p.isEmpty(t.pasteConfig.patterns)&&Object.entries(t.pasteConfig.patterns).forEach((function(i){var e=(0,o.default)(i,2),r=e[0],s=e[1];s instanceof RegExp||p.log("Pattern ".concat(s," for ").concat(t.name," Tool is skipped because it should be a Regexp instance."),"warn"),n.toolsPatterns.push({key:r,pattern:s,tool:t})}))}},{key:"isNativeBehaviour",value:function(t){return v.default.isNativeInput(t)}},{key:"processFiles",value:(g=(0,u.default)(s.default.mark((function t(n){var i,e,r,o=this;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.Editor.BlockManager,t.next=3,Promise.all(Array.from(n).map((function(t){return o.processFile(t)})));case 3:e=(e=t.sent).filter((function(t){return!!t})),r=i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty,e.forEach((function(t,n){i.paste(t.type,t.event,0===n&&r)}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"processFile",value:(b=(0,u.default)(s.default.mark((function t(n){var i,e,r,u,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=p.getFileExtension(n),e=Object.entries(this.toolsFiles).find((function(t){var e=(0,o.default)(t,2)[1],r=e.mimeTypes,s=e.extensions,u=n.type.split("/"),a=(0,o.default)(u,2),c=a[0],h=a[1],f=s.find((function(t){return t.toLowerCase()===i.toLowerCase()})),l=r.find((function(t){var n=t.split("/"),i=(0,o.default)(n,2),e=i[1];return i[0]===c&&(e===h||"*"===e)}));return!!f||!!l}))){t.next=4;break}return t.abrupt("return");case 4:return r=(0,o.default)(e,1),u=r[0],a=this.composePasteEvent("file",{file:n}),t.abrupt("return",{event:a,type:u});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"processHTML",value:function(t){var n=this,i=this.Editor.Tools,e=v.default.make("DIV");return e.innerHTML=t,this.getNodes(e).map((function(t){var e,r=i.defaultTool,o=!1;switch(t.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(e=v.default.make("div")).appendChild(t);break;case Node.ELEMENT_NODE:o=!0,n.toolsTags[(e=t).tagName]&&(r=n.toolsTags[e.tagName].tool)}var s=r.pasteConfig.tags.reduce((function(t,n){return t[n.toLowerCase()]={},t}),{}),u=Object.assign({},s,r.baseSanitizeConfig);e.innerHTML=(0,m.clean)(e.innerHTML,u);var a=n.composePasteEvent("tag",{data:e});return{content:e,isBlock:o,tool:r.name,event:a}})).filter((function(t){return!v.default.isNodeEmpty(t.content)||v.default.isSingleTag(t.content)}))}},{key:"processPlain",value:function(t){var n=this;if(!t)return[];var i=this.config.defaultBlock;return t.split(/\r?\n/).filter((function(t){return t.trim()})).map((function(t){var e=v.default.make("div");e.textContent=t;var r=n.composePasteEvent("tag",{data:e});return{content:e,tool:i,isBlock:!1,event:r}}))}},{key:"processSingleBlock",value:(d=(0,u.default)(s.default.mark((function t(n){var i,e,r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(i=this.Editor).Caret,(r=i.BlockManager.currentBlock)&&n.tool===r.name&&v.default.containsOnlyInlineElements(n.content.innerHTML)){t.next=5;break}return this.insertBlock(n,(null==r?void 0:r.tool.isDefault)&&r.isEmpty),t.abrupt("return");case 5:e.insertContentAtCaretPosition(n.content.innerHTML);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"processInlinePaste",value:(e=(0,u.default)(s.default.mark((function t(n){var i,e,r,o,u,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(i=this.Editor).Caret,o=n.content,!((e=i.BlockManager).currentBlock&&e.currentBlock.tool.isDefault&&o.textContent.length<A.PATTERN_PROCESSING_MAX_LENGTH)){t.next=12;break}return t.next=6,this.processPattern(o.textContent);case 6:if(!(u=t.sent)){t.next=12;break}return a=e.paste(u.tool,u.event,e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty),r.setToBlock(a,r.positions.END),t.abrupt("return");case 12:e.currentBlock&&e.currentBlock.currentInput?document.execCommand("insertHTML",!1,(0,m.clean)(o.innerHTML,e.currentBlock.tool.sanitizeConfig)):this.insertBlock(n);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"processPattern",value:(i=(0,u.default)(s.default.mark((function t(n){var i,e;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.toolsPatterns.find((function(t){var i=t.pattern.exec(n);return!!i&&n===i.shift()}))){t.next=3;break}return t.abrupt("return");case 3:return e=this.composePasteEvent("pattern",{key:i.key,data:n}),t.abrupt("return",{event:e,tool:i.tool.name});case 5:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"insertBlock",value:function(t){var n,i=this.Editor,e=i.BlockManager,r=i.Caret,o=e.currentBlock;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o&&o.isEmpty)return n=e.paste(t.tool,t.event,!0),void r.setToBlock(n,r.positions.END);n=e.paste(t.tool,t.event),r.setToBlock(n,r.positions.END)}},{key:"insertEditorJSData",value:function(t){var n=this.Editor,i=n.BlockManager,e=n.Caret,r=n.Tools;(0,m.sanitizeBlocks)(t,(function(t){return r.blockTools.get(t).sanitizeConfig})).forEach((function(t,n){var r=!1;0===n&&(r=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty);var o=i.insert({tool:t.tool,data:t.data,replace:r});e.setToBlock(o,e.positions.END)}))}},{key:"processElementNode",value:function(t,n,i){var e=Object.keys(this.toolsTags),o=t,s=(this.toolsTags[o.tagName]||{}).tool,u=this.tagsByTool[null==s?void 0:s.name]||[],a=e.includes(o.tagName),c=v.default.blockElements.includes(o.tagName.toLowerCase()),h=Array.from(o.children).some((function(t){var n=t.tagName;return e.includes(n)&&!u.includes(n)})),f=Array.from(o.children).some((function(t){return v.default.blockElements.includes(t.tagName.toLowerCase())}));return c||a||h?a&&!h||c&&!f&&!h?[].concat((0,r.default)(n),[i,o]):void 0:(i.appendChild(o),[].concat((0,r.default)(n),[i]))}},{key:"getNodes",value:function(t){var n,i=this;return Array.from(t.childNodes).reduce((function t(e,o){if(v.default.isEmpty(o)&&!v.default.isSingleTag(o))return e;var s=e[e.length-1],u=new DocumentFragment;switch(s&&v.default.isFragment(s)&&(u=e.pop()),o.nodeType){case Node.ELEMENT_NODE:if(n=i.processElementNode(o,e,u))return n;break;case Node.TEXT_NODE:return u.appendChild(o),[].concat((0,r.default)(e),[u]);default:return[].concat((0,r.default)(e),[u])}return[].concat((0,r.default)(e),(0,r.default)(Array.from(o.childNodes).reduce(t,[])))}),[])}},{key:"composePasteEvent",value:function(t,n){return new CustomEvent(t,{detail:n})}}]),A}(d.default);e.default=w,w.displayName="Paste",w.PATTERN_PROCESSING_MAX_LENGTH=450,t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(23),i(30),i(24),i(2),i(3),i(5),i(6),i(4),i(9),i(147)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d){var v=i(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),u=v(u),a=v(a),c=v(c),h=v(h),f=v(f);var m=function(t){(0,c.default)(v,t);var n,i,e,l=(n=v,function(){var t,i=(0,f.default)(n);if(p()){var e=(0,f.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,h.default)(this,t)});function v(){var t;return(0,u.default)(this,v),(t=l.apply(this,arguments)).toolsDontSupportReadOnly=[],t.readOnlyEnabled=!1,t}return(0,a.default)(v,[{key:"prepare",value:(e=(0,s.default)(r.default.mark((function t(){var n;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],Array.from(this.Editor.Tools.blockTools.entries()).forEach((function(t){var i=(0,o.default)(t,2);i[1].isReadOnlySupported||n.push(i[0])})),this.toolsDontSupportReadOnly=n,this.config.readOnly&&n.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"toggle",value:(i=(0,s.default)(r.default.mark((function t(){var n,i,e,o,s=arguments;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=s.length>0&&void 0!==s[0]?s[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),i=this.readOnlyEnabled,this.readOnlyEnabled=n,t.t0=r.default.keys(this.Editor);case 5:if((t.t1=t.t0()).done){t.next=12;break}if(this.Editor[e=t.t1.value].toggleReadOnly){t.next=9;break}return t.abrupt("continue",5);case 9:this.Editor[e].toggleReadOnly(n),t.next=5;break;case 12:if(i!==n){t.next=14;break}return t.abrupt("return",this.readOnlyEnabled);case 14:return t.next=16,this.Editor.Saver.save();case 16:return o=t.sent,t.next=19,this.Editor.BlockManager.clear();case 19:return t.next=21,this.Editor.Renderer.render(o.blocks);case 21:return t.abrupt("return",this.readOnlyEnabled);case 22:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new d.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return this.readOnlyEnabled}}]),v}((l=v(l)).default);e.default=m,m.displayName="ReadOnly",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(15),i(25),i(61)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l){var d=i(1);function v(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,n){if(t){if("string"==typeof t)return p(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,n):void 0}}(t))){var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e,r,o=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==e.return||e.return()}finally{if(s)throw r}}}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=d(r),o=d(o),s=d(s),u=d(u),a=d(a),c=d(c),h=d(h),f=d(f),l=d(l);var b=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(m()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=i.apply(this,arguments)).isRectSelectionActivated=!1,t.SCROLL_SPEED=3,t.HEIGHT_OF_SCROLL_ZONE=40,t.BOTTOM_SCROLL_ZONE=1,t.TOP_SCROLL_ZONE=2,t.MAIN_MOUSE_BUTTON=0,t.mousedown=!1,t.isScrolling=!1,t.inScrollZone=null,t.startX=0,t.startY=0,t.mouseX=0,t.mouseY=0,t.stackOfSelected=[],t.listenerIds=[],t}return(0,o.default)(e,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(t,n){var i=document.elementFromPoint(t-window.pageXOffset,n-window.pageYOffset);i.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var e=[".".concat(l.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],r=i.closest("."+this.Editor.UI.CSS.editorWrapper),o=e.some((function(t){return!!i.closest(t)}));r&&!o&&(this.mousedown=!0,this.startX=t,this.startY=n)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var t=this,n=this.genHTML().container;this.listeners.on(n,"mousedown",(function(n){t.processMouseDown(n)}),!1),this.listeners.on(document.body,"mousemove",(function(n){t.processMouseMove(n)}),!1),this.listeners.on(document.body,"mouseleave",(function(){t.processMouseLeave()})),this.listeners.on(window,"scroll",(function(n){t.processScroll(n)}),!1),this.listeners.on(document.body,"mouseup",(function(){t.processMouseUp()}),!1)}},{key:"processMouseDown",value:function(t){t.button===this.MAIN_MOUSE_BUTTON&&this.startSelection(t.pageX,t.pageY)}},{key:"processMouseMove",value:function(t){this.changingRectangle(t),this.scrollByZones(t.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(t){this.changingRectangle(t)}},{key:"processMouseUp",value:function(){this.endSelection()}},{key:"scrollByZones",value:function(t){this.inScrollZone=null,t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var t=this.Editor.UI,n=t.nodes.holder.querySelector("."+t.CSS.editorWrapper),i=h.default.make("div",e.CSS.overlay,{}),r=h.default.make("div",e.CSS.overlayContainer,{}),o=h.default.make("div",e.CSS.rect,{});return r.appendChild(o),i.appendChild(r),n.appendChild(i),this.overlayRectangle=o,{container:n,overlay:i}}},{key:"scrollVertical",value:function(t){var n=this;if(this.inScrollZone&&this.mousedown){var i=window.pageYOffset;window.scrollBy(0,t),this.mouseY+=window.pageYOffset-i,setTimeout((function(){n.scrollVertical(t)}),0)}}},{key:"changingRectangle",value:function(t){if(this.mousedown){void 0!==t.pageY&&(this.mouseX=t.pageX,this.mouseY=t.pageY);var n=this.genInfoForMouseSelection(),i=n.rightPos,e=n.leftPos,r=n.index;this.rectCrossesBlocks=!(this.startX>i&&this.mouseX>i||this.startX<e&&this.mouseX<e),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),void 0!==r&&(this.trySelectNextBlock(r),this.inverseSelection(),f.default.get().removeAllRanges(),t.preventDefault())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var t=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!t){var n,i=v(this.stackOfSelected);try{for(i.s();!(n=i.n()).done;)this.Editor.BlockSelection.selectBlockByIndex(n.value)}catch(t){i.e(t)}finally{i.f()}}if(!this.rectCrossesBlocks&&t){var e,r=v(this.stackOfSelected);try{for(r.s();!(e=r.n()).done;)this.Editor.BlockSelection.unSelectBlockByIndex(e.value)}catch(t){r.e(t)}finally{r.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var t,n=document.body.offsetWidth/2,i=this.mouseY-window.pageYOffset,e=document.elementFromPoint(n,i),r=this.Editor.BlockManager.getBlockByChildNode(e);void 0!==r&&(t=this.Editor.BlockManager.blocks.findIndex((function(t){return t.holder===r.holder})));var o=this.Editor.BlockManager.lastBlock.holder.querySelector("."+l.default.CSS.content),s=Number.parseInt(window.getComputedStyle(o).width,10)/2;return{index:t,leftPos:n-s,rightPos:n+s}}},{key:"addBlockInSelection",value:function(t){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(t),this.stackOfSelected.push(t)}},{key:"trySelectNextBlock",value:function(t){var n=this,i=this.stackOfSelected.length;if(this.stackOfSelected[this.stackOfSelected.length-1]!==t){var e=0;i>1&&(e=this.stackOfSelected[i-1]-this.stackOfSelected[i-2]>0?1:-1);var r=!(t>this.stackOfSelected[i-1]&&1===e||t<this.stackOfSelected[i-1]&&-1===e||0===e);if(r||!(t>this.stackOfSelected[i-1]||void 0===this.stackOfSelected[i-1])){if(!r&&t<this.stackOfSelected[i-1])for(var o=this.stackOfSelected[i-1]-1;o>=t;o--)this.addBlockInSelection(o);else if(r){var s,u=i-1;for(s=t>this.stackOfSelected[i-1]?function(){return t>n.stackOfSelected[u]}:function(){return t<n.stackOfSelected[u]};s();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[u]),this.stackOfSelected.pop(),u--}}else for(var a=this.stackOfSelected[i-1]+1||t;a<=t;a++)this.addBlockInSelection(a)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),e}(c.default);e.default=b,b.displayName="RectangleSelection",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(23),i(24),i(2),i(3),i(5),i(6),i(4),i(9),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l){var d=i(8),v=i(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),u=v(u),a=v(a),c=v(c),h=v(h),f=v(f),l=d(l);var m=function(t){(0,a.default)(d,t);var n,i,e,f=(n=d,function(){var t,i=(0,h.default)(n);if(p()){var e=(0,h.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,c.default)(this,t)});function d(){return(0,s.default)(this,d),f.apply(this,arguments)}return(0,u.default)(d,[{key:"render",value:(e=(0,o.default)(r.default.mark((function t(n){var i,e,o=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.map((function(t){return{function:function(){return o.insertBlock(t)}}})),t.next=3,l.sequence(i);case 3:return e=t.sent,this.Editor.UI.checkEmptiness(),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"insertBlock",value:(i=(0,o.default)(r.default.mark((function t(n){var i,e,o,s,u,a,c,h,f;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(i=this.Editor).BlockManager,u=n.data,a=n.tunes,c=n.id,!(e=i.Tools).available.has(s=n.type)){t.next=13;break}t.prev=3,o.insert({id:c,tool:s,data:u,tunes:a}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(3),l.log("Block ".concat(s," skipped because of plugins error"),"warn",u),Error(t.t0);case 11:t.next=18;break;case 13:h={savedData:{id:c,type:s,data:u},title:s},e.unavailable.has(s)&&(f=e.unavailable.get(s).toolbox,h.title=(null==f?void 0:f.title)||h.title),o.insert({id:c,tool:e.stubTool,data:h}).stretched=!0,l.log("Tool ".concat(s," is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return t.stop()}}),t,this,[[3,7]])}))),function(t){return i.apply(this,arguments)})}]),d}(f.default);e.default=m,m.displayName="Renderer",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(23),i(24),i(2),i(3),i(5),i(6),i(4),i(9),i(7),i(66)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d){var v=i(8),p=i(1);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=p(r),o=p(o),s=p(s),u=p(u),a=p(a),c=p(c),h=p(h),f=p(f),l=v(l);var b=function(t){(0,a.default)(v,t);var n,i,e,f=(n=v,function(){var t,i=(0,h.default)(n);if(m()){var e=(0,h.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,c.default)(this,t)});function v(){return(0,s.default)(this,v),f.apply(this,arguments)}return(0,u.default)(v,[{key:"save",value:(e=(0,o.default)(r.default.mark((function t(){var n,i,e,o,s,u,a=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(n=this.Editor).Tools,o=n.BlockManager.blocks,s=[],(i=n.ModificationsObserver).disable(),t.prev=3,o.forEach((function(t){s.push(a.getSavedData(t))})),t.next=7,Promise.all(s);case 7:return u=t.sent,t.next=10,(0,d.sanitizeBlocks)(u,(function(t){return e.blockTools.get(t).sanitizeConfig}));case 10:return t.abrupt("return",this.makeOutput(t.sent));case 12:return t.prev=12,i.enable(),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[3,,12,15]])}))),function(){return e.apply(this,arguments)})},{key:"getSavedData",value:(i=(0,o.default)(r.default.mark((function t(n){var i,e;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.save();case 2:if(t.t0=i=t.sent,!t.t0){t.next=8;break}return t.next=7,n.validate(i.data);case 7:t.t0=t.sent;case 8:return e=t.t0,t.abrupt("return",Object.assign(Object.assign({},i),{isValid:e}));case 10:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"makeOutput",value:function(t){var n=this,i=0,e=[];return l.log("[Editor.js saving]:","groupCollapsed"),t.forEach((function(t){var r=t.id,o=t.tool,s=t.data,u=t.tunes,a=t.isValid;if(i+=t.time,l.log("".concat(o.charAt(0).toUpperCase()+o.slice(1)),"group"),!a)return l.log("Block ".concat(o," skipped because saved data is invalid")),void l.log(void 0,"groupEnd");if(l.log(s),l.log(void 0,"groupEnd"),o!==n.Editor.Tools.stubTool){var c=Object.assign({id:r,type:o,data:s},!l.isEmpty(u)&&{tunes:u});e.push(c)}else e.push(s)})),l.log("Total","log",i),l.log(void 0,"groupEnd"),{time:+new Date,blocks:e,version:"2.21.0"}}}]),v}(f.default);e.default=b,b.displayName="Saver",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(30),i(2),i(3),i(5),i(6),i(4),i(9),i(15),i(60),i(7),i(25)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v){var p=i(8),m=i(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=m(r),o=m(o),s=m(s),u=m(u),a=m(a),c=m(c),h=m(h),f=m(f),l=m(l),d=p(d),v=m(v);var g=function(t){(0,u.default)(e,t);var n,i=(n=e,function(){var t,i=(0,c.default)(n);if(b()){var e=(0,c.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,o.default)(this,e),(t=i.apply(this,arguments)).buttons=[],t.flipper=null,t.selection=new v.default,t}return(0,s.default)(e,[{key:"make",value:function(){this.nodes.wrapper=f.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=f.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=f.default.make("div",this.CSS.defaultSettings),f.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"open",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.selection.save(),this.Editor.BlockManager.currentBlock.selected=!0,this.Editor.BlockSelection.clearCache(),this.addToolSettings(),this.addTunes(),this.eventsDispatcher.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),v.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.eventsDispatcher.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(){var t=this.Editor.BlockManager.currentBlock.renderSettings();t&&f.default.append(this.nodes.toolSettings,t)}},{key:"addTunes",value:function(){var t=this.Editor.BlockManager.currentBlock.renderTunes(),n=(0,r.default)(t,2),i=n[1];f.default.append(this.nodes.toolSettings,n[0]),f.default.append(this.nodes.defaultSettings,i)}},{key:"enableFlipper",value:function(){var t=this;this.flipper=new l.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(n){n&&f.default.canSetCaret(n)?t.close():d.delay((function(){t.Editor.Caret.setToBlock(t.Editor.BlockManager.currentBlock)}),50)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var t=this;if(0!==this.buttons.length)return this.buttons;var n=this.nodes.toolSettings.querySelectorAll(".".concat(this.Editor.StylesAPI.classes.settingsButton,", ").concat(f.default.allInputsSelector)),i=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return n.forEach((function(n){t.buttons.push(n)})),i.forEach((function(n){t.buttons.push(n)})),this.buttons}}]),e}(h.default);e.default=g,g.displayName="BlockSettings",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(30),i(23),i(24),i(42),i(2),i(3),i(5),i(6),i(4),i(9),i(15),i(7),i(60),i(59),i(84),i(66)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v,p,m,b,g,y){var w=i(8),x=i(1);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=x(r),o=x(o),s=x(s),u=x(u),a=x(a),c=x(c),h=x(h),f=x(f),l=x(l),d=x(d),v=x(v),p=w(p),m=x(m),b=x(b);var _=function(t){(0,h.default)(d,t);var n,i,e=(n=d,function(){var t,i=(0,l.default)(n);if(k()){var e=(0,l.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,f.default)(this,t)});function d(){var t;return(0,a.default)(this,d),(t=e.apply(this,arguments)).opened=!1,t.tools={},t.flipper=null,t.togglingCallback=null,t}return(0,c.default)(d,[{key:"make",value:function(){this.nodes.wrapper=v.default.make("div",[d.CSS.conversionToolbarWrapper].concat((0,u.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=v.default.make("div",d.CSS.conversionToolbarTools);var t=v.default.make("div",d.CSS.conversionToolbarLabel,{textContent:b.default.ui(g.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),v.default.append(this.nodes.wrapper,t),v.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(t){this.opened?this.close():this.open(),p.isFunction(t)&&(this.togglingCallback=t)}},{key:"open",value:function(){var t=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(d.CSS.conversionToolbarShowed),setTimeout((function(){t.flipper.activate(Object.values(t.tools).filter((function(t){return!t.classList.contains(d.CSS.conversionToolHidden)}))),t.flipper.focusFirst(),p.isFunction(t.togglingCallback)&&t.togglingCallback(!0)}),50)}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(d.CSS.conversionToolbarShowed),p.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){var t=Object.keys(this.tools);return!(1===t.length&&t.shift()===this.config.defaultBlock)}},{key:"replaceWithBlock",value:(i=(0,s.default)(o.default.mark((function t(n){var i,e,r,s,u,a,c,h,f,l=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.Editor.BlockManager.currentBlock.tool,e=this.Editor.BlockManager.currentBlock.name,t.next=4,this.Editor.BlockManager.currentBlock.save();case 4:if(r=t.sent.data,e===n&&(n=this.config.defaultBlock),s=this.Editor.Tools.blockTools.get(n),u="",!p.isFunction(a=i.conversionConfig.export)){t.next=14;break}u=a(r),t.next=20;break;case 14:if(!p.isString(a)){t.next=18;break}u=r[a],t.next=20;break;case 18:return p.log("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),t.abrupt("return");case 20:if(c=(0,y.clean)(u,s.sanitizeConfig),h={},!p.isFunction(f=s.conversionConfig.import)){t.next=27;break}h=f(c),t.next=33;break;case 27:if(!p.isString(f)){t.next=31;break}h[f]=c,t.next=33;break;case 31:return p.log("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),t.abrupt("return");case 33:this.Editor.BlockManager.replace({tool:n,data:h}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),p.delay((function(){l.Editor.Caret.setToBlock(l.Editor.BlockManager.currentBlock)}),10)();case 38:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"addTools",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.entries()).forEach((function(n){var i=(0,r.default)(n,2),e=i[0],o=i[1],s=o.toolbox,u=o.conversionConfig;!p.isEmpty(s)&&s.icon&&u&&u.import&&t.addTool(e,s.icon,s.title)}))}},{key:"addTool",value:function(t,n,i){var e=this,r=v.default.make("div",[d.CSS.conversionTool]),u=v.default.make("div",[d.CSS.conversionToolIcon]);r.dataset.tool=t,u.innerHTML=n,v.default.append(r,u),v.default.append(r,v.default.text(b.default.t(g.I18nInternalNS.toolNames,i||p.capitalize(t)))),v.default.append(this.nodes.tools,r),this.tools[t]=r,this.listeners.on(r,"click",(0,s.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.replaceWithBlock(t);case 2:case"end":return n.stop()}}),n)}))))}},{key:"filterTools",value:function(){var t=this.Editor.BlockManager.currentBlock;Object.entries(this.tools).forEach((function(n){var i=(0,r.default)(n,2),e=i[0],o=i[1];o.hidden=!1,o.classList.toggle(d.CSS.conversionToolHidden,e===t.name)}))}},{key:"enableFlipper",value:function(){this.flipper=new m.default({focusedItemClass:d.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),d}(d.default);e.default=_,_.displayName="ConversionToolbar",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(42),i(30),i(2),i(3),i(5),i(6),i(4),i(9),i(15),i(25),i(7),i(60),i(59),i(84),i(111),i(82),i(67)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v,p,m,b,g,y,w){var x=i(8),k=i(1);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=k(r),o=k(o),s=k(s),u=k(u),a=k(a),c=k(c),h=k(h),f=k(f),l=k(l),d=k(d),v=x(v),p=k(p),m=k(m),g=k(g),y=k(y);var A=function(t){(0,a.default)(e,t);var n,i=(n=e,function(){var t,i=(0,h.default)(n);if(_()){var e=(0,h.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,c.default)(this,t)});function e(t){var n,r=t.config,o=t.eventsDispatcher;return(0,s.default)(this,e),(n=i.call(this,{config:r,eventsDispatcher:o})).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},n.opened=!1,n.toolbarVerticalMargin=5,n.buttonsList=null,n.width=0,n.flipper=null,n.tooltip=new y.default,n}return(0,u.default)(e,[{key:"toggleReadOnly",value:function(t){t?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.allowedToShow()?(this.move(),this.open(),this.Editor.Toolbar.close()):t&&this.close()}},{key:"move",value:function(){var t=d.default.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:t.x-n.left,y:t.y+t.height-n.top+this.toolbarVerticalMargin};t.width&&(i.x+=Math.floor(t.width/2));var e=i.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,i.x-this.width/2<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,e>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}},{key:"close",value:function(){var t=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach((function(n){var i=(0,o.default)(n,2),e=i[1],r=t.getToolShortcut(i[0]);r&&g.default.remove(t.Editor.UI.nodes.redactor,r),v.isFunction(e.clear)&&e.clear()})),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var t=Array.from(this.buttonsList);t.unshift(this.nodes.conversionToggler),t=t.filter((function(t){return!t.hidden})),this.flipper.activate(t)}}},{key:"containsNode",value:function(t){return this.nodes.wrapper.contains(t)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}},{key:"make",value:function(){var t=this;this.nodes.wrapper=l.default.make("div",[this.CSS.inlineToolbar].concat((0,r.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=l.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=l.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=l.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",(function(n){n.target.closest(".".concat(t.CSS.actionsWrapper))||n.preventDefault()})),l.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),l.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),l.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var t=d.default.get();if(!t||!t.anchorNode)return!1;if(t.isCollapsed||d.default.text.length<1)return!1;var n=l.default.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(t&&["IMG","INPUT"].includes(n.tagName))return!1;if(null===n.closest('[contenteditable="true"]'))return!1;var i=this.Editor.BlockManager.getBlock(t.anchorNode);return!!i&&0!==i.tool.inlineTools.size}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var t=this;this.nodes.conversionToggler=l.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=l.default.make("div",this.CSS.conversionTogglerContent);var n=l.default.svg("toggler-down",13,13);this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(n),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",(function(){t.Editor.ConversionToolbar.toggle((function(n){!n&&t.opened?t.flipper.activate():t.opened&&t.flipper.deactivate()}))})),this.tooltip.onHover(this.nodes.conversionToggler,m.default.ui(b.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:function(){var t=this.Editor.BlockManager.currentBlock,n=t.name,i=t.tool.conversionConfig,e=i&&i.export;this.nodes.conversionToggler.hidden=!e,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!e);var r=t.tool.toolbox||{};this.nodes.conversionTogglerContent.innerHTML=r.icon||r.title||v.capitalize(n)}},{key:"prepareConversionToolbar",value:function(){var t=this.Editor.ConversionToolbar.make();l.default.append(this.nodes.wrapper,t)}},{key:"addToolsFiltered",value:function(){var t=this,n=d.default.get(),i=this.Editor.BlockManager.getBlock(n.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(i.tool.inlineTools.values()).forEach((function(n){t.addTool(n)})),this.recalculateWidth()}},{key:"addTool",value:function(t){var n=this,i=t.create(),e=i.render();if(e){if(e.dataset.tool=t.name,this.nodes.buttons.appendChild(e),this.toolsInstances.set(t.name,i),v.isFunction(i.renderActions)){var r=i.renderActions();this.nodes.actions.appendChild(r)}this.listeners.on(e,"click",(function(t){n.toolClicked(i),t.preventDefault()}));var o=this.getToolShortcut(t.name);if(o)try{this.enableShortcuts(i,o)}catch(t){}var s=l.default.make("div"),u=m.default.t(b.I18nInternalNS.toolNames,t.title||v.capitalize(t.name));s.appendChild(l.default.text(u)),o&&s.appendChild(l.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:v.beautifyShortcut(o)})),this.tooltip.onHover(e,s,{placement:"top",hidingDelay:100}),i.checkState(d.default.get())}else v.log("Render method must return an instance of Node","warn",t.name)}},{key:"getToolShortcut",value:function(t){var n=this.Editor.Tools,i=n.inlineTools.get(t);return Array.from(n.internal.inlineTools.keys()).includes(t)?this.inlineTools[t][w.CommonInternalSettings.Shortcut]:i.shortcut}},{key:"enableShortcuts",value:function(t,n){var i=this;g.default.add({name:n,handler:function(n){var e=i.Editor.BlockManager.currentBlock;e&&e.tool.enabledInlineTools&&(n.preventDefault(),i.toolClicked(t))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(t){t.surround(d.default.range),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach((function(t){t.checkState(d.default.get())}))}},{key:"enableFlipper",value:function(){this.flipper=new p.default({focusedItemClass:this.CSS.focusedButton,allowArrows:!1})}},{key:"inlineTools",get:function(){var t={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach((function(n){var i=(0,o.default)(n,2);t[i[0]]=i[1].create()})),t}}]),e}(f.default);e.default=A,A.displayName="InlineToolbar",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(9),i(15),i(7),i(60),i(61),i(59),i(84),i(111),i(82)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v,p,m,b){var g=i(8),y=i(1);function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=y(r),o=y(o),s=y(s),u=y(u),a=y(a),c=y(c),h=y(h),f=g(f),l=y(l),v=y(v),m=y(m),b=y(b);var x=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(w()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(t){var n,o=t.config,s=t.eventsDispatcher;return(0,r.default)(this,e),(n=i.call(this,{config:o,eventsDispatcher:s})).nodes={toolbox:null,buttons:[]},n.opened=!1,n.displayedToolsCount=0,n.flipper=null,n.tooltip=new b.default,n}return(0,o.default)(e,[{key:"make",value:function(){this.nodes.toolbox=h.default.make("div",this.CSS.toolbox),this.addTools(),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.removeAllShortcuts(),this.tooltip.destroy()}},{key:"toolButtonActivate",value:function(t,n){this.insertNewBlock(n)}},{key:"open",value:function(){this.isEmpty||(this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolbarHolderModifier),this.nodes.toolbox.classList.add(this.CSS.toolboxOpened),this.opened=!0,this.flipper.activate())}},{key:"close",value:function(){this.nodes.toolbox.classList.remove(this.CSS.toolboxOpened),this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolbarHolderModifier),this.opened=!1,this.flipper.deactivate()}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"addTools",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.values()).forEach((function(n){return t.addTool(n)}))}},{key:"addTool",value:function(t){var n=this,i=t.toolbox;if(i)if(!i||i.icon){var e=h.default.make("li",[this.CSS.toolboxButton]);e.dataset.tool=t.name,e.innerHTML=i.icon,h.default.append(this.nodes.toolbox,e),this.nodes.toolbox.appendChild(e),this.nodes.buttons.push(e),this.listeners.on(e,"click",(function(i){n.toolButtonActivate(i,t.name)}));var r=this.drawTooltip(t);this.tooltip.onHover(e,r,{placement:"bottom",hidingDelay:200});var o=t.shortcut;o&&this.enableShortcut(t.name,o),this.displayedToolsCount++}else f.log("Toolbar icon is missed. Tool %o skipped","warn",t.name)}},{key:"drawTooltip",value:function(t){var n=v.default.t(p.I18nInternalNS.toolNames,(t.toolbox||{}).title||t.name),i=t.shortcut,e=h.default.make("div",this.CSS.buttonTooltip),r=document.createTextNode(f.capitalize(n));return e.appendChild(r),i&&(i=f.beautifyShortcut(i),e.appendChild(h.default.make("div",this.CSS.buttonShortcut,{textContent:i}))),e}},{key:"enableShortcut",value:function(t,n){var i=this;m.default.add({name:n,handler:function(n){n.preventDefault(),i.insertNewBlock(t)},on:this.Editor.UI.nodes.redactor})}},{key:"removeAllShortcuts",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.values()).forEach((function(n){var i=n.shortcut;i&&m.default.remove(t.Editor.UI.nodes.redactor,i)}))}},{key:"enableFlipper",value:function(){var t=Array.from(this.nodes.toolbox.childNodes);this.flipper=new l.default({items:t,focusedItemClass:this.CSS.toolboxButtonActive})}},{key:"insertNewBlock",value:function(t){var n=this.Editor,i=n.BlockManager,e=n.Caret,r=i.insert({tool:t,replace:i.currentBlock.isEmpty});r.call(d.BlockToolAPI.APPEND_CALLBACK),this.Editor.Caret.setToBlock(r),0===r.inputs.length&&(r===i.lastBlock?(i.insertAtEnd(),e.setToBlock(i.lastBlock)):e.setToBlock(i.nextBlock)),this.Editor.Toolbar.close()}},{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxButton:"ce-toolbox__button",toolboxButtonActive:"ce-toolbox__button--active",toolboxOpened:"ce-toolbox--opened",openedToolbarHolderModifier:"codex-editor--toolbox-opened",buttonTooltip:"ce-toolbox-button-tooltip",buttonShortcut:"ce-toolbox-button-tooltip__shortcut"}}},{key:"isEmpty",get:function(){return 0===this.displayedToolsCount}}]),e}(c.default);e.default=x,x.displayName="Toolbox",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(42),i(30),i(23),i(24),i(2),i(3),i(5),i(6),i(4),i(80),i(382),i(9),i(7),i(383),i(384),i(385),i(386),i(387),i(393),i(394),i(395),i(181)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v,p,m,b,g,y,w,x,k,_,A,S){var E=i(8),O=i(1);function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=O(r),o=O(o),s=O(s),u=O(u),a=O(a),c=O(c),h=O(h),f=O(f),l=O(l),d=O(d),v=O(v),p=O(p),m=E(m),b=O(b),g=O(g),y=O(y),w=O(w),x=O(x),k=O(k),_=O(_),A=O(A),S=O(S);var C=function(t){(0,h.default)(d,t);var n,i,e=(n=d,function(){var t,i=(0,l.default)(n);if(M()){var e=(0,l.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,f.default)(this,t)});function d(){var t;return(0,a.default)(this,d),(t=e.apply(this,arguments)).stubTool="stub",t.toolsAvailable=new S.default,t.toolsUnavailable=new S.default,t}return(0,c.default)(d,[{key:"prepare",value:(i=(0,u.default)(s.default.mark((function t(){var n,i,e=this;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validateTools(),this.config.tools=m.deepMerge({},this.internalTools,this.config.tools),Object.prototype.hasOwnProperty.call(this.config,"tools")&&0!==Object.keys(this.config.tools).length){t.next=4;break}throw Error("Can't start without tools");case 4:if(n=this.prepareConfig(),this.factory=new x.default(n,this.config,this.Editor.API),0!==(i=this.getListOfPrepareFunctions(n)).length){t.next=9;break}return t.abrupt("return",Promise.resolve());case 9:return t.next=11,m.sequence(i,(function(t){e.toolPrepareMethodSuccess(t)}),(function(t){e.toolPrepareMethodFallback(t)}));case 11:this.prepareBlockTools();case 12:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getAllInlineToolsSanitizeConfig",value:function(){var t={};return Array.from(this.inlineTools.values()).forEach((function(n){Object.assign(t,n.sanitizeConfig)})),t}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var t=(0,u.default)(s.default.mark((function t(n){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!m.isFunction(n.reset)){t.next=3;break}return t.next=3,n.reset();case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}},{key:"toolPrepareMethodSuccess",value:function(t){var n=this.factory.get(t.toolName);if(n.isInline()){var i=["render","surround","checkState"].filter((function(t){return!n.create()[t]}));if(i.length)return m.log("Incorrect Inline Tool: ".concat(n.name,". Some of required methods is not implemented %o"),"warn",i),void this.toolsUnavailable.set(n.name,n)}this.toolsAvailable.set(n.name,n)}},{key:"toolPrepareMethodFallback",value:function(t){this.toolsUnavailable.set(t.toolName,this.factory.get(t.toolName))}},{key:"getListOfPrepareFunctions",value:function(t){var n=[];return Object.entries(t).forEach((function(t){var i=(0,o.default)(t,2),e=i[0],r=i[1];n.push({function:m.isFunction(r.class.prepare)?r.class.prepare:function(){},data:{toolName:e}})})),n}},{key:"prepareBlockTools",value:function(){var t=this;Array.from(this.blockTools.values()).forEach((function(n){t.assignInlineToolsToBlockTool(n),t.assignBlockTunesToBlockTool(n)}))}},{key:"assignInlineToolsToBlockTool",value:function(t){var n=this;!1!==this.config.inlineToolbar&&(!0!==t.enabledInlineTools?Array.isArray(t.enabledInlineTools)&&(t.inlineTools=new S.default(t.enabledInlineTools.map((function(t){return[t,n.inlineTools.get(t)]})))):t.inlineTools=new S.default(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((function(t){return[t,n.inlineTools.get(t)]})):Array.from(this.inlineTools.entries())))}},{key:"assignBlockTunesToBlockTool",value:function(t){var n=this;if(!1!==t.enabledBlockTunes)if(Array.isArray(t.enabledBlockTunes)){var i=new S.default(t.enabledBlockTunes.map((function(t){return[t,n.blockTunes.get(t)]})));t.tunes=new S.default([].concat((0,r.default)(i),(0,r.default)(this.blockTunes.internalTools)))}else if(Array.isArray(this.config.tunes)){var e=new S.default(this.config.tunes.map((function(t){return[t,n.blockTunes.get(t)]})));t.tunes=new S.default([].concat((0,r.default)(e),(0,r.default)(this.blockTunes.internalTools)))}else t.tunes=this.blockTunes.internalTools}},{key:"validateTools",value:function(){for(var t in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,t)){if(t in this.internalTools)return;var n=this.config.tools[t];if(!m.isFunction(n)&&!m.isFunction(n.class))throw Error("Tool ".concat(t," must be a constructor function or an object with function in the class property"))}}},{key:"prepareConfig",value:function(){var t={};for(var n in this.config.tools)t[n]=m.isObject(this.config.tools[n])?this.config.tools[n]:{class:this.config.tools[n]};return t}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"internalTools",get:function(){return{bold:{class:b.default,isInternal:!0},italic:{class:g.default,isInternal:!0},link:{class:y.default,isInternal:!0},paragraph:{class:v.default,inlineToolbar:!0,isInternal:!0},stub:{class:w.default,isInternal:!0},moveUpTune:{class:A.default,isInternal:!0},deleteTune:{class:_.default,isInternal:!0},moveDownTune:{class:k.default,isInternal:!0}}}}]),d}(p.default);e.default=C,C.displayName="Tools",function(t,n,i,e){var r,o=arguments.length,s=o<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,i):e;if("object"===("undefined"==typeof Reflect?"undefined":(0,d.default)(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,i,e);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(n,i,s):r(n,i))||s);o>3&&s&&Object.defineProperty(n,i,s)}([m.cacheable],C.prototype,"getAllInlineToolsSanitizeConfig",null),t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(30),i(2),i(3),i(5),i(6),i(4),i(148)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h){var f=i(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),u=f(u),a=f(a),c=f(c);var d=function(t){(0,u.default)(e,t);var n,i=(n=e,function(){var t,i=(0,c.default)(n);if(l()){var e=(0,c.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,a.default)(this,t)});function e(){return(0,o.default)(this,e),i.apply(this,arguments)}return(0,s.default)(e,[{key:"blockTools",get:function(){return new e(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isBlock()})))}},{key:"inlineTools",get:function(){return new e(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isInline()})))}},{key:"blockTunes",get:function(){return new e(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isTune()})))}},{key:"internalTools",get:function(){return new e(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isInternal})))}},{key:"externalTools",get:function(){return new e(Array.from(this.entries()).filter((function(t){return!(0,r.default)(t,2)[1].isInternal})))}}]),e}((0,(h=f(h)).default)(Map));e.default=d,d.displayName="ToolsCollection",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(30),i(42),i(23),i(24),i(2),i(3),i(5),i(6),i(4),i(396),i(9),i(15),i(7),i(25),i(61),i(60)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d,v,p,m,b,g,y){var w=i(8),x=i(1);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=x(r),o=x(o),s=x(s),u=x(u),a=x(a),c=x(c),h=x(h),f=x(f),l=x(l),d=x(d),v=x(v),p=x(p),m=w(m),b=x(b),g=x(g),y=x(y);var _=function(t){(0,h.default)(w,t);var n,e,v=(n=w,function(){var t,i=(0,l.default)(n);if(k()){var e=(0,l.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,f.default)(this,t)});function w(){var t;return(0,a.default)(this,w),(t=v.apply(this,arguments)).isMobile=!1,t.contentRectCache=void 0,t.resizeDebouncer=m.debounce((function(){t.windowResize()}),200),t}return(0,c.default)(w,[{key:"addLoader",value:function(){this.nodes.loader=p.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(e=(0,u.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.appendSVGSprite(),this.loadStyles();case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,this.Editor.BlockManager.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var t=this.Editor,n=t.Toolbox,i=t.InlineToolbar,e=t.ConversionToolbar;t.BlockSettings.close(),i.close(),e.close(),n.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:function(){this.nodes.holder=p.default.getHolder(this.config.holder),this.nodes.wrapper=p.default.make("div",[this.CSS.editorWrapper].concat((0,o.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=p.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var t=i(397);if(!p.default.get("editor-js-styles")){var n=p.default.make("style",null,{id:"editor-js-styles",textContent:t.toString()});p.default.prepend(document.head,n)}}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(function(n){t.redactorClicked(n)}),!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(function(n){t.documentTouched(n)}),!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(function(n){t.documentTouched(n)}),!0),this.readOnlyMutableListeners.on(document,"keydown",(function(n){t.documentKeydown(n)}),!0),this.readOnlyMutableListeners.on(document,"click",(function(n){t.documentClicked(n)}),!0),this.readOnlyMutableListeners.on(document,"selectionchange",(function(n){t.selectionChanged(n)}),!0),this.readOnlyMutableListeners.on(window,"resize",(function(){t.resizeDebouncer()}),{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(t){switch(t.keyCode){case m.keyCodes.ENTER:this.enterPressed(t);break;case m.keyCodes.BACKSPACE:this.backspacePressed(t);break;case m.keyCodes.ESC:this.escapePressed(t);break;default:this.defaultBehaviour(t)}}},{key:"defaultBehaviour",value:function(t){var n=this.Editor.BlockManager.currentBlock,i=t.target.closest(".".concat(this.CSS.editorWrapper));void 0===n||null!==i?i||n&&(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(t)}},{key:"backspacePressed",value:function(t){var n=this.Editor,i=n.BlockManager,e=n.BlockSelection,r=n.Caret;if(e.anyBlockSelected&&!b.default.isSelectionExists){var o=i.removeSelectedBlocks();r.setToBlock(i.insertDefaultBlockAtIndex(o,!0),r.positions.START),e.clearSelection(t),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}},{key:"escapePressed",value:function(t){this.Editor.BlockSelection.clearSelection(t),this.Editor.Toolbox.opened?this.Editor.Toolbox.close():this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(t){var n=this.Editor,i=n.BlockSelection,e=n.BlockManager.currentBlockIndex>=0;if(i.anyBlockSelected&&!b.default.isSelectionExists)return i.clearSelection(t),t.preventDefault(),t.stopImmediatePropagation(),void t.stopPropagation();if(!this.someToolbarOpened&&e&&"BODY"===t.target.tagName){var r=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(r),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.move(),this.Editor.Toolbar.plusButton.show()}this.Editor.BlockSelection.clearSelection(t)}},{key:"documentClicked",value:function(t){t.isTrusted&&(this.nodes.holder.contains(t.target)||b.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.InlineToolbar.close(),this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close()),this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted||this.Editor.BlockSelection.clearSelection(t))}},{key:"documentTouched",value:function(t){var n=t.target;if(n===this.nodes.redactor){var i=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,e=t instanceof MouseEvent?t.clientY:t.touches[0].clientY;n=document.elementFromPoint(i,e)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch(t){this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.open(),this.Editor.Toolbar.plusButton.hide()}},{key:"redactorClicked",value:function(t){if(b.default.isCollapsed){var n=function(){t.stopImmediatePropagation(),t.stopPropagation()},i=t.target,e=t.metaKey||t.ctrlKey;if(p.default.isAnchor(i)&&e){n();var r=i.getAttribute("href"),o=m.getValidUrl(r);m.openTab(o)}else{if(t.target instanceof Element&&t.target.isEqualNode(this.nodes.redactor)){n();var s=this.Editor,u=s.BlockManager,a=s.Caret,c=s.Toolbar;u.lastBlock.tool.isDefault&&u.lastBlock.isEmpty||u.insertAtEnd(),a.setToTheLastBlock(),c.move()}this.Editor.BlockManager.currentBlock.tool.isDefault&&(n(),this.Editor.BlockManager.currentBlock.isEmpty&&this.Editor.Toolbar.plusButton.show())}}}},{key:"selectionChanged",value:function(){var t=this.Editor,n=b.default.anchorElement;t.CrossBlockSelection.isCrossBlockSelectionStarted&&t.BlockSelection.anyBlockSelected&&b.default.get().removeAllRanges(),n&&n.closest(".".concat(g.default.CSS.content))?(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.InlineToolbar.tryToShow(!0)):this.Editor.InlineToolbar.containsNode(n)||this.Editor.InlineToolbar.close()}},{key:"appendSVGSprite",value:function(){var t=p.default.make("div");t.hidden=!0,t.style.display="none",t.innerHTML=d.default,p.default.append(this.nodes.wrapper,t)}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var t=this.nodes.wrapper.querySelector(".".concat(g.default.CSS.content));return t?(this.contentRectCache=t.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var t=this.Editor;return t.BlockSettings.opened||t.InlineToolbar.opened||t.ConversionToolbar.opened||t.Toolbox.opened}},{key:"someFlipperButtonFocused",get:function(){return Object.entries(this.Editor).filter((function(t){return(0,r.default)(t,2)[1].flipper instanceof y.default})).some((function(t){return(0,r.default)(t,2)[1].flipper.currentItem}))}}]),w}(v.default);e.default=_,_.displayName="UI",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){i(184),t.exports=i(356)},function(t,n,i){i(185)},function(t,n,i){i(186),i(329),i(331),i(334),i(336),i(338),i(340),i(342),i(344),i(346),i(348),i(350),i(352),i(143)},function(t,n,i){i(187),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(198),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(217),i(218),i(219),i(220),i(221),i(222),i(223),i(224),i(225),i(226),i(227),i(228),i(229),i(230),i(231),i(233),i(234),i(235),i(236),i(237),i(238),i(239),i(240),i(241),i(242),i(243),i(244),i(245),i(246),i(247),i(248),i(249),i(250),i(251),i(252),i(253),i(254),i(255),i(256),i(257),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(266),i(268),i(269),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286),i(287),i(288),i(289),i(290),i(291),i(105),i(292),i(132),i(293),i(133),i(294),i(295),i(296),i(297),i(134),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(308),i(309),i(310),i(311),i(312),i(313),i(314),i(315),i(316),i(317),i(318),i(319),i(320),i(321),i(322),i(323),i(324),i(325),i(326),i(327),i(328),t.exports=i(17)},function(t,n,i){var e=i(10),r=i(26),o=i(18),s=i(0),u=i(21),a=i(41).KEY,c=i(11),h=i(68),f=i(53),l=i(44),d=i(14),v=i(86),p=i(113),m=i(189),b=i(71),g=i(12),y=i(13),w=i(20),x=i(28),k=i(40),_=i(43),A=i(48),S=i(116),E=i(34),O=i(70),M=i(19),C=i(46),T=E.f,j=M.f,R=S.f,F=e.Symbol,I=e.JSON,B=I&&I.stringify,P=d("_hidden"),L=d("toPrimitive"),z={}.propertyIsEnumerable,D=h("symbol-registry"),N=h("symbols"),U=h("op-symbols"),V=Object.prototype,H="function"==typeof F&&!!O.f,$=e.QObject,K=!$||!$.prototype||!$.prototype.findChild,W=o&&c((function(){return 7!=A(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a}))?function(t,n,i){var e=T(V,n);e&&delete V[n],j(t,n,i),e&&t!==V&&j(V,n,e)}:j,G=function(t){var n=N[t]=A(F.prototype);return n._k=t,n},q=H&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},J=function(t,n,i){return t===V&&J(U,n,i),g(t),n=k(n,!0),g(i),r(N,n)?(i.enumerable?(r(t,P)&&t[P][n]&&(t[P][n]=!1),i=A(i,{enumerable:_(0,!1)})):(r(t,P)||j(t,P,_(1,{})),t[P][n]=!0),W(t,n,i)):j(t,n,i)},Y=function(t,n){g(t);for(var i,e=m(n=x(n)),r=0,o=e.length;o>r;)J(t,i=e[r++],n[i]);return t},Q=function(t){var n=z.call(this,t=k(t,!0));return!(this===V&&r(N,t)&&!r(U,t))&&(!(n||!r(this,t)||!r(N,t)||r(this,P)&&this[P][t])||n)},Z=function(t,n){if(t=x(t),n=k(n,!0),t!==V||!r(N,n)||r(U,n)){var i=T(t,n);return!i||!r(N,n)||r(t,P)&&t[P][n]||(i.enumerable=!0),i}},X=function(t){for(var n,i=R(x(t)),e=[],o=0;i.length>o;)r(N,n=i[o++])||n==P||n==a||e.push(n);return e},tt=function(t){for(var n,i=t===V,e=R(i?U:x(t)),o=[],s=0;e.length>s;)!r(N,n=e[s++])||i&&!r(V,n)||o.push(N[n]);return o};H||(u((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),n=function(i){this===V&&n.call(U,i),r(this,P)&&r(this[P],t)&&(this[P][t]=!1),W(this,t,_(1,i))};return o&&K&&W(V,t,{configurable:!0,set:n}),G(t)}).prototype,"toString",(function(){return this._k})),E.f=Z,M.f=J,i(49).f=S.f=X,i(63).f=Q,O.f=tt,o&&!i(45)&&u(V,"propertyIsEnumerable",Q,!0),v.f=function(t){return G(d(t))}),s(s.G+s.W+s.F*!H,{Symbol:F});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;nt.length>it;)d(nt[it++]);for(var et=C(d.store),rt=0;et.length>rt;)p(et[rt++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return r(D,t+="")?D[t]:D[t]=F(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var n in D)if(D[n]===t)return n},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,n){return void 0===n?A(t):Y(A(t),n)},defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:X,getOwnPropertySymbols:tt});var ot=c((function(){O.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return O.f(w(t))}}),I&&s(s.S+s.F*(!H||c((function(){var t=F();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var n,i,e=[t],r=1;arguments.length>r;)e.push(arguments[r++]);if(i=n=e[1],(y(n)||void 0!==t)&&!q(t))return b(n)||(n=function(t,n){if("function"==typeof i&&(n=i.call(this,t,n)),!q(n))return n}),e[1]=n,B.apply(I,e)}}),F.prototype[L]||i(27)(F.prototype,L,F.prototype.valueOf),f(F,"Symbol"),f(Math,"Math",!0),f(e.JSON,"JSON",!0)},function(t,n,i){t.exports=i(68)("native-function-to-string",Function.toString)},function(t,n,i){var e=i(46),r=i(70),o=i(63);t.exports=function(t){var n=e(t),i=r.f;if(i)for(var s,u=i(t),a=o.f,c=0;u.length>c;)a.call(t,s=u[c++])&&n.push(s);return n}},function(t,n,i){var e=i(0);e(e.S,"Object",{create:i(48)})},function(t,n,i){var e=i(0);e(e.S+e.F*!i(18),"Object",{defineProperty:i(19).f})},function(t,n,i){var e=i(0);e(e.S+e.F*!i(18),"Object",{defineProperties:i(115)})},function(t,n,i){var e=i(28),r=i(34).f;i(35)("getOwnPropertyDescriptor",(function(){return function(t,n){return r(e(t),n)}}))},function(t,n,i){var e=i(20),r=i(50);i(35)("getPrototypeOf",(function(){return function(t){return r(e(t))}}))},function(t,n,i){var e=i(20),r=i(46);i(35)("keys",(function(){return function(t){return r(e(t))}}))},function(t,n,i){i(35)("getOwnPropertyNames",(function(){return i(116).f}))},function(t,n,i){var e=i(13),r=i(41).onFreeze;i(35)("freeze",(function(t){return function(n){return t&&e(n)?t(r(n)):n}}))},function(t,n,i){var e=i(13),r=i(41).onFreeze;i(35)("seal",(function(t){return function(n){return t&&e(n)?t(r(n)):n}}))},function(t,n,i){var e=i(13),r=i(41).onFreeze;i(35)("preventExtensions",(function(t){return function(n){return t&&e(n)?t(r(n)):n}}))},function(t,n,i){var e=i(13);i(35)("isFrozen",(function(t){return function(n){return!e(n)||!!t&&t(n)}}))},function(t,n,i){var e=i(13);i(35)("isSealed",(function(t){return function(n){return!e(n)||!!t&&t(n)}}))},function(t,n,i){var e=i(13);i(35)("isExtensible",(function(t){return function(n){return!!e(n)&&(!t||t(n))}}))},function(t,n,i){var e=i(0);e(e.S+e.F,"Object",{assign:i(117)})},function(t,n,i){var e=i(0);e(e.S,"Object",{is:i(118)})},function(t,n,i){var e=i(0);e(e.S,"Object",{setPrototypeOf:i(90).set})},function(t,n,i){var e=i(64),r={};r[i(14)("toStringTag")]="z",r+""!="[object z]"&&i(21)(Object.prototype,"toString",(function(){return"[object "+e(this)+"]"}),!0)},function(t,n,i){var e=i(0);e(e.P,"Function",{bind:i(119)})},function(t,n,i){var e=i(19).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||i(18)&&e(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,i){var e=i(13),r=i(50),o=i(14)("hasInstance"),s=Function.prototype;o in s||i(19).f(s,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,i){var e=i(0),r=i(121);e(e.G+e.F*(parseInt!=r),{parseInt:r})},function(t,n,i){var e=i(0),r=i(122);e(e.G+e.F*(parseFloat!=r),{parseFloat:r})},function(t,n,i){var e=i(10),r=i(26),o=i(37),s=i(92),u=i(40),a=i(11),c=i(49).f,h=i(34).f,f=i(19).f,l=i(54).trim,d=e.Number,v=d,p=d.prototype,m="Number"==o(i(48)(p)),b="trim"in String.prototype,g=function(t){var n=u(t,!1);if("string"==typeof n&&n.length>2){var i,e,r,o=(n=b?n.trim():l(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=n.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,r=49;break;case 79:case 111:e=8,r=55;break;default:return+n}for(var s,a=n.slice(2),c=0,h=a.length;c<h;c++)if((s=a.charCodeAt(c))<48||s>r)return NaN;return parseInt(a,e)}}return+n};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var n=arguments.length<1?0:t,i=this;return i instanceof d&&(m?a((function(){p.valueOf.call(i)})):"Number"!=o(i))?s(new v(g(n)),i,d):g(n)};for(var y,w=i(18)?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)r(v,y=w[x])&&!r(d,y)&&f(d,y,h(v,y));d.prototype=p,p.constructor=d,i(21)(e,"Number",d)}},function(t,n,i){var e=i(0),r=i(33),o=i(123),s=i(93),u=1..toFixed,a=Math.floor,c=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",f=function(t,n){for(var i=-1,e=n;++i<6;)c[i]=(e+=t*c[i])%1e7,e=a(e/1e7)},l=function(t){for(var n=6,i=0;--n>=0;)c[n]=a((i+=c[n])/t),i=i%t*1e7},d=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==c[t]){var i=String(c[t]);n=""===n?i:n+s.call("0",7-i.length)+i}return n},v=function(t,n,i){return 0===n?i:n%2==1?v(t,n-1,i*t):v(t*t,n/2,i)};e(e.P+e.F*(!!u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(11)((function(){u.call({})}))),"Number",{toFixed:function(t){var n,i,e,u,a=o(this,h),c=r(t),p="",m="0";if(c<0||c>20)throw RangeError(h);if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(p="-",a=-a),a>1e-21)if(i=(n=function(t){for(var n=0,i=t;i>=4096;)n+=12,i/=4096;for(;i>=2;)n+=1,i/=2;return n}(a*v(2,69,1))-69)<0?a*v(2,-n,1):a/v(2,n,1),i*=4503599627370496,(n=52-n)>0){for(f(0,i),e=c;e>=7;)f(1e7,0),e-=7;for(f(v(10,e,1),0),e=n-1;e>=23;)l(1<<23),e-=23;l(1<<e),f(1,1),l(2),m=d()}else f(0,i),f(1<<-n,0),m=d()+s.call("0",c);return c>0?p+((u=m.length)<=c?"0."+s.call("0",c-u)+m:m.slice(0,u-c)+"."+m.slice(u-c)):p+m}})},function(t,n,i){var e=i(0),r=i(11),o=i(123),s=1..toPrecision;e(e.P+e.F*(r((function(){return"1"!==s.call(1,void 0)}))||!r((function(){s.call({})}))),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(n):s.call(n,t)}})},function(t,n,i){var e=i(0);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,i){var e=i(0),r=i(10).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,n,i){var e=i(0);e(e.S,"Number",{isInteger:i(124)})},function(t,n,i){var e=i(0);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,i){var e=i(0),r=i(124),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,n,i){var e=i(0);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,i){var e=i(0);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,i){var e=i(0),r=i(122);e(e.S+e.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,n,i){var e=i(0),r=i(121);e(e.S+e.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,n,i){var e=i(0),r=i(125),o=Math.sqrt,s=Math.acosh;e(e.S+e.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,n,i){var e=i(0),r=Math.asinh;e(e.S+e.F*!(r&&1/r(0)>0),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(t,n,i){var e=i(0),r=Math.atanh;e(e.S+e.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,i){var e=i(0),r=i(94);e(e.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,i){var e=i(0);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,i){var e=i(0),r=Math.exp;e(e.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,n,i){var e=i(0),r=i(95);e(e.S+e.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,n,i){var e=i(0);e(e.S,"Math",{fround:i(232)})},function(t,n,i){var e=i(94),r=Math.pow,o=r(2,-52),s=r(2,-23),u=r(2,127)*(2-s),a=r(2,-126);t.exports=Math.fround||function(t){var n,i,r=Math.abs(t),c=e(t);return r<a?c*(r/a/s+1/o-1/o)*a*s:(i=(n=(1+s/o)*r)-(n-r))>u||i!=i?c*(1/0):c*i}},function(t,n,i){var e=i(0),r=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var i,e,o=0,s=0,u=arguments.length,a=0;s<u;)a<(i=r(arguments[s++]))?(o=o*(e=a/i)*e+1,a=i):o+=i>0?(e=i/a)*e:i;return a===1/0?1/0:a*Math.sqrt(o)}})},function(t,n,i){var e=i(0),r=Math.imul;e(e.S+e.F*i(11)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,n){var i=+t,e=+n,r=65535&i,o=65535&e;return 0|r*o+((65535&i>>>16)*o+r*(65535&e>>>16)<<16>>>0)}})},function(t,n,i){var e=i(0);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,i){var e=i(0);e(e.S,"Math",{log1p:i(125)})},function(t,n,i){var e=i(0);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,i){var e=i(0);e(e.S,"Math",{sign:i(94)})},function(t,n,i){var e=i(0),r=i(95),o=Math.exp;e(e.S+e.F*i(11)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,i){var e=i(0),r=i(95),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=r(t=+t),i=r(-t);return n==1/0?1:i==1/0?-1:(n-i)/(o(t)+o(-t))}})},function(t,n,i){var e=i(0);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,i){var e=i(0),r=i(47),o=String.fromCharCode,s=String.fromCodePoint;e(e.S+e.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var n,i=[],e=arguments.length,s=0;e>s;){if(n=+arguments[s++],r(n,1114111)!==n)throw RangeError(n+" is not a valid code point");i.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return i.join("")}})},function(t,n,i){var e=i(0),r=i(28),o=i(16);e(e.S,"String",{raw:function(t){for(var n=r(t.raw),i=o(n.length),e=arguments.length,s=[],u=0;i>u;)s.push(String(n[u++])),u<e&&s.push(String(arguments[u]));return s.join("")}})},function(t,n,i){i(54)("trim",(function(t){return function(){return t(this,3)}}))},function(t,n,i){var e=i(96)(!0);i(97)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,i=this._i;return i>=n.length?{value:void 0,done:!0}:(t=e(n,i),this._i+=t.length,{value:t,done:!1})}))},function(t,n,i){var e=i(0),r=i(96)(!1);e(e.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,n,i){var e=i(0),r=i(16),o=i(98),s="".endsWith;e(e.P+e.F*i(100)("endsWith"),"String",{endsWith:function(t){var n=o(this,t,"endsWith"),i=arguments.length>1?arguments[1]:void 0,e=r(n.length),u=void 0===i?e:Math.min(r(i),e),a=String(t);return s?s.call(n,a,u):n.slice(u-a.length,u)===a}})},function(t,n,i){var e=i(0),r=i(98);e(e.P+e.F*i(100)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,i){var e=i(0);e(e.P,"String",{repeat:i(93)})},function(t,n,i){var e=i(0),r=i(16),o=i(98),s="".startsWith;e(e.P+e.F*i(100)("startsWith"),"String",{startsWith:function(t){var n=o(this,t,"startsWith"),i=r(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return s?s.call(n,e,i):n.slice(i,i+e.length)===e}})},function(t,n,i){i(22)("anchor",(function(t){return function(n){return t(this,"a","name",n)}}))},function(t,n,i){i(22)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,n,i){i(22)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,n,i){i(22)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,n,i){i(22)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,n,i){i(22)("fontcolor",(function(t){return function(n){return t(this,"font","color",n)}}))},function(t,n,i){i(22)("fontsize",(function(t){return function(n){return t(this,"font","size",n)}}))},function(t,n,i){i(22)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,n,i){i(22)("link",(function(t){return function(n){return t(this,"a","href",n)}}))},function(t,n,i){i(22)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,n,i){i(22)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,n,i){i(22)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,n,i){i(22)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,n,i){var e=i(0);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,i){var e=i(0),r=i(20),o=i(40);e(e.P+e.F*i(11)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(){var t=r(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(t,n,i){var e=i(0),r=i(267);e(e.P+e.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,n,i){var e=i(11),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=e((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!e((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),i=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(i>99?i:"0"+s(i))+"Z"}:o},function(t,n,i){var e=Date.prototype,r=e.toString,o=e.getTime;new Date(NaN)+""!="Invalid Date"&&i(21)(e,"toString",(function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"}))},function(t,n,i){var e=i(14)("toPrimitive"),r=Date.prototype;e in r||i(27)(r,e,i(270))},function(t,n,i){var e=i(12),r=i(40);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(e(this),"number"!=t)}},function(t,n,i){var e=i(0);e(e.S,"Array",{isArray:i(71)})},function(t,n,i){var e=i(31),r=i(0),o=i(20),s=i(127),u=i(101),a=i(16),c=i(102),h=i(103);r(r.S+r.F*!i(72)((function(t){Array.from(t)})),"Array",{from:function(t){var n,i,r,f,l=o(t),d="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,m=void 0!==p,b=0,g=h(l);if(m&&(p=e(p,v>2?arguments[2]:void 0,2)),null==g||d==Array&&u(g))for(i=new d(n=a(l.length));n>b;b++)c(i,b,m?p(l[b],b):l[b]);else for(f=g.call(l),i=new d;!(r=f.next()).done;b++)c(i,b,m?s(f,p,[r.value,b],!0):r.value);return i.length=b,i}})},function(t,n,i){var e=i(0),r=i(102);e(e.S+e.F*i(11)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,n=arguments.length,i=new("function"==typeof this?this:Array)(n);n>t;)r(i,t,arguments[t++]);return i.length=n,i}})},function(t,n,i){var e=i(0),r=i(28),o=[].join;e(e.P+e.F*(i(62)!=Object||!i(29)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,n,i){var e=i(0),r=i(89),o=i(37),s=i(47),u=i(16),a=[].slice;e(e.P+e.F*i(11)((function(){r&&a.call(r)})),"Array",{slice:function(t,n){var i=u(this.length),e=o(this);if(n=void 0===n?i:n,"Array"==e)return a.call(this,t,n);for(var r=s(t,i),c=s(n,i),h=u(c-r),f=new Array(h),l=0;l<h;l++)f[l]="String"==e?this.charAt(r+l):this[r+l];return f}})},function(t,n,i){var e=i(0),r=i(32),o=i(20),s=i(11),u=[].sort,a=[1,2,3];e(e.P+e.F*(s((function(){a.sort(void 0)}))||!s((function(){a.sort(null)}))||!i(29)(u)),"Array",{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),r(t))}})},function(t,n,i){var e=i(0),r=i(36)(0),o=i(29)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,n,i){var e=i(13),r=i(71),o=i(14)("species");t.exports=function(t){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,i){var e=i(0),r=i(36)(1);e(e.P+e.F*!i(29)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,n,i){var e=i(0),r=i(36)(2);e(e.P+e.F*!i(29)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,n,i){var e=i(0),r=i(36)(3);e(e.P+e.F*!i(29)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,n,i){var e=i(0),r=i(36)(4);e(e.P+e.F*!i(29)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,n,i){var e=i(0),r=i(129);e(e.P+e.F*!i(29)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,n,i){var e=i(0),r=i(129);e(e.P+e.F*!i(29)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,n,i){var e=i(0),r=i(69)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(s||!i(29)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,n,i){var e=i(0),r=i(28),o=i(33),s=i(16),u=[].lastIndexOf,a=!!u&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(a||!i(29)(u)),"Array",{lastIndexOf:function(t){if(a)return u.apply(this,arguments)||0;var n=r(this),i=s(n.length),e=i-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=i+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,i){var e=i(0);e(e.P,"Array",{copyWithin:i(130)}),i(51)("copyWithin")},function(t,n,i){var e=i(0);e(e.P,"Array",{fill:i(104)}),i(51)("fill")},function(t,n,i){var e=i(0),r=i(36)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),e(e.P+e.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(51)("find")},function(t,n,i){var e=i(0),r=i(36)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),e(e.P+e.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(51)(o)},function(t,n,i){i(56)("Array")},function(t,n,i){var e=i(10),r=i(92),o=i(19).f,s=i(49).f,u=i(99),a=i(73),c=e.RegExp,h=c,f=c.prototype,l=/a/g,d=/a/g,v=new c(l)!==l;if(i(18)&&(!v||i(11)((function(){return d[i(14)("match")]=!1,c(l)!=l||c(d)==d||"/a/i"!=c(l,"i")})))){c=function(t,n){var i=this instanceof c,e=u(t),o=void 0===n;return!i&&e&&t.constructor===c&&o?t:r(v?new h(e&&!o?t.source:t,n):h((e=t instanceof c)?t.source:t,e&&o?a.call(t):n),i?this:f,c)};for(var p=function(t){t in c||o(c,t,{configurable:!0,get:function(){return h[t]},set:function(n){h[t]=n}})},m=s(h),b=0;m.length>b;)p(m[b++]);f.constructor=c,c.prototype=f,i(21)(e,"RegExp",c)}i(56)("RegExp")},function(t,n,i){i(133);var e=i(12),r=i(73),o=i(18),s=/./.toString,u=function(t){i(21)(RegExp.prototype,"toString",t,!0)};i(11)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?u((function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):"toString"!=s.name&&u((function(){return s.call(this)}))},function(t,n,i){var e=i(12),r=i(16),o=i(107),s=i(74);i(75)("match",1,(function(t,n,i,u){return[function(i){var e=t(this),r=null==i?void 0:i[n];return void 0!==r?r.call(i,e):new RegExp(i)[n](String(e))},function(t){var n=u(i,t,this);if(n.done)return n.value;var a=e(t),c=String(this);if(!a.global)return s(a,c);var h=a.unicode;a.lastIndex=0;for(var f,l=[],d=0;null!==(f=s(a,c));){var v=String(f[0]);l[d]=v,""===v&&(a.lastIndex=o(c,r(a.lastIndex),h)),d++}return 0===d?null:l}]}))},function(t,n,i){var e=i(12),r=i(20),o=i(16),s=i(33),u=i(107),a=i(74),c=Math.max,h=Math.min,f=Math.floor,l=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;i(75)("replace",2,(function(t,n,i,v){return[function(e,r){var o=t(this),s=null==e?void 0:e[n];return void 0!==s?s.call(e,o,r):i.call(String(o),e,r)},function(t,n){var r=v(i,t,this,n);if(r.done)return r.value;var f=e(t),l=String(this),d="function"==typeof n;d||(n=String(n));var m=f.global;if(m){var b=f.unicode;f.lastIndex=0}for(var g=[];;){var y=a(f,l);if(null===y)break;if(g.push(y),!m)break;""===String(y[0])&&(f.lastIndex=u(l,o(f.lastIndex),b))}for(var w,x="",k=0,_=0;_<g.length;_++){y=g[_];for(var A=String(y[0]),S=c(h(s(y.index),l.length),0),E=[],O=1;O<y.length;O++)E.push(void 0===(w=y[O])?w:String(w));var M=y.groups;if(d){var C=[A].concat(E,S,l);void 0!==M&&C.push(M);var T=String(n.apply(void 0,C))}else T=p(A,l,S,E,M,n);S>=k&&(x+=l.slice(k,S)+T,k=S+A.length)}return x+l.slice(k)}];function p(t,n,e,o,s,u){var a=e+t.length,c=o.length,h=d;return void 0!==s&&(s=r(s),h=l),i.call(u,h,(function(i,r){var u;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,e);case"'":return n.slice(a);case"<":u=s[r.slice(1,-1)];break;default:var h=+r;if(0===h)return i;if(h>c){var l=f(h/10);return 0===l?i:l<=c?void 0===o[l-1]?r.charAt(1):o[l-1]+r.charAt(1):i}u=o[h-1]}return void 0===u?"":u}))}}))},function(t,n,i){var e=i(12),r=i(118),o=i(74);i(75)("search",1,(function(t,n,i,s){return[function(i){var e=t(this),r=null==i?void 0:i[n];return void 0!==r?r.call(i,e):new RegExp(i)[n](String(e))},function(t){var n=s(i,t,this);if(n.done)return n.value;var u=e(t),a=String(this),c=u.lastIndex;r(c,0)||(u.lastIndex=0);var h=o(u,a);return r(u.lastIndex,c)||(u.lastIndex=c),null===h?-1:h.index}]}))},function(t,n,i){var e=i(99),r=i(12),o=i(65),s=i(107),u=i(16),a=i(74),c=i(106),h=i(11),f=Math.min,l=[].push,d="length",v=!h((function(){}));i(75)("split",2,(function(t,n,i,h){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!e(t))return i.call(r,t,n);for(var o,s,u,a=[],h=0,f=void 0===n?4294967295:n>>>0,v=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(o=c.call(v,r))&&!((s=v.lastIndex)>h&&(a.push(r.slice(h,o.index)),o[d]>1&&o.index<r[d]&&l.apply(a,o.slice(1)),u=o[0][d],h=s,a[d]>=f));)v.lastIndex===o.index&&v.lastIndex++;return h===r[d]?!u&&v.test("")||a.push(""):a.push(r.slice(h)),a[d]>f?a.slice(0,f):a}:"0".split(void 0,0)[d]?function(t,n){return void 0===t&&0===n?[]:i.call(this,t,n)}:i,[function(i,e){var r=t(this),o=null==i?void 0:i[n];return void 0!==o?o.call(i,r,e):p.call(String(r),i,e)},function(t,n){var e=h(p,t,this,n,p!==i);if(e.done)return e.value;var c=r(t),l=String(this),d=o(c,RegExp),m=c.unicode,b=new d(v?c:"^(?:"+c.source+")",(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g")),g=void 0===n?4294967295:n>>>0;if(0===g)return[];if(0===l.length)return null===a(b,l)?[l]:[];for(var y=0,w=0,x=[];w<l.length;){b.lastIndex=v?w:0;var k,_=a(b,v?l:l.slice(w));if(null===_||(k=f(u(b.lastIndex+(v?0:w)),l.length))===y)w=s(l,w,m);else{if(x.push(l.slice(y,w)),x.length===g)return x;for(var A=1;A<=_.length-1;A++)if(x.push(_[A]),x.length===g)return x;w=y=k}}return x.push(l.slice(y)),x}]}))},function(t,n,i){var e=i(10),r=i(108).set,o=e.MutationObserver||e.WebKitMutationObserver,s=e.process,u=e.Promise,a="process"==i(37)(s);t.exports=function(){var t,n,i,c=function(){var e,r;for(a&&(e=s.domain)&&e.exit();t;){r=t.fn,t=t.next;try{r()}catch(e){throw t?i():n=void 0,e}}n=void 0,e&&e.enter()};if(a)i=function(){s.nextTick(c)};else if(!o||e.navigator&&e.navigator.standalone)if(u&&u.resolve){var h=u.resolve(void 0);i=function(){h.then(c)}}else i=function(){r.call(e,c)};else{var f=!0,l=document.createTextNode("");new o(c).observe(l,{characterData:!0}),i=function(){l.data=f=!f}}return function(e){var r={fn:e,next:void 0};n&&(n.next=r),t||(t=r,i()),n=r}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,i){var e=i(137),r=i(52);t.exports=i(78)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var n=e.getEntry(r(this,"Map"),t);return n&&n.v},set:function(t,n){return e.def(r(this,"Map"),0===t?0:t,n)}},e,!0)},function(t,n,i){var e=i(137),r=i(52);t.exports=i(78)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(r(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,i){var e,r=i(10),o=i(36)(0),s=i(21),u=i(41),a=i(117),c=i(138),h=i(13),f=i(52),l=i(52),d=!r.ActiveXObject&&"ActiveXObject"in r,v=u.getWeak,p=Object.isExtensible,m=c.ufstore,b=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(h(t)){var n=v(t);return!0===n?m(f(this,"WeakMap")).get(t):n?n[this._i]:void 0}},set:function(t,n){return c.def(f(this,"WeakMap"),t,n)}},y=t.exports=i(78)("WeakMap",b,g,c,!0,!0);l&&d&&(a((e=c.getConstructor(b,"WeakMap")).prototype,g),u.NEED=!0,o(["delete","has","get","set"],(function(t){var n=y.prototype,i=n[t];s(n,t,(function(n,r){if(h(n)&&!p(n)){this._f||(this._f=new e);var o=this._f[t](n,r);return"set"==t?this:o}return i.call(this,n,r)}))})))},function(t,n,i){var e=i(138),r=i(52);i(78)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(r(this,"WeakSet"),t,!0)}},e,!1,!0)},function(t,n,i){var e=i(0),r=i(79),o=i(109),s=i(12),u=i(47),a=i(16),c=i(13),h=i(10).ArrayBuffer,f=i(65),l=o.ArrayBuffer,d=o.DataView,v=r.ABV&&h.isView,p=l.prototype.slice,m=r.VIEW;e(e.G+e.W+e.F*(h!==l),{ArrayBuffer:l}),e(e.S+e.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return v&&v(t)||c(t)&&m in t}}),e(e.P+e.U+e.F*i(11)((function(){return!new l(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,n){if(void 0!==p&&void 0===n)return p.call(s(this),t);for(var i=s(this).byteLength,e=u(t,i),r=u(void 0===n?i:n,i),o=new(f(this,l))(a(r-e)),c=new d(this),h=new d(o),v=0;e<r;)h.setUint8(v++,c.getUint8(e++));return o}}),i(56)("ArrayBuffer")},function(t,n,i){var e=i(0);e(e.G+e.W+e.F*!i(79).ABV,{DataView:i(109).DataView})},function(t,n,i){i(39)("Int8",1,(function(t){return function(n,i,e){return t(this,n,i,e)}}))},function(t,n,i){i(39)("Uint8",1,(function(t){return function(n,i,e){return t(this,n,i,e)}}))},function(t,n,i){i(39)("Uint8",1,(function(t){return function(n,i,e){return t(this,n,i,e)}}),!0)},function(t,n,i){i(39)("Int16",2,(function(t){return function(n,i,e){return t(this,n,i,e)}}))},function(t,n,i){i(39)("Uint16",2,(function(t){return function(n,i,e){return t(this,n,i,e)}}))},function(t,n,i){i(39)("Int32",4,(function(t){return function(n,i,e){return t(this,n,i,e)}}))},function(t,n,i){i(39)("Uint32",4,(function(t){return function(n,i,e){return t(this,n,i,e)}}))},function(t,n,i){i(39)("Float32",4,(function(t){return function(n,i,e){return t(this,n,i,e)}}))},function(t,n,i){i(39)("Float64",8,(function(t){return function(n,i,e){return t(this,n,i,e)}}))},function(t,n,i){var e=i(0),r=i(32),o=i(12),s=(i(10).Reflect||{}).apply,u=Function.apply;e(e.S+e.F*!i(11)((function(){s((function(){}))})),"Reflect",{apply:function(t,n,i){var e=r(t),a=o(i);return s?s(e,n,a):u.call(e,n,a)}})},function(t,n,i){var e=i(0),r=i(48),o=i(32),s=i(12),u=i(13),a=i(11),c=i(119),h=(i(10).Reflect||{}).construct,f=a((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),l=!a((function(){h((function(){}))}));e(e.S+e.F*(f||l),"Reflect",{construct:function(t,n){o(t),s(n);var i=arguments.length<3?t:o(arguments[2]);if(l&&!f)return h(t,n,i);if(t==i){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(c.apply(t,e))}var a=i.prototype,d=r(u(a)?a:Object.prototype),v=Function.apply.call(t,d,n);return u(v)?v:d}})},function(t,n,i){var e=i(19),r=i(0),o=i(12),s=i(40);r(r.S+r.F*i(11)((function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,n,i){o(t),n=s(n,!0),o(i);try{return e.f(t,n,i),!0}catch(t){return!1}}})},function(t,n,i){var e=i(0),r=i(34).f,o=i(12);e(e.S,"Reflect",{deleteProperty:function(t,n){var i=r(o(t),n);return!(i&&!i.configurable)&&delete t[n]}})},function(t,n,i){var e=i(0),r=i(12),o=function(t){this._t=r(t),this._i=0;var n,i=this._k=[];for(n in t)i.push(n)};i(126)(o,"Object",(function(){var t,n=this._k;do{if(this._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[this._i++])in this._t));return{value:t,done:!1}})),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,i){var e=i(34),r=i(50),o=i(26),s=i(0),u=i(13),a=i(12);s(s.S,"Reflect",{get:function t(n,i){var s,c,h=arguments.length<3?n:arguments[2];return a(n)===h?n[i]:(s=e.f(n,i))?o(s,"value")?s.value:void 0!==s.get?s.get.call(h):void 0:u(c=r(n))?t(c,i,h):void 0}})},function(t,n,i){var e=i(34),r=i(0),o=i(12);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,i){var e=i(0),r=i(50),o=i(12);e(e.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,n,i){var e=i(0);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,i){var e=i(0),r=i(12),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,n,i){var e=i(0);e(e.S,"Reflect",{ownKeys:i(140)})},function(t,n,i){var e=i(0),r=i(12),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,i){var e=i(19),r=i(34),o=i(50),s=i(26),u=i(0),a=i(43),c=i(12),h=i(13);u(u.S,"Reflect",{set:function t(n,i,u){var f,l,d=arguments.length<4?n:arguments[3],v=r.f(c(n),i);if(!v){if(h(l=o(n)))return t(l,i,u,d);v=a(0)}if(s(v,"value")){if(!1===v.writable||!h(d))return!1;if(f=r.f(d,i)){if(f.get||f.set||!1===f.writable)return!1;f.value=u,e.f(d,i,f)}else e.f(d,i,a(0,u));return!0}return void 0!==v.set&&(v.set.call(d,u),!0)}})},function(t,n,i){var e=i(0),r=i(90);r&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){r.check(t,n);try{return r.set(t,n),!0}catch(t){return!1}}})},function(t,n,i){i(330),t.exports=i(17).Array.includes},function(t,n,i){var e=i(0),r=i(69)(!0);e(e.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(51)("includes")},function(t,n,i){i(332),t.exports=i(17).Array.flatMap},function(t,n,i){var e=i(0),r=i(333),o=i(20),s=i(16),u=i(32),a=i(128);e(e.P,"Array",{flatMap:function(t){var n,i,e=o(this);return u(t),n=s(e.length),i=a(e,0),r(i,e,e,n,0,1,t,arguments[1]),i}}),i(51)("flatMap")},function(t,n,i){var e=i(71),r=i(13),o=i(16),s=i(31),u=i(14)("isConcatSpreadable");t.exports=function t(n,i,a,c,h,f,l,d){for(var v,p,m=h,b=0,g=!!l&&s(l,d,3);b<c;){if(b in a){if(v=g?g(a[b],b,i):a[b],p=!1,r(v)&&(p=void 0!==(p=v[u])?!!p:e(v)),p&&f>0)m=t(n,i,v,o(v.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();n[m]=v}m++}b++}return m}},function(t,n,i){i(335),t.exports=i(17).String.padStart},function(t,n,i){var e=i(0),r=i(141),o=i(77),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);e(e.P+e.F*s,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,i){i(337),t.exports=i(17).String.padEnd},function(t,n,i){var e=i(0),r=i(141),o=i(77),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);e(e.P+e.F*s,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,i){i(339),t.exports=i(17).String.trimLeft},function(t,n,i){i(54)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,n,i){i(341),t.exports=i(17).String.trimRight},function(t,n,i){i(54)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,n,i){i(343),t.exports=i(86).f("asyncIterator")},function(t,n,i){i(113)("asyncIterator")},function(t,n,i){i(345),t.exports=i(17).Object.getOwnPropertyDescriptors},function(t,n,i){var e=i(0),r=i(140),o=i(28),s=i(34),u=i(102);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,i,e=o(t),a=s.f,c=r(e),h={},f=0;c.length>f;)void 0!==(i=a(e,n=c[f++]))&&u(h,n,i);return h}})},function(t,n,i){i(347),t.exports=i(17).Object.values},function(t,n,i){var e=i(0),r=i(142)(!1);e(e.S,"Object",{values:function(t){return r(t)}})},function(t,n,i){i(349),t.exports=i(17).Object.entries},function(t,n,i){var e=i(0),r=i(142)(!0);e(e.S,"Object",{entries:function(t){return r(t)}})},function(t,n,i){i(134),i(351),t.exports=i(17).Promise.finally},function(t,n,i){var e=i(0),r=i(17),o=i(10),s=i(65),u=i(136);e(e.P+e.R,"Promise",{finally:function(t){var n=s(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return u(n,t()).then((function(){return i}))}:t,i?function(i){return u(n,t()).then((function(){throw i}))}:t)}})},function(t,n,i){i(353),i(354),i(355),t.exports=i(17)},function(t,n,i){var e=i(10),r=i(0),o=i(77),s=[].slice,u=/MSIE .\./.test(o),a=function(t){return function(n,i){var e=arguments.length>2,r=!!e&&s.call(arguments,2);return t(e?function(){("function"==typeof n?n:Function(n)).apply(this,r)}:n,i)}};r(r.G+r.B+r.F*u,{setTimeout:a(e.setTimeout),setInterval:a(e.setInterval)})},function(t,n,i){var e=i(0),r=i(108);e(e.G+e.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,n,i){for(var e=i(105),r=i(46),o=i(21),s=i(10),u=i(27),a=i(55),c=i(14),h=c("iterator"),f=c("toStringTag"),l=a.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=r(d),p=0;p<v.length;p++){var m,b=v[p],g=d[b],y=s[b],w=y&&y.prototype;if(w&&(w[h]||u(w,h,l),w[f]||u(w,f,b),a[b]=l,g))for(m in e)w[m]||o(w,m,e[m],!0)}},function(t,n,i){var e,r,o;r=[n,i(30),i(2),i(3),i(360),i(362),i(363),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h){var f=i(8),l=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=l(r),o=l(o),s=l(s),c=l(c),h=f(h);var d=function(){function t(n){var i=this;(0,o.default)(this,t);var e=function(){};h.isObject(n)&&h.isFunction(n.onReady)&&(e=n.onReady);var r=new c.default(n);this.isReady=r.isReady.then((function(){i.exportAPI(r),e()}))}return(0,s.default)(t,[{key:"exportAPI",value:function(t){var n=this;["configuration"].forEach((function(i){n[i]=t[i]})),this.destroy=function(){for(var i in Object.values(t.moduleInstances).forEach((function(t){h.isFunction(t.destroy)&&t.destroy(),t.listeners.removeAll()})),t=null,n)Object.prototype.hasOwnProperty.call(n,i)&&delete n[i];Object.setPrototypeOf(n,null)},Object.setPrototypeOf(this,t.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach((function(i){var e=(0,r.default)(i,2),o=e[0];Object.entries(e[1]).forEach((function(i){var e=(0,r.default)(i,2);n[e[1]]=t.moduleInstances.API.methods[o][e[0]]}))}))}}],[{key:"version",get:function(){return"2.21.0"}}]),t}();e.default=d,d.displayName="EditorJS",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],e=!0,r=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(e=(s=u.next()).done)&&(i.push(s.value),!n||i.length!==n);e=!0);}catch(t){r=!0,o=t}finally{try{e||null==u.return||u.return()}finally{if(r)throw o}}return i}}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,n,i){(n=t.exports=function(...t){return r(...t)}).__esModule=!0;const e=i(361),r=e.default;Object.assign(n,e)},function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){},n.revert=function(){}},function(t,n){var i,e;void 0===(e="function"==typeof(i=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var n=(this.document||this.ownerDocument).querySelectorAll(t),i=n.length;--i>=0&&n.item(i)!==this;);return i>-1}),Element.prototype.closest||(Element.prototype.closest=function(t){var n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(t){var n=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach((function(t){var i=t instanceof Node;n.appendChild(i?t:document.createTextNode(t))})),this.insertBefore(n,this.firstChild)})})?i.apply(n,[]):i)||(t.exports=e)},function(t,n,i){var e,r,o;r=[n,i(23),i(24),i(2),i(3),i(15),i(7),i(59),i(147),i(372)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l){var d=i(8),v=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=v(r),o=v(o),s=v(s),u=v(u),a=v(a),c=d(c),h=v(h),l=v(l);var p=i(373),m=[];p.keys().forEach((function(t){t.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&m.push(p(t))}));var b=function(){function t(n){var i,e,u=this;(0,s.default)(this,t),this.moduleInstances={},this.eventsDispatcher=new l.default,this.isReady=new Promise((function(t,n){i=t,e=n})),Promise.resolve().then((0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.configuration=n,t.next=3,u.validate();case 3:return t.next=5,u.init();case 5:return t.next=7,u.start();case 7:c.logLabeled("I'm ready! ()*:","log","","color: #E24A75"),setTimeout((0,o.default)(r.default.mark((function t(){var n,e,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.render();case 2:u.configuration.autofocus&&((o=(n=u.moduleInstances).Caret).setToBlock((e=n.BlockManager).blocks[0],o.positions.START),e.highlightCurrentNode()),u.moduleInstances.UI.removeLoader(),i();case 5:case"end":return t.stop()}}),t)}))),500);case 9:case"end":return t.stop()}}),t)})))).catch((function(t){c.log("Editor.js is not ready because of ".concat(t),"error"),e(t)}))}var n,i;return(0,u.default)(t,[{key:"validate",value:(i=(0,o.default)(r.default.mark((function t(){var n,i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(n=this.config).holder,!n.holderId||!i){t.next=3;break}throw Error("holderId and holder param can't assign at the same time.");case 3:if(!c.isString(i)||a.default.get(i)){t.next=5;break}throw Error("element with ID ".concat(i," is missing. Pass correct holder's ID."));case 5:if(!i||!c.isObject(i)||a.default.isElement(i)){t.next=7;break}throw Error("holder value must be an Element node");case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(n=(0,o.default)(r.default.mark((function t(){var n,i=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],t.next=3,n.reduce((function(t,n){return t.then((0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.moduleInstances[n].prepare();case 3:t.next=10;break;case 5:if(t.prev=5,t.t0=t.catch(0),!(t.t0 instanceof f.CriticalError)){t.next=9;break}throw new Error(t.t0.message);case 9:c.log("Module ".concat(n," was skipped because of %o"),"warn",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,5]])}))))}),Promise.resolve());case 3:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var t=this;m.forEach((function(n){var i=c.isFunction(n)?n:n.default;try{t.moduleInstances[i.displayName]=new i({config:t.configuration,eventsDispatcher:t.eventsDispatcher})}catch(t){c.log("Module ".concat(i.displayName," skipped because"),"warn",t)}}))}},{key:"configureModules",value:function(){for(var t in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,t)&&(this.moduleInstances[t].state=this.getModulesDiff(t))}},{key:"getModulesDiff",value:function(t){var n={};for(var i in this.moduleInstances)i!==t&&(n[i]=this.moduleInstances[i]);return n}},{key:"configuration",set:function(t){var n,i;this.config=c.isObject(t)?Object.assign({},t):{holder:t},c.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),null==this.config.holder&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=c.LogLevels.VERBOSE),c.setLogLevel(this.config.logLevel),c.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=void 0!==this.config.minHeight?this.config.minHeight:300;var e={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=void 0===this.config.inlineToolbar||this.config.inlineToolbar,!c.isEmpty(this.config.data)&&this.config.data.blocks&&0!==this.config.data.blocks.length||(this.config.data={blocks:[e]}),this.config.readOnly=this.config.readOnly||!1,(null===(n=this.config.i18n)||void 0===n?void 0:n.messages)&&h.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=(null===(i=this.config.i18n)||void 0===i?void 0:i.direction)||"ltr"},get:function(){return this.config}}]),t}();e.default=b,b.displayName="Core",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e=i(145);t.exports=function(t){if(Array.isArray(t))return e(t)}},function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t){t.exports=function(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}},function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,n,i){var e=i(110),r=i(371);function o(n,i,s){return t.exports=o=r()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return i&&e(o,i.prototype),o},o.apply(null,arguments)}t.exports=o},function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,n,i){var e,r,o;r=[n,i(2),i(3)],void 0===(o="function"==typeof(e=function(e,r,o){var s=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=s(r),o=s(o);var u=function(){function t(){(0,r.default)(this,t),this.subscribers={}}return(0,o.default)(t,[{key:"on",value:function(t,n){t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push(n)}},{key:"once",value:function(t,n){var i=this;t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push((function e(r){var o=n(r),s=i.subscribers[t].indexOf(e);return-1!==s&&i.subscribers[t].splice(s,1),o}))}},{key:"emit",value:function(t,n){this.subscribers[t]&&this.subscribers[t].reduce((function(t,n){return n(t)||t}),n)}},{key:"off",value:function(t,n){for(var i=0;i<this.subscribers[t].length;i++)if(this.subscribers[t][i]===n){delete this.subscribers[t][i];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),t}();e.default=u,u.displayName="EventsDispatcher",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e={"./api":81,"./api/":81,"./api/blocks":149,"./api/blocks.ts":149,"./api/caret":151,"./api/caret.ts":151,"./api/events":152,"./api/events.ts":152,"./api/i18n":153,"./api/i18n.ts":153,"./api/index":81,"./api/index.ts":81,"./api/inlineToolbar":154,"./api/inlineToolbar.ts":154,"./api/listeners":155,"./api/listeners.ts":155,"./api/notifier":156,"./api/notifier.ts":156,"./api/readonly":157,"./api/readonly.ts":157,"./api/sanitizer":158,"./api/sanitizer.ts":158,"./api/saver":159,"./api/saver.ts":159,"./api/selection":160,"./api/selection.ts":160,"./api/styles":161,"./api/styles.ts":161,"./api/toolbar":162,"./api/toolbar.ts":162,"./api/tooltip":163,"./api/tooltip.ts":163,"./blockEvents":164,"./blockEvents.ts":164,"./blockManager":165,"./blockManager.ts":165,"./blockSelection":166,"./blockSelection.ts":166,"./caret":167,"./caret.ts":167,"./crossBlockSelection":168,"./crossBlockSelection.ts":168,"./dragNDrop":169,"./dragNDrop.ts":169,"./modificationsObserver":170,"./modificationsObserver.ts":170,"./paste":171,"./paste.ts":171,"./readonly":172,"./readonly.ts":172,"./rectangleSelection":173,"./rectangleSelection.ts":173,"./renderer":174,"./renderer.ts":174,"./saver":175,"./saver.ts":175,"./toolbar":83,"./toolbar/":83,"./toolbar/blockSettings":176,"./toolbar/blockSettings.ts":176,"./toolbar/conversion":177,"./toolbar/conversion.ts":177,"./toolbar/index":83,"./toolbar/index.ts":83,"./toolbar/inline":178,"./toolbar/inline.ts":178,"./toolbar/toolbox":179,"./toolbar/toolbox.ts":179,"./tools":180,"./tools.ts":180,"./ui":182,"./ui.ts":182};function r(t){var n=o(t);return i(n)}function o(t){if(!i.o(e,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e[t]}r.keys=function(){return Object.keys(e)},r.resolve=o,t.exports=r,r.id=373},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(8),a=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=a(r),o=a(o),s=u(s);var c=function(){function t(){(0,r.default)(this,t),this.allListeners=[]}return(0,o.default)(t,[{key:"on",value:function(t,n,i){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=s.generateId("l"),o={id:r,element:t,eventType:n,handler:i,options:e};if(!this.findOne(t,n,i))return this.allListeners.push(o),t.addEventListener(n,i,e),r}},{key:"off",value:function(t,n,i){var e=this,r=this.findAll(t,n,i);r.forEach((function(t,n){var i=e.allListeners.indexOf(r[n]);i>-1&&(e.allListeners.splice(i,1),t.element.removeEventListener(t.eventType,t.handler,t.options))}))}},{key:"offById",value:function(t){var n=this.findById(t);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}},{key:"findOne",value:function(t,n,i){var e=this.findAll(t,n,i);return e.length>0?e[0]:null}},{key:"findAll",value:function(t,n,i){var e=t?this.findByEventTarget(t):[];return t&&n&&i?e.filter((function(t){return t.eventType===n&&t.handler===i})):t&&n?e.filter((function(t){return t.eventType===n})):e}},{key:"removeAll",value:function(){this.allListeners.map((function(t){t.element.removeEventListener(t.eventType,t.handler,t.options)})),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(t){return this.allListeners.filter((function(n){if(n.element===t)return n}))}},{key:"findByType",value:function(t){return this.allListeners.filter((function(n){if(n.eventType===t)return n}))}},{key:"findByHandler",value:function(t){return this.allListeners.filter((function(n){if(n.handler===t)return n}))}},{key:"findById",value:function(t){return this.allListeners.find((function(n){return n.id===t}))}}]),t}();e.default=c,c.displayName="Listeners",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(376)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,[{key:"show",value:function(t){s.default.show(t)}}]),t}();e.default=a,a.displayName="Notifier",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t){t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/",i(i.s=0)}([function(t,n,i){i(1),t.exports=function(){var t=i(6),n=null;return{show:function(i){if(i.message){!function(){if(n)return!0;n=t.getWrapper(),document.body.appendChild(n)}();var e=null,r=i.time||8e3;switch(i.type){case"confirm":e=t.confirm(i);break;case"prompt":e=t.prompt(i);break;default:e=t.alert(i),window.setTimeout((function(){e.remove()}),r)}n.appendChild(e),e.classList.add("cdx-notify--bounce-in")}}}}()},function(t,n,i){var e=i(2);"string"==typeof e&&(e=[[t.i,e,""]]),i(4)(e,{hmr:!0,transform:void 0,insertInto:void 0}),e.locals&&(t.exports=e.locals)},function(t,n,i){(t.exports=i(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i=function(t,n){var i=t[1]||"",e=t[3];if(!e)return i;if(n&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */",o=e.sources.map((function(t){return"/*# sourceURL="+e.sourceRoot+t+" */"}));return[i].concat(o).concat([r]).join("\n")}return[i].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+i+"}":i})).join("")},n.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(e[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&e[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),n.push(s))}},n}},function(t,n,i){var e,r,o={},s=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=e.apply(this,arguments)),r}),u=function(){var t={};return function(n){if("function"==typeof n)return n();if(void 0===t[n]){var i=function(t){return document.querySelector(t)}.call(this,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(n){i=null}t[n]=i}return t[n]}}(),a=null,c=0,h=[],f=i(5);function l(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=o[e.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](e.parts[s]);for(;s<e.parts.length;s++)r.parts.push(g(e.parts[s],n))}else{var u=[];for(s=0;s<e.parts.length;s++)u.push(g(e.parts[s],n));o[e.id]={id:e.id,refs:1,parts:u}}}}function d(t,n){for(var i=[],e={},r=0;r<t.length;r++){var o=t[r],s=n.base?o[0]+n.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};e[s]?e[s].parts.push(u):i.push(e[s]={id:s,parts:[u]})}return i}function v(t,n){var i=u(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=h[h.length-1];if("top"===t.insertAt)e?e.nextSibling?i.insertBefore(n,e.nextSibling):i.appendChild(n):i.insertBefore(n,i.firstChild),h.push(n);else if("bottom"===t.insertAt)i.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=u(t.insertInto+" "+t.insertAt.before);i.insertBefore(n,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=h.indexOf(t);n>=0&&h.splice(n,1)}function m(t){var n=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),b(n,t.attrs),v(t,n),n}function b(t,n){Object.keys(n).forEach((function(i){t.setAttribute(i,n[i])}))}function g(t,n){var i,e,r,o;if(n.transform&&t.css){if(!(o=n.transform(t.css)))return function(){};t.css=o}if(n.singleton){var s=c++;i=a||(a=m(n)),e=x.bind(null,i,s,!1),r=x.bind(null,i,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(n,t.attrs),v(t,n),n}(n),e=function(t,n,i){var e=i.css,r=i.sourceMap;(n.convertToAbsoluteUrls||void 0===n.convertToAbsoluteUrls&&r)&&(e=f(e)),r&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([e],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,i,n),r=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=m(n),e=function(t,n){var i=n.css,e=n.media;if(e&&t.setAttribute("media",e),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){p(i)});return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var i=d(t,n);return l(i,n),function(t){for(var e=[],r=0;r<i.length;r++)(s=o[i[r].id]).refs--,e.push(s);for(t&&l(d(t,n),n),r=0;r<e.length;r++){var s;if(0===(s=e[r]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var y,w=(y=[],function(t,n){return y[t]=n,y.filter(Boolean).join("\n")});function x(t,n,i,e){var r=i?"":e.css;if(t.styleSheet)t.styleSheet.cssText=w(n,r);else{var o=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(o,s[n]):t.appendChild(o)}}},function(t){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=n.protocol+"//"+n.host,e=i+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,n){var r,o=n.trim().replace(/^"(.*)"$/,(function(t,n){return n})).replace(/^'(.*)'$/,(function(t,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t){var n,i,e,r,o,s;t.exports=(n="cdx-notify",i="cdx-notify__cross",e="cdx-notify__button--confirm",r="cdx-notify__button",o="cdx-notify__btns-wrapper",{alert:s=function(t){var e=document.createElement("DIV"),r=document.createElement("DIV"),o=t.message,s=t.style;return e.classList.add(n),s&&e.classList.add(n+"--"+s),e.innerHTML=o,r.classList.add(i),r.addEventListener("click",e.remove.bind(e)),e.appendChild(r),e},confirm:function(t){var n=s(t),u=document.createElement("div"),a=document.createElement("button"),c=document.createElement("button"),h=n.querySelector("."+i),f=t.cancelHandler,l=t.okHandler;return u.classList.add(o),a.innerHTML=t.okText||"Confirm",c.innerHTML=t.cancelText||"Cancel",a.classList.add(r),c.classList.add(r),a.classList.add(e),c.classList.add("cdx-notify__button--cancel"),f&&"function"==typeof f&&(c.addEventListener("click",f),h.addEventListener("click",f)),l&&"function"==typeof l&&a.addEventListener("click",l),a.addEventListener("click",n.remove.bind(n)),c.addEventListener("click",n.remove.bind(n)),u.appendChild(a),u.appendChild(c),n.appendChild(u),n},prompt:function(t){var n=s(t),u=document.createElement("div"),a=document.createElement("button"),c=document.createElement("input"),h=n.querySelector("."+i),f=t.cancelHandler,l=t.okHandler;return u.classList.add(o),a.innerHTML=t.okText||"Ok",a.classList.add(r),a.classList.add(e),c.classList.add("cdx-notify__input"),t.placeholder&&c.setAttribute("placeholder",t.placeholder),t.default&&(c.value=t.default),t.inputType&&(c.type=t.inputType),f&&"function"==typeof f&&h.addEventListener("click",f),l&&"function"==typeof l&&a.addEventListener("click",(function(){l(c.value)})),a.addEventListener("click",n.remove.bind(n)),u.appendChild(c),u.appendChild(a),n.appendChild(u),n},getWrapper:function(){var t=document.createElement("DIV");return t.classList.add("cdx-notifies"),t}})}])},function(t,n,i){var e,r;void 0===(r="function"==typeof(e=function(){function t(t){var n=t.tags;if(!Object.keys(n).map((function(t){return typeof n[t]})).every((function(t){return"object"===t||"boolean"===t||"function"===t})))throw new Error("The configuration was invalid");this.config=t}var n=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(t){return-1!==n.indexOf(t.nodeName)}var e=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function r(t){return-1!==e.indexOf(t.nodeName)}function o(t,n,i){return"function"==typeof t.tags[n]?t.tags[n](i):t.tags[n]}function s(t,n){return void 0===n||"boolean"==typeof n&&!n}function u(t,n,i){var e=t.name.toLowerCase();return!0!==n&&("function"==typeof n[e]?!n[e](t.value,i):void 0===n[e]||!1===n[e]||"string"==typeof n[e]&&n[e]!==t.value)}return t.prototype.clean=function(t){const n=document.implementation.createHTMLDocument(),i=n.createElement("div");return i.innerHTML=t,this._sanitize(n,i),i.innerHTML},t.prototype._sanitize=function(t,n){var e=function(t,n){return t.createTreeWalker(n,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(t,n),a=e.firstChild();if(a)do{if(a.nodeType!==Node.TEXT_NODE){if(a.nodeType===Node.COMMENT_NODE){n.removeChild(a),this._sanitize(t,n);break}var c,h=r(a);h&&(c=Array.prototype.some.call(a.childNodes,i));var f=!!n.parentNode,l=i(n)&&i(a)&&f,d=a.nodeName.toLowerCase(),v=o(this.config,d,a);if(h&&c||s(0,v)||!this.config.keepNestedBlockElements&&l){if("SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName)for(;a.childNodes.length>0;)n.insertBefore(a.childNodes[0],a);n.removeChild(a),this._sanitize(t,n);break}for(var p=0;p<a.attributes.length;p+=1){var m=a.attributes[p];u(m,v,a)&&(a.removeAttribute(m.name),p-=1)}this._sanitize(t,a)}else if(""===a.data.trim()&&(a.previousElementSibling&&i(a.previousElementSibling)||a.nextElementSibling&&i(a.nextElementSibling))){n.removeChild(a),this._sanitize(t,n);break}}while(a=e.nextSibling())},t})?e.call(n,i,n,t):e)||(t.exports=r)},function(t){t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,i){t.exports=i(1)},function(t,n,i){i.r(n),i.d(n,"default",(function(){return e}));class e{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(t,n,i){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const e=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},i);if(e.hidingDelay&&(this.hidingDelay=e.hidingDelay),this.nodes.content.innerHTML="","string"==typeof n)this.nodes.content.appendChild(document.createTextNode(n));else{if(!(n instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof n+" given.");this.nodes.content.appendChild(n)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),e.placement){case"top":this.placeTop(t,e);break;case"left":this.placeLeft(t,e);break;case"right":this.placeRight(t,e);break;case"bottom":default:this.placeBottom(t,e)}e&&e.delay?this.showingTimeout=setTimeout((()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0}),e.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(t=!1){if(this.hidingDelay&&!t)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout((()=>{this.hide(!0)}),this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(t,n,i){t.addEventListener("mouseenter",(()=>{this.show(t,n,i)})),t.addEventListener("mouseleave",(()=>{this.hide()}))}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const t="codex-tooltips-style";if(document.getElementById(t))return;const n=i(2),e=this.make("style",null,{textContent:n.toString(),id:t});this.prepend(document.head,e)}placeBottom(t,n){const i=t.getBoundingClientRect(),e=i.bottom+window.pageYOffset+this.offsetTop+n.marginTop;this.applyPlacement("bottom",i.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,e)}placeTop(t,n){const i=t.getBoundingClientRect(),e=i.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",i.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,e)}placeLeft(t,n){const i=t.getBoundingClientRect(),e=i.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",i.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-n.marginLeft,e)}placeRight(t,n){const i=t.getBoundingClientRect(),e=i.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",i.right+this.offsetRight+n.marginRight,e)}applyPlacement(t,n,i){this.nodes.wrapper.classList.add(this.CSS.placement[t]),this.nodes.wrapper.style.left=n+"px",this.nodes.wrapper.style.top=i+"px"}make(t,n=null,i={}){const e=document.createElement(t);Array.isArray(n)?e.classList.add(...n):n&&e.classList.add(n);for(const t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}append(t,n){Array.isArray(n)?n.forEach((n=>t.appendChild(n))):t.appendChild(n)}prepend(t,n){Array.isArray(n)?(n=n.reverse()).forEach((n=>t.prepend(n))):t.prepend(n)}}},function(t){t.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(15),i(7),i(25)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a){var c=i(8),h=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=c(u),a=h(a);var f=function(){function t(n,i){(0,r.default)(this,t),this.cursor=-1,this.items=[],this.items=n||[],this.focusedCssClass=i}return(0,o.default)(t,[{key:"setItems",value:function(t){this.items=t}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(t.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(t.directions.LEFT)}},{key:"dropCursor",value:function(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(n){var i=this;if(0===this.items.length)return this.cursor;var e=this.cursor;return-1===e?e=n===t.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),s.default.canSetCaret(this.items[e=n===t.directions.RIGHT?(e+1)%this.items.length:(this.items.length+e-1)%this.items.length])&&u.delay((function(){return a.default.setCursor(i.items[e])}),50)(),this.items[e].classList.add(this.focusedCssClass),e}},{key:"currentItem",get:function(){return-1===this.cursor?null:this.items[this.cursor]}}]),t}();e.default=f,f.displayName="DomIterator",f.directions={RIGHT:"right",LEFT:"left"},t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(7),i(15),i(61)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a){var c=i(8),h=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=c(s),u=h(u);var f=function(){function t(n){(0,r.default)(this,t),this.blocks=[],this.workingArea=n}return(0,o.default)(t,[{key:"push",value:function(t){this.blocks.push(t),this.insertToDOM(t)}},{key:"swap",value:function(t,n){var i=this.blocks[n];u.default.swap(this.blocks[t].holder,i.holder),this.blocks[n]=this.blocks[t],this.blocks[t]=i}},{key:"move",value:function(t,n){var i=this.blocks.splice(n,1)[0],e=Math.max(0,t-1);this.insertToDOM(i,t>0?"afterend":"beforebegin",this.blocks[e]),this.blocks.splice(t,0,i);var r=this.composeBlockEvent("move",{fromIndex:n,toIndex:t});i.call(a.BlockToolAPI.MOVED,r)}},{key:"insert",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.length)if(t>this.length&&(t=this.length),i&&(this.blocks[t].holder.remove(),this.blocks[t].call(a.BlockToolAPI.REMOVED)),this.blocks.splice(t,i?1:0,n),t>0)this.insertToDOM(n,"afterend",this.blocks[t-1]);else{var e=this.blocks[t+1];e?this.insertToDOM(n,"beforebegin",e):this.insertToDOM(n)}else this.push(n)}},{key:"remove",value:function(t){isNaN(t)&&(t=this.length-1),this.blocks[t].holder.remove(),this.blocks[t].call(a.BlockToolAPI.REMOVED),this.blocks.splice(t,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach((function(t){return t.call(a.BlockToolAPI.REMOVED)})),this.blocks.length=0}},{key:"insertAfter",value:function(t,n){var i=this.blocks.indexOf(t);this.insert(i+1,n)}},{key:"get",value:function(t){return this.blocks[t]}},{key:"indexOf",value:function(t){return this.blocks.indexOf(t)}},{key:"insertToDOM",value:function(t,n,i){n?i.holder.insertAdjacentElement(n,t.holder):this.workingArea.appendChild(t.holder),t.call(a.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(t,n){return new CustomEvent(t,{detail:n})}},{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return s.array(this.workingArea.children)}}],[{key:"set",value:function(t,n,i){return isNaN(Number(n))?(Reflect.set(t,n,i),!0):(t.insert(+n,i),!0)}},{key:"get",value:function(t,n){return isNaN(Number(n))?Reflect.get(t,n):t.get(+n)}}]),t}();e.default=f,f.displayName="Blocks",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t){t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,i){function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}i.r(n);var o=function(){function t(n){var i=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.commands={},this.keys={},this.name=n.name,this.parseShortcutName(n.name),this.element=n.on,this.callback=n.callback,this.executeShortcut=function(t){i.execute(t)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return r(t,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),r(t,[{key:"parseShortcutName",value:function(n){n=n.split("+");for(var i=0;i<n.length;i++){n[i]=n[i].toUpperCase();var e=!1;for(var r in t.supportedCommands)if(t.supportedCommands[r].includes(n[i])){e=this.commands[r]=!0;break}e||(this.keys[n[i]]=!0)}for(var o in t.supportedCommands)this.commands[o]||(this.commands[o]=!1)}},{key:"execute",value:function(n){var i,e={CMD:n.ctrlKey||n.metaKey,SHIFT:n.shiftKey,ALT:n.altKey},r=!0;for(i in this.commands)this.commands[i]!==e[i]&&(r=!1);var o,s=!0;for(o in this.keys)s=s&&n.keyCode===t.keyCodes[o];r&&s&&this.callback(n)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),t}();n.default=o}]).default},function(t){t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/",i(i.s=0)}([function(t,n,i){function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}i(1).toString();var o=function(){function t(n){var i=n.data,e=n.config,r=n.api,o=n.readOnly;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=e.placeholder?e.placeholder:t.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=void 0!==e.preserveBlank&&e.preserveBlank,this.data=i}return r(t,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(t,[{key:"onKeyUp",value:function(t){"Backspace"!==t.code&&"Delete"!==t.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable=!1,t.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(t.contentEditable=!0,t.addEventListener("keyup",this.onKeyUp)),t}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(t){this.data={text:this.data.text+t.text}}},{key:"validate",value:function(t){return!(""===t.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(t){return{text:t.innerHTML}}},{key:"onPaste",value:function(t){this.data={text:t.detail.data.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data},set:function(t){this._data=t||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:i(5).default,title:"Text"}}}]),t}();t.exports=o},function(t,n,i){var e=i(2),r=i(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,n,i){var e,r=function(){var t={};return function(n){if(void 0===t[n]){var i=document.querySelector(n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[n]=i}return t[n]}}(),o=[];function s(t){for(var n=-1,i=0;i<o.length;i++)if(o[i].identifier===t){n=i;break}return n}function u(t,n){for(var i={},e=[],r=0;r<t.length;r++){var u=t[r],a=n.base?u[0]+n.base:u[0],c=i[a]||0,h="".concat(a," ").concat(c);i[a]=c+1;var f=s(h),l={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,n),references:1}),e.push(h)}return e}function a(t){var n=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=i.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(n);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var c,h=(c=[],function(t,n){return c[t]=n,c.filter(Boolean).join("\n")});function f(t,n,i,e){var r=i?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(n,r);else{var o=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(o,s[n]):t.appendChild(o)}}function l(t,n,i){var e=i.css,r=i.media,o=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,n){var i,e,r;if(n.singleton){var o=v++;i=d||(d=a(n)),e=f.bind(null,i,o,!1),r=f.bind(null,i,o,!0)}else i=a(n),e=l.bind(null,i,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var i=u(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<i.length;e++){var r=s(i[e]);o[r].references--}for(var a=u(t,n),c=0;c<i.length;c++){var h=s(i[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}i=a}}}},function(t,n,i){(n=i(4)(!1)).push([t.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i=function(t,n){var i,e,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var s=(i=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(e," */")),u=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([s]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(i,"}"):i})).join("")},n.i=function(t,i,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var u=0;u<t.length;u++){var a=[].concat(t[u]);e&&r[a[0]]||(i&&(a[2]=a[2]?"".concat(i," and ").concat(a[2]):i),n.push(a))}},n}},function(t,n,i){i.r(n),n.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">\n  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>\n</svg>\n'}])},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(){(0,r.default)(this,t),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(s.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(){document.execCommand(this.commandName)}},{key:"checkState",value:function(){var t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),t}();e.default=a,a.displayName="BoldInlineTool",a.isInline=!0,a.title="Bold",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(){(0,r.default)(this,t),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(s.default.svg("italic",4,11)),this.nodes.button}},{key:"surround",value:function(){document.execCommand(this.commandName)}},{key:"checkState",value:function(){var t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),t}();e.default=a,a.displayName="ItalicInlineTool",a.isInline=!0,a.title="Italic",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(25),i(15),i(7)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a){var c=i(8),h=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),s=h(s),u=h(u),a=c(a);var f=function(){function t(n){var i=n.api;(0,r.default)(this,t),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=i.toolbar,this.inlineToolbar=i.inlineToolbar,this.notifier=i.notifier,this.i18n=i.i18n,this.selection=new s.default}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(u.default.svg("link",14,10)),this.nodes.button.appendChild(u.default.svg("unlink",15,11)),this.nodes.button}},{key:"renderActions",value:function(){var t=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(function(n){n.keyCode===t.ENTER_KEY&&t.enterPressed(n)})),this.nodes.input}},{key:"surround",value:function(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var n=this.selection.findParentTag("A");if(n)return this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(){var t=this.selection.findParentTag("A");if(t){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var n=t.getAttribute("href");this.nodes.input.value="null"!==n?n:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.selection.isFakeBackgroundEnabled){var n=new s.default;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(t){var n=this.nodes.input.value||"";return n.trim()?this.validateURL(n)?(n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void a.log("Incorrect Link pasted","warn",n)):(this.selection.restore(),this.unlink(),t.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(t){return!/\s/.test(t)}},{key:"prepareLink",value:function(t){return t=t.trim(),this.addProtocol(t)}},{key:"addProtocol",value:function(t){if(/^(\w+):(\/\/)?/.test(t))return t;var n=/^\/[^/\s]/.test(t),i="#"===t.substring(0,1),e=/^\/\/[^/\s]/.test(t);return n||i||e||(t="http://"+t),t}},{key:"insertLink",value:function(t){var n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,t)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),t}();e.default=f,f.displayName="LinkInlineTool",f.isInline=!0,f.title="Link",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(n){var i=n.data,e=n.api;(0,r.default)(this,t),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=e,this.title=i.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=i.savedData,this.wrapper=this.make()}return(0,o.default)(t,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var t=s.default.make("div",this.CSS.wrapper),n=s.default.svg("sad-face",52,52),i=s.default.make("div",this.CSS.info),e=s.default.make("div",this.CSS.title,{textContent:this.title}),r=s.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.appendChild(n),i.appendChild(e),i.appendChild(r),t.appendChild(i),t}}]),t}();e.default=a,a.displayName="Stub",a.isReadOnlySupported=!0,t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(67),i(388),i(389),i(390)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=h(r),o=h(o),u=h(u),a=h(a),c=h(c);var f=function(){function t(n,i,e){(0,r.default)(this,t),this.api=e,this.config=n,this.editorConfig=i}return(0,o.default)(t,[{key:"get",value:function(t){var n=this.config[t],i=n.class,e=n.isInternal,r=void 0!==e&&e,o=function(t,n){var i={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(i[e]=t[e]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(i[e[r]]=t[e[r]])}return i}(n,["class","isInternal"]);return new(this.getConstructor(i))({name:t,constructable:i,config:o,api:this.api,isDefault:t===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}},{key:"getConstructor",value:function(t){switch(!0){case t[s.InternalInlineToolSettings.IsInline]:return u.default;case t[s.InternalTuneSettings.IsTune]:return a.default;default:return c.default}}}]),t}();e.default=f,f.displayName="ToolsFactory",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(67)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(8),f=i(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),u=f(u),a=f(a);var d=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(l()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=i.apply(this,arguments)).type=c.ToolType.Inline,t}return(0,o.default)(e,[{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"title",get:function(){return this.constructable[c.InternalInlineToolSettings.Title]}}]),e}((c=h(c)).default);e.default=d,d.displayName="InlineTool",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(5),i(6),i(4),i(67)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c){var h=i(8),f=i(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=f(r),o=f(o),s=f(s),u=f(u),a=f(a);var d=function(t){(0,s.default)(e,t);var n,i=(n=e,function(){var t,i=(0,a.default)(n);if(l()){var e=(0,a.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,u.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=i.apply(this,arguments)).type=c.ToolType.Tune,t}return(0,o.default)(e,[{key:"create",value:function(t,n){return new this.constructable({api:this.api.getMethodsForTool(this),settings:this.settings,block:n,data:t})}}]),e}((c=h(c)).default);e.default=d,d.displayName="BlockTune",t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(391),i(5),i(6),i(4),i(80),i(67),i(7),i(181)],void 0===(o="function"==typeof(e=function(e,r,o,s,u,a,c,h,f,l,d){var v=i(8),p=i(1);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=p(r),o=p(o),s=p(s),u=p(u),a=p(a),c=p(c),h=p(h),f=v(f),l=v(l),d=p(d);var b=function(t,n,i,e){var r,o=arguments.length,s=o<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,i):e;if("object"===("undefined"==typeof Reflect?"undefined":(0,h.default)(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,i,e);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(n,i,s):r(n,i))||s);return o>3&&s&&Object.defineProperty(n,i,s),s},g=function(t){(0,u.default)(e,t);var n,i=(n=e,function(){var t,i=(0,c.default)(n);if(m()){var e=(0,c.default)(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return(0,a.default)(this,t)});function e(){var t;return(0,r.default)(this,e),(t=i.apply(this,arguments)).type=f.ToolType.Block,t.inlineTools=new d.default,t.tunes=new d.default,t}return(0,o.default)(e,[{key:"create",value:function(t,n,i){return new this.constructable({data:t,block:n,readOnly:i,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return!0===this.constructable[f.InternalBlockToolSettings.IsReadOnlySupported]}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[f.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var t=this.constructable[f.InternalBlockToolSettings.Toolbox],n=this.config[f.UserSettings.Toolbox];if(!l.isEmpty(t)&&!1!==(null!=n?n:t))return Object.assign({},t,n)}},{key:"conversionConfig",get:function(){return this.constructable[f.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[f.UserSettings.EnabledInlineTools]||!1}},{key:"enabledBlockTunes",get:function(){return this.config[f.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[f.InternalBlockToolSettings.PasteConfig]||{}}},{key:"sanitizeConfig",get:function(){var t=(0,s.default)((0,c.default)(e.prototype),"sanitizeConfig",this),n=this.baseSanitizeConfig;if(l.isEmpty(t))return n;var i={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];i[r]=l.isObject(o)?Object.assign({},n,o):o}return i}},{key:"baseSanitizeConfig",get:function(){var t={};return Array.from(this.inlineTools.values()).forEach((function(n){return Object.assign(t,n.sanitizeConfig)})),t}}]),e}(f.default);e.default=g,g.displayName="BlockTool",b([l.cacheable],g.prototype,"sanitizeConfig",null),b([l.cacheable],g.prototype,"baseSanitizeConfig",null),t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e=i(392);function r(n,i,o){return t.exports=r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=e(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(i):o.value}},r(n,i,o||n)}t.exports=r},function(t,n,i){var e=i(4);t.exports=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=e(t)););return t}},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(n){var i=n.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=i}return(0,o.default)(t,[{key:"render",value:function(){var t=this,n=s.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return n.appendChild(s.default.svg("arrow-down",14,14)),this.api.listeners.on(n,"click",(function(i){return t.handleClick(i,n)}),!1),this.api.tooltip.onHover(n,this.api.i18n.t("Move down")),n}},{key:"handleClick",value:function(t,n){var i=this,e=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(e+1);if(!r)return n.classList.add(this.CSS.animation),void window.setTimeout((function(){n.classList.remove(i.CSS.animation)}),500);var o=r.holder,s=o.getBoundingClientRect(),u=Math.abs(window.innerHeight-o.offsetHeight);s.top<window.innerHeight&&(u=window.scrollY+o.offsetHeight),window.scrollTo(0,u),this.api.blocks.move(e+1),this.api.tooltip.hide()}}]),t}();e.default=a,a.displayName="MoveDownTune",a.isTune=!0,t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(n){var i=this,e=n.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=e,this.resetConfirmation=function(){i.setConfirmation(!1)}}return(0,o.default)(t,[{key:"render",value:function(){var t=this;return this.nodes.button=s.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(s.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",(function(n){return t.handleClick(n)}),!1),this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete")),this.nodes.button}},{key:"handleClick",value:function(t){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),this.api.tooltip.hide(),t.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(t){this.needConfirmation=t,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),t}();e.default=a,a.displayName="DeleteTune",a.isTune=!0,t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){var e,r,o;r=[n,i(2),i(3),i(15)],void 0===(o="function"==typeof(e=function(e,r,o,s){var u=i(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r=u(r),o=u(o),s=u(s);var a=function(){function t(n){var i=n.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=i}return(0,o.default)(t,[{key:"render",value:function(){var t=this,n=s.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return n.appendChild(s.default.svg("arrow-up",14,14)),this.api.listeners.on(n,"click",(function(i){return t.handleClick(i,n)}),!1),this.api.tooltip.onHover(n,this.api.i18n.t("Move up")),n}},{key:"handleClick",value:function(t,n){var i=this,e=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(e),o=this.api.blocks.getBlockByIndex(e-1);if(0===e||!r||!o)return n.classList.add(this.CSS.animation),void window.setTimeout((function(){n.classList.remove(i.CSS.animation)}),500);var s,u=o.holder,a=r.holder.getBoundingClientRect(),c=u.getBoundingClientRect();s=c.top>0?Math.abs(a.top)-Math.abs(c.top):window.innerHeight-Math.abs(a.top)+Math.abs(c.top),window.scrollBy(0,-1*s),this.api.blocks.move(e-1),this.api.tooltip.hide()}}]),t}();e.default=a,a.displayName="MoveUpTune",a.isTune=!0,t.exports=n.default})?e.apply(n,r):e)||(t.exports=o)},function(t,n,i){i.r(n),n.default='<?xml version="1.0" encoding="utf-8"?>\n<svg xmlns="http://www.w3.org/2000/svg">\n<symbol id="arrow-down" viewBox="0 0 14 14">\n  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="arrow-up" viewBox="0 0 14 14">\n    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>\n</symbol>\n<symbol id="cross" viewBox="0 0 237 237">\n  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>\n\n</symbol>\n<symbol id="dots" viewBox="0 0 8 8">\n  <circle cx="6.5" cy="1.5" r="1.5"/>\n  <circle cx="6.5" cy="6.5" r="1.5"/>\n  <circle cx="1.5" cy="1.5" r="1.5"/>\n  <circle cx="1.5" cy="6.5" r="1.5"/>\n\n</symbol>\n<symbol id="italic" viewBox="0 0 4 11">\n    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>\n\n</symbol>\n<symbol id="link" viewBox="0 0 14 10">\n  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>\n\n</symbol>\n<symbol id="plus" viewBox="0 0 14 14">\n    <path d="M8.05 5.8h4.625a1.125 1.125 0 0 1 0 2.25H8.05v4.625a1.125 1.125 0 0 1-2.25 0V8.05H1.125a1.125 1.125 0 0 1 0-2.25H5.8V1.125a1.125 1.125 0 0 1 2.25 0V5.8z"/>\n\n</symbol>\n<symbol id="sad-face" viewBox="0 0 52 52">\n    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>\n\n</symbol>\n<symbol id="toggler-down">\n  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>\n\n</symbol>\n<symbol id="unlink" viewBox="0 0 15 11">\n  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>\n\n</symbol></svg>'},function(t){t.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:650px){.ce-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}@media (max-width:650px){.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:650px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:650px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:calc(100% - 35px)}}.ce-toolbar__plus{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;left:-34px;-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{color:#388ae5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}.ce-toolbar__plus--hidden{display:none}@media (max-width:650px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar .ce-toolbox,.ce-toolbar__plus{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ce-toolbar__actions{position:absolute;right:-30px;top:5px;opacity:0}@media (max-width:650px){.ce-toolbar__actions{position:absolute;right:-28px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:18px;height:18px;color:#707684;cursor:pointer;background:#eff2f5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn:hover{color:#1d202b}@media (max-width:650px){.ce-toolbar__settings-btn{background:transparent}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:650px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0}.ce-toolbox__button--active,.ce-toolbox__button:hover{color:#388ae5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox-button-tooltip__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-settings{right:-1px;top:30px;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:-11px;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-34px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-34px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}'},function(t,n,i){i.r(n),i.d(n,"nanoid",(function(){return u})),i.d(n,"customAlphabet",(function(){return s})),i.d(n,"customRandom",(function(){return o})),i.d(n,"urlAlphabet",(function(){return e})),i.d(n,"random",(function(){return r}));let e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",r=t=>crypto.getRandomValues(new Uint8Array(t)),o=(t,n,i)=>{let e=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*e*n/t.length);return()=>{let o="";for(;;){let s=i(r),u=r;for(;u--;)if(o+=t[s[u]&e]||"",o.length===n)return o}}},s=(t,n)=>o(t,n,r),u=(t=21)=>{let n="",i=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let e=63&i[t];n+=e<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e<63?"_":"-"}return n}}])}))),we=rn(on((function(t){window,t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/",i(i.s=25)}([function(t){function n(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}},function(t){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t){t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=3)}([function(t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,n,i){(function(t){var e=i(2),r=setTimeout;function o(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function u(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn((function(){var i=1===t._state?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t._value)}catch(t){return void c(n.promise,t)}a(n.promise,e)}else(1===t._state?a:c)(n.promise,t._value)}))):t._deferreds.push(n)}function a(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof s)return t._state=3,t._value=n,void h(t);if("function"==typeof i)return void l((e=i,r=n,function(){e.apply(r,arguments)}),t)}t._state=1,t._value=n,h(t)}catch(n){c(t,n)}var e,r}function c(t,n){t._state=2,t._value=n,h(t)}function h(t){2===t._state&&0===t._deferreds.length&&s._immediateFn((function(){t._handled||s._unhandledRejectionFn(t._value)}));for(var n=0,i=t._deferreds.length;n<i;n++)u(t,t._deferreds[n]);t._deferreds=null}function f(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function l(t,n){var i=!1;try{t((function(t){i||(i=!0,a(n,t))}),(function(t){i||(i=!0,c(n,t))}))}catch(t){if(i)return;i=!0,c(n,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,n){var i=new this.constructor(o);return u(this,new f(t,n,i)),i},s.prototype.finally=e.a,s.all=function(t){return new s((function(n,i){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,(function(n){o(t,n)}),i)}e[t]=s,0==--r&&n(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)o(s,e[s])}))},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s((function(n){n(t)}))},s.reject=function(t){return new s((function(n,i){i(t)}))},s.race=function(t){return new s((function(n,i){for(var e=0,r=t.length;e<r;e++)t[e].then(n,i)}))},s._immediateFn="function"==typeof t&&function(n){t(n)}||function(t){r(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n.a=s}).call(this,i(5).setImmediate)},function(t,n){n.a=function(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}},function(t,n,i){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i(4);var r,o,s,u,a,c,h,f=i(8),l=(o=function(t){return new Promise((function(n,i){t=u(t),(t=a(t)).beforeSend&&t.beforeSend();var e=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");e.open(t.method,t.url),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(t.headers).forEach((function(n){e.setRequestHeader(n,t.headers[n])}));var r=t.ratio;e.upload.addEventListener("progress",(function(n){var i=Math.round(n.loaded/n.total*100),e=Math.ceil(i*r/100);t.progress(Math.min(e,100))}),!1),e.addEventListener("progress",(function(n){var i=Math.round(n.loaded/n.total*100),e=Math.ceil(i*(100-r)/100)+r;t.progress(Math.min(e,100))}),!1),e.onreadystatechange=function(){if(4===e.readyState){var t=e.response;try{t=JSON.parse(t)}catch(t){}var r=f.parseHeaders(e.getAllResponseHeaders()),o={body:t,code:e.status,headers:r};h(e.status)?n(o):i(o)}},e.send(t.data)}))},s=function(t){return t.method="POST",o(t)},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.url&&"string"!=typeof t.url)throw new Error("Url must be a string");if(t.url=t.url||"",t.method&&"string"!=typeof t.method)throw new Error("`method` must be a string or null");if(t.method=t.method?t.method.toUpperCase():"GET",t.headers&&"object"!==e(t.headers))throw new Error("`headers` must be an object or null");if(t.headers=t.headers||{},t.type&&("string"!=typeof t.type||!Object.values(r).includes(t.type)))throw new Error("`type` must be taken from module's contentType library");if(t.progress&&"function"!=typeof t.progress)throw new Error("`progress` must be a function or null");if(t.progress=t.progress||function(){},t.beforeSend=t.beforeSend||function(){},t.ratio&&"number"!=typeof t.ratio)throw new Error("`ratio` must be a number");if(t.ratio<0||t.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(t.ratio=t.ratio||90,t.accept&&"string"!=typeof t.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(t.accept=t.accept||"*/*",t.multiple&&"boolean"!=typeof t.multiple)throw new Error("`multiple` must be a true or false");if(t.multiple=t.multiple||!1,t.fieldName&&"string"!=typeof t.fieldName)throw new Error("`fieldName` must be a string");return t.fieldName=t.fieldName||"files",t},a=function(t){switch(t.method){case"GET":var n=c(t.data,r.URLENCODED);delete t.data,t.url=/\?/.test(t.url)?t.url+"&"+n:t.url+"?"+n;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var i=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||r.JSON}(t);(f.isFormData(t.data)||f.isFormElement(t.data))&&(i=r.FORM),t.data=c(t.data,i),i!==l.contentType.FORM&&(t.headers["content-type"]=i)}return t},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case r.URLENCODED:return f.urlEncode(t);case r.JSON:return f.jsonEncode(t);case r.FORM:return f.formEncode(t);default:return t}},h=function(t){return t>=200&&t<300},{contentType:r={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:o,get:function(t){return t.method="GET",o(t)},post:s,transport:function(t){return t=u(t),f.selectFiles(t).then((function(n){for(var i=new FormData,e=0;e<n.length;e++)i.append(t.fieldName,n[e],n[e].name);f.isObject(t.data)&&Object.keys(t.data).forEach((function(n){i.append(n,t.data[n])}));var r=t.beforeSend;return t.beforeSend=function(){return r(n)},t.data=i,s(t)}))},selectFiles:function(t){return delete(t=u(t)).beforeSend,f.selectFiles(t)}});t.exports=l},function(t,n,i){i.r(n);var e=i(1);window.Promise=window.Promise||e.a},function(t,n,i){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,n){this._id=t,this._clearFn=n}n.setTimeout=function(){return new o(r.call(setTimeout,e,arguments),clearTimeout)},n.setInterval=function(){return new o(r.call(setInterval,e,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(e,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),n))},i(6),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(t,n,i){(function(t,n){!function(t){if(!t.setImmediate){var i,e,r,o,s,u=1,a={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){n.nextTick((function(){d(t)}))}:function(){if(t.postMessage&&!t.importScripts){var n=!0,i=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=i,n}}()?(o="setImmediate$"+Math.random()+"$",s=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(o)&&d(+n.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(n){t.postMessage(o+n,"*")}):t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){d(t.data)},i=function(t){r.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(e=h.documentElement,i=function(t){var n=h.createElement("script");n.onreadystatechange=function(){d(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}):i=function(t){setTimeout(d,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];return a[u]={callback:t,args:n},i(u),u++},f.clearImmediate=l}function l(t){delete a[t]}function d(t){if(c)setTimeout(d,0,t);else{var n=a[t];if(n){c=!0;try{!function(t){var n=t.callback,i=t.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(void 0,i)}}(n)}finally{l(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(0),i(7))},function(t){var n,i,e=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(i){try{return n.call(null,t,0)}catch(i){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var u,a=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?a=u.concat(a):h=-1,a.length&&l())}function l(){if(!c){var t=s(f);c=!0;for(var n=a.length;n;){for(u=a,a=[];++h<n;)u&&u[h].run();h=-1,n=a.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(n){try{return i.call(null,t)}catch(n){return i.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function v(){}e.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];a.push(new d(t,n)),1!==a.length||c||s(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(){return[]},e.binding=function(){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(t,n,i){var e=i(9);t.exports=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n;return(n=[{key:"urlEncode",value:function(t){return e(t)}},{key:"jsonEncode",value:function(t){return JSON.stringify(t)}},{key:"formEncode",value:function(t){if(this.isFormData(t))return t;if(this.isFormElement(t))return new FormData(t);if(this.isObject(t)){var n=new FormData;return Object.keys(t).forEach((function(i){n.append(i,t[i])})),n}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(t){return"[object Object]"===Object.prototype.toString.call(t)}},{key:"isFormData",value:function(t){return t instanceof FormData}},{key:"isFormElement",value:function(t){return t instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n){var i=document.createElement("INPUT");i.type="file",t.multiple&&i.setAttribute("multiple","multiple"),t.accept&&i.setAttribute("accept",t.accept),i.style.display="none",document.body.appendChild(i),i.addEventListener("change",(function(t){n(t.target.files),document.body.removeChild(i)}),!1),i.click()}))}},{key:"parseHeaders",value:function(t){var n=t.trim().split(/[\r\n]+/),i={};return n.forEach((function(t){var n=t.split(": "),e=n.shift(),r=n.join(": ");e&&(i[e]=r)})),i}}])&&function(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(t,n),t}()},function(t){var n=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(t,e,r,o){return e=e||null,r=r||"&",o=o||null,t?function(t){for(var n=new Array,i=0;i<t.length;i++)t[i]&&n.push(t[i]);return n}(Object.keys(t).map((function(s){var u,a,c=s;if(o&&(c=o+"["+c+"]"),"object"==typeof t[s]&&null!==t[s])u=i(t[s],null,r,c);else{e&&(a=c,c=!isNaN(parseFloat(a))&&isFinite(a)?e+Number(c):c);var h=t[s];h=(h=0===(h=!1===(h=!0===h?"1":h)?"0":h)?"0":h)||"",u=n(c)+"="+n(h)}return u}))).join(r).replace(/[!'()*]/g,""):""};t.exports=i}])},function(t,n,i){t.exports=i(14)},function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}},function(t,n,i){var e=i(4);t.exports=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}},function(t){function n(t,n,i,e,r,o,s){try{var u=t[o](s),a=u.value}catch(t){return void i(t)}u.done?n(a):Promise.resolve(a).then(e,r)}t.exports=function(t){return function(){var i=this,e=arguments;return new Promise((function(r,o){var s=t.apply(i,e);function u(t){n(s,r,o,u,a,"next",t)}function a(t){n(s,r,o,u,a,"throw",t)}u(void 0)}))}}},function(t,n,i){var e=i(19),r=i(20),o=i(5),s=i(21);t.exports=function(t){return e(t)||r(t)||o(t)||s()}},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(t){t.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(t){t.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(t,n,i){var e=i(22),r=i(23),o=i(5),s=i(24);t.exports=function(t,n){return e(t)||r(t,n)||o(t,n)||s()}},function(t){var n=function(t){var n=Object.prototype,i=n.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function u(t,n,i,e){var r=Object.create((n&&n.prototype instanceof h?n:h).prototype),o=new k(e||[]);return r._invoke=function(t,n,i){var e="suspendedStart";return function(r,o){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===r)throw o;return{value:void 0,done:!0}}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var u=y(s,i);if(u){if(u===c)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===e)throw e="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e="executing";var h=a(t,n,i);if("normal"===h.type){if(e=i.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e="completed",i.method="throw",i.arg=h.arg)}}}(t,i,o),r}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function h(){}function f(){}function l(){}var d={};d[r]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(_([])));p&&p!==n&&i.call(p,r)&&(d=p);var m=l.prototype=h.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function g(t,n){var e;this._invoke=function(r,o){function s(){return new n((function(e,s){!function e(r,o,s,u){var c=a(t[r],t,o);if("throw"!==c.type){var h=c.arg,f=h.value;return f&&"object"==typeof f&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){e("next",t,s,u)}),(function(t){e("throw",t,s,u)})):n.resolve(f).then((function(t){h.value=t,s(h)}),(function(t){return e("throw",t,s,u)}))}u(c.arg)}(r,o,e,s)}))}return e=e?e.then(s,s):s()}}function y(t,n){var i=t.iterator[n.method];if(void 0===i){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,y(t,n),"throw"===n.method))return c;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var e=a(i,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,c;var r=e.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,c):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,c)}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function x(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function n(){for(;++e<t.length;)if(i.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=m.constructor=l,l.constructor=f,l[s]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===f||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(g.prototype),g.prototype[o]=function(){return this},t.AsyncIterator=g,t.async=function(n,i,e,r,o){void 0===o&&(o=Promise);var s=new g(u(n,i,e,r),o);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(m),m[s]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=_,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(i,e){return s.type="throw",s.arg=t,n.next=i,e&&(n.method="next",n.arg=void 0),!!e}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),a=i.call(o,"finallyLoc");if(u&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=n,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),c},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),x(i),c}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;x(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:_(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,n,i){var e=i(16),r=i(17);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o=(e(r,{insert:"head",singleton:!1}),r.locals?r.locals:{});t.exports=o},function(t,n,i){var e,r=function(){var t={};return function(n){if(void 0===t[n]){var i=document.querySelector(n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[n]=i}return t[n]}}(),o=[];function s(t){for(var n=-1,i=0;i<o.length;i++)if(o[i].identifier===t){n=i;break}return n}function u(t,n){for(var i={},e=[],r=0;r<t.length;r++){var u=t[r],a=n.base?u[0]+n.base:u[0],c=i[a]||0,h="".concat(a," ").concat(c);i[a]=c+1;var f=s(h),l={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,n),references:1}),e.push(h)}return e}function a(t){var n=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=i.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(n);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var c,h=(c=[],function(t,n){return c[t]=n,c.filter(Boolean).join("\n")});function f(t,n,i,e){var r=i?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(n,r);else{var o=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(o,s[n]):t.appendChild(o)}}function l(t,n,i){var e=i.css,r=i.media,o=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,n){var i,e,r;if(n.singleton){var o=v++;i=d||(d=a(n)),e=f.bind(null,i,o,!1),r=f.bind(null,i,o,!0)}else i=a(n),e=l.bind(null,i,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var i=u(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<i.length;e++){var r=s(i[e]);o[r].references--}for(var a=u(t,n),c=0;c<i.length;c++){var h=s(i[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}i=a}}}},function(t,n,i){(n=i(18)(!1)).push([t.i,'.image-tool {\n  --bg-color: #cdd1e0;\n  --front-color: #388ae5;\n  --border-color: #e8e8eb;\n}\n\n  .image-tool__image {\n    border-radius: 3px;\n    overflow: hidden;\n    margin-bottom: 10px;\n  }\n\n  .image-tool__image-picture {\n      max-width: 100%;\n      vertical-align: bottom;\n      display: block;\n    }\n\n  .image-tool__image-preloader {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      background-size: cover;\n      margin: auto;\n      position: relative;\n      background-color: var(--bg-color);\n      background-position: center center;\n    }\n\n  .image-tool__image-preloader::after {\n        content: "";\n        position: absolute;\n        z-index: 3;\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        border: 2px solid var(--bg-color);\n        border-top-color: var(--front-color);\n        left: 50%;\n        top: 50%;\n        margin-top: -30px;\n        margin-left: -30px;\n        animation: image-preloader-spin 2s infinite linear;\n        box-sizing: border-box;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]::before {\n      position: absolute !important;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      display: none;\n    }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {\n        display: block;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {\n        display: none;\n      }\n\n  .image-tool--empty .image-tool__image {\n      display: none;\n    }\n\n  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {\n      display: none;\n    }\n\n  .image-tool--filled .cdx-button {\n      display: none;\n    }\n\n  .image-tool--filled .image-tool__image-preloader {\n        display: none;\n      }\n\n  .image-tool--loading .image-tool__image {\n      min-height: 200px;\n      display: flex;\n      border: 1px solid var(--border-color);\n      background-color: #fff;\n    }\n\n  .image-tool--loading .image-tool__image-picture {\n        display: none;\n      }\n\n  .image-tool--loading .cdx-button {\n      display: none;\n    }\n\n  /**\n   * Tunes\n   * ----------------\n   */\n\n  .image-tool--withBorder .image-tool__image {\n      border: 1px solid var(--border-color);\n    }\n\n  .image-tool--withBackground .image-tool__image {\n      padding: 15px;\n      background: var(--bg-color);\n    }\n\n  .image-tool--withBackground .image-tool__image-picture {\n        max-width: 60%;\n        margin: 0 auto;\n      }\n\n  .image-tool--stretched .image-tool__image-picture {\n        width: 100%;\n      }\n\n@keyframes image-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n',""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i=function(t,n){var i,e,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var s=(i=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(e," */")),u=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([s]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(i,"}"):i})).join("")},n.i=function(t,i,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var u=0;u<t.length;u++){var a=[].concat(t[u]);e&&r[a[0]]||(i&&(a[2]=a[2]?"".concat(i," and ").concat(a[2]):i),n.push(a))}},n}},function(t,n,i){var e=i(4);t.exports=function(t){if(Array.isArray(t))return e(t)}},function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],e=!0,r=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(e=(s=u.next()).done)&&(i.push(s.value),!n||i.length!==n);e=!0);}catch(t){r=!0,o=t}finally{try{e||null==u.return||u.return()}finally{if(r)throw o}}return i}}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,n,i){i.r(n),i.d(n,"default",(function(){return R}));var e=i(3),r=i.n(e),o=i(6),s=i.n(o),u=i(1),a=i.n(u),c=i(0),h=i.n(c),f=(i(15),i(7)),l=i.n(f),d=i(8),v=i.n(d),p=function(){function t(n){var i=n.api,e=n.config,r=n.onSelectFile,o=n.readOnly;a()(this,t),this.api=i,this.config=e,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:m("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:m("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:m("div",this.CSS.imagePreloader),caption:m("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(t,[{key:"render",value:function(n){return n.file&&0!==Object.keys(n.file).length?this.toggleStatus(t.status.UPLOADING):this.toggleStatus(t.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var t=this,n=m("div",[this.CSS.button]);return n.innerHTML=this.config.buttonContent||"".concat(v.a," ").concat(this.api.i18n.t("Select an Image")),n.addEventListener("click",(function(){t.onSelectFile()})),n}},{key:"showPreloader",value:function(n){this.nodes.imagePreloader.style.backgroundImage="url(".concat(n,")"),this.toggleStatus(t.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(t.status.EMPTY)}},{key:"fillImage",value:function(n){var i=this,e=/\.mp4$/.test(n)?"VIDEO":"IMG",r={src:n},o="load";"VIDEO"===e&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,o="loadeddata"),this.nodes.imageEl=m(e,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(o,(function(){i.toggleStatus(t.status.FILLED),i.nodes.imagePreloader&&(i.nodes.imagePreloader.style.backgroundImage="")})),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(t){this.nodes.caption&&(this.nodes.caption.innerHTML=t)}},{key:"toggleStatus",value:function(n){for(var i in t.status)Object.prototype.hasOwnProperty.call(t.status,i)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(t.status[i]),n===t.status[i])}},{key:"applyTune",value:function(t,n){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(t),n)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),t}(),m=function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(t);for(var o in Array.isArray(i)?(n=r.classList).add.apply(n,l()(i)):i&&r.classList.add(i),e)r[o]=e[o];return r},b=i(9),g=i.n(b),y=i(10),w=i.n(y),x=i(11),k=i.n(x),_=function(){function t(n){var i=n.api,e=n.actions,r=n.onChange;a()(this,t),this.api=i,this.actions=e,this.onChange=r,this.buttons=[]}return h()(t,[{key:"render",value:function(n){var i=this,e=m("div",this.CSS.wrapper);return this.buttons=[],t.tunes.concat(this.actions).forEach((function(t){var r=i.api.i18n.t(t.title),o=m("div",[i.CSS.buttonBase,i.CSS.button],{innerHTML:t.icon,title:r});o.addEventListener("click",(function(){i.tuneClicked(t.name,t.action)})),o.dataset.tune=t.name,o.classList.toggle(i.CSS.buttonActive,n[t.name]),i.buttons.push(o),i.api.tooltip.onHover(o,r,{placement:"top"}),e.appendChild(o)})),e}},{key:"tuneClicked",value:function(t,n){if("function"==typeof n&&!n(t))return!1;var i=this.buttons.find((function(n){return n.dataset.tune===t}));i.classList.toggle(this.CSS.buttonActive,!i.classList.contains(this.CSS.buttonActive)),this.onChange(t)}},{key:"CSS",get:function(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}}],[{key:"tunes",get:function(){return[{name:"withBorder",icon:w.a,title:"With border"},{name:"stretched",icon:k.a,title:"Stretch image"},{name:"withBackground",icon:g.a,title:"With background"}]}}]),t}(),A=i(12),S=i.n(A),E=i(13),O=i.n(E),M=i(2),C=i.n(M),T=function(){function t(n){var i=n.config,e=n.onUpload,r=n.onError;a()(this,t),this.config=i,this.onUpload=e,this.onError=r}return h()(t,[{key:"uploadSelectedFile",value:function(t){var n=this,i=t.onPreview,e=function(t){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){i(t.target.result)}};(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile?C.a.selectFiles({accept:this.config.types}).then((function(t){e(t[0]);var i=n.config.uploader.uploadByFile(t[0]);return j(i)||console.warn("Custom uploader method uploadByFile should return a Promise"),i})):C.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(t){e(t[0])},fieldName:this.config.field}).then((function(t){return t.body}))).then((function(t){n.onUpload(t)})).catch((function(t){n.onError(t)}))}},{key:"uploadByUrl",value:function(t){var n,i=this;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?j(n=this.config.uploader.uploadByUrl(t))||console.warn("Custom uploader method uploadByUrl should return a Promise"):n=C.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:t},this.config.additionalRequestData),type:C.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(t){return t.body})),n.then((function(t){i.onUpload(t)})).catch((function(t){i.onError(t)}))}},{key:"uploadByFile",value:function(t,n){var i,e=this,r=n.onPreview,o=new FileReader;if(o.readAsDataURL(t),o.onload=function(t){r(t.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)j(i=this.config.uploader.uploadByFile(t))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var s=new FormData;s.append(this.config.field,t),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach((function(t){var n=O()(t,2);s.append(n[0],n[1])})),i=C.a.post({url:this.config.endpoints.byFile,data:s,type:C.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(t){return t.body}))}i.then((function(t){e.onUpload(t)})).catch((function(t){e.onError(t)}))}}]),t}();function j(t){return Promise.resolve(t)===t}
/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */var R=function(){function t(n){var i=this,e=n.data,r=n.config,o=n.api,s=n.readOnly;a()(this,t),this.api=o,this.readOnly=s,this.config={endpoints:r.endpoints||"",additionalRequestData:r.additionalRequestData||{},additionalRequestHeaders:r.additionalRequestHeaders||{},field:r.field||"image",types:r.types||"image/*",captionPlaceholder:this.api.i18n.t(r.captionPlaceholder||"Caption"),buttonContent:r.buttonContent||"",uploader:r.uploader||void 0,actions:r.actions||[]},this.uploader=new T({config:this.config,onUpload:function(t){return i.onUpload(t)},onError:function(t){return i.uploadingFailed(t)}}),this.ui=new p({api:o,config:this.config,onSelectFile:function(){i.uploader.uploadSelectedFile({onPreview:function(t){i.ui.showPreloader(t)}})},readOnly:s}),this.tunes=new _({api:o,actions:this.config.actions,onChange:function(t){return i.tuneToggled(t)}}),this._data={},this.data=e}var n;return h()(t,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:S.a,title:"Image"}}}]),h()(t,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"save",value:function(){return this._data.caption=this.ui.nodes.caption.innerHTML,this.data}},{key:"renderSettings",value:function(){return this.tunes.render(this.data)}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(n=s()(r.a.mark((function t(n){var i,e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.type,t.next="tag"===t.t0?3:"pattern"===t.t0?15:"file"===t.t0?18:21;break;case 3:if(!/^blob:/.test((i=n.detail.data).src)){t.next=13;break}return t.next=7,fetch(i.src);case 7:return e=t.sent,t.next=10,e.blob();case 10:return this.uploadFile(t.sent),t.abrupt("break",21);case 13:return this.uploadUrl(i.src),t.abrupt("break",21);case 15:return this.uploadUrl(n.detail.data),t.abrupt("break",21);case 18:return this.uploadFile(n.detail.file),t.abrupt("break",21);case 21:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"onUpload",value:function(t){t.success&&t.file?this.image=t.file:this.uploadingFailed("incorrect response: "+JSON.stringify(t))}},{key:"uploadingFailed",value:function(t){console.log("Image Tool: uploading failed because of",t),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(t){this.setTune(t,!this._data[t])}},{key:"setTune",value:function(t,n){var i=this;this._data[t]=n,this.ui.applyTune(t,n),"stretched"===t&&Promise.resolve().then((function(){var t=i.api.blocks.getCurrentBlockIndex();i.api.blocks.stretchBlock(t,n)})).catch((function(t){console.error(t)}))}},{key:"uploadFile",value:function(t){var n=this;this.uploader.uploadByFile(t,{onPreview:function(t){n.ui.showPreloader(t)}})}},{key:"uploadUrl",value:function(t){this.ui.showPreloader(t),this.uploader.uploadByUrl(t)}},{key:"data",set:function(t){var n=this;this.image=t.file,this._data.caption=t.caption||"",this.ui.fillCaption(this._data.caption),_.tunes.forEach((function(i){var e=i.name;n.setTune(e,void 0!==t[e]&&(!0===t[e]||"true"===t[e]))}))},get:function(){return this._data}},{key:"image",set:function(t){this._data.file=t||{},t&&t.url&&this.ui.fillImage(t.url)}}],[{key:"pasteConfig",get:function(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}}]),t}()}]).default}))),xe=rn(on((function(t){window,t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/",i(i.s=0)}([function(t,n,i){function e(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return r(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}function o(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function s(t,n,i){return n&&o(t.prototype,n),i&&o(t,i),t}i(1).toString();var u=function(){function t(n){var i=n.data,e=n.api,r=n.readOnly;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._elements={wrapper:null},this.api=e,this.readOnly=r,this.settings=[{name:"unordered",title:this.api.i18n.t("Unordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',default:!1},{name:"ordered",title:this.api.i18n.t("Ordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M5.819 4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0-4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0 9.357h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 0 1 0-2.137zM1.468 4.155V1.33c-.554.404-.926.606-1.118.606a.338.338 0 0 1-.244-.104A.327.327 0 0 1 0 1.59c0-.107.035-.184.105-.234.07-.05.192-.114.369-.192.264-.118.475-.243.633-.373.158-.13.298-.276.42-.438a3.94 3.94 0 0 1 .238-.298C1.802.019 1.872 0 1.975 0c.115 0 .208.042.277.127.07.085.105.202.105.351v3.556c0 .416-.15.624-.448.624a.421.421 0 0 1-.32-.127c-.08-.085-.121-.21-.121-.376zm-.283 6.664h1.572c.156 0 .275.03.358.091a.294.294 0 0 1 .123.25.323.323 0 0 1-.098.238c-.065.065-.164.097-.296.097H.629a.494.494 0 0 1-.353-.119.372.372 0 0 1-.126-.28c0-.068.027-.16.081-.273a.977.977 0 0 1 .178-.268c.267-.264.507-.49.722-.678.215-.188.368-.312.46-.371.165-.11.302-.222.412-.334.109-.112.192-.226.25-.344a.786.786 0 0 0 .085-.345.6.6 0 0 0-.341-.553.75.75 0 0 0-.345-.08c-.263 0-.47.11-.62.329-.02.029-.054.107-.101.235a.966.966 0 0 1-.16.295c-.059.069-.145.103-.26.103a.348.348 0 0 1-.25-.094.34.34 0 0 1-.099-.258c0-.132.031-.27.093-.413.063-.143.155-.273.279-.39.123-.116.28-.21.47-.282.189-.072.411-.107.666-.107.307 0 .569.045.786.137a1.182 1.182 0 0 1 .618.623 1.18 1.18 0 0 1-.096 1.083 2.03 2.03 0 0 1-.378.457c-.128.11-.344.282-.646.517-.302.235-.509.417-.621.547a1.637 1.637 0 0 0-.148.187z"/></svg>',default:!0}],this._data={style:this.settings.find((function(t){return!0===t.default})).name,items:[]},this.data=i}return s(t,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',title:"List"}}}]),s(t,[{key:"render",value:function(){var t=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach((function(n){t._elements.wrapper.appendChild(t._make("li",t.CSS.item,{innerHTML:n}))})):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",(function(n){switch(n.keyCode){case 13:t.getOutofList(n);break;case 8:t.backspace(n)}}),!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var t=this,n=this._make("div",[this.CSS.settingsWrapper],{});return this.settings.forEach((function(i){var e=t._make("div",t.CSS.settingsButton,{innerHTML:i.icon});e.addEventListener("click",(function(){t.toggleTune(i.name);var n=e.parentNode.querySelectorAll("."+t.CSS.settingsButton);Array.from(n).forEach((function(n){return n.classList.remove(t.CSS.settingsButtonActive)})),e.classList.toggle(t.CSS.settingsButtonActive)})),t.api.tooltip.onHover(e,i.title,{placement:"top",hidingDelay:500}),t._data.style===i.name&&e.classList.add(t.CSS.settingsButtonActive),n.appendChild(e)})),n}},{key:"onPaste",value:function(t){this.data=this.pasteHandler(t.detail.data)}},{key:"makeMainTag",value:function(t){return this._make("ordered"===t?"ol":"ul",[this.CSS.baseBlock,this.CSS.wrapper,"ordered"===t?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(t){for(var n=this.makeMainTag(t);this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=t}},{key:"_make",value:function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(t);for(var s in Array.isArray(i)?(n=o.classList).add.apply(n,e(i)):i&&o.classList.add(i),r)o[s]=r[s];return o}},{key:"getOutofList",value:function(t){var n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(n.length<2)){var i=n[n.length-1],e=this.currentItem;e!==i||i.textContent.trim().length||(e.parentElement.removeChild(e),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),t.preventDefault(),t.stopPropagation())}}},{key:"backspace",value:function(t){var n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),i=n[0];i&&n.length<2&&!i.innerHTML.replace("<br>"," ").trim()&&t.preventDefault()}},{key:"selectItem",value:function(t){t.preventDefault();var n=window.getSelection(),i=n.anchorNode.parentNode.closest("."+this.CSS.item),e=new Range;e.selectNodeContents(i),n.removeAllRanges(),n.addRange(e)}},{key:"pasteHandler",value:function(t){var n,i=t.tagName;switch(i){case"OL":n="ordered";break;case"UL":case"LI":n="unordered"}var e={style:n,items:[]};if("LI"===i)e.items=[t.innerHTML];else{var r=Array.from(t.querySelectorAll("LI"));e.items=r.map((function(t){return t.innerHTML})).filter((function(t){return!!t.trim()}))}return e}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item",settingsWrapper:"cdx-list-settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}},{key:"data",set:function(t){t||(t={}),this._data.style=t.style||this.settings.find((function(t){return!0===t.default})).name,this._data.items=t.items||[];var n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)},get:function(){this._data.items=[];for(var t=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),n=0;n<t.length;n++)t[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(t[n].innerHTML);return this._data}},{key:"currentItem",get:function(){var t=window.getSelection().anchorNode;return t.nodeType!==Node.ELEMENT_NODE&&(t=t.parentNode),t.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(t){return t.items.join(". ")},import:function(t){return{items:[t],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),t}();t.exports=u},function(t,n,i){var e=i(2),r=i(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,n,i){var e,r=function(){var t={};return function(n){if(void 0===t[n]){var i=document.querySelector(n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[n]=i}return t[n]}}(),o=[];function s(t){for(var n=-1,i=0;i<o.length;i++)if(o[i].identifier===t){n=i;break}return n}function u(t,n){for(var i={},e=[],r=0;r<t.length;r++){var u=t[r],a=n.base?u[0]+n.base:u[0],c=i[a]||0,h="".concat(a," ").concat(c);i[a]=c+1;var f=s(h),l={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,n),references:1}),e.push(h)}return e}function a(t){var n=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=i.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(n);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var c,h=(c=[],function(t,n){return c[t]=n,c.filter(Boolean).join("\n")});function f(t,n,i,e){var r=i?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(n,r);else{var o=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(o,s[n]):t.appendChild(o)}}function l(t,n,i){var e=i.css,r=i.media,o=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,n){var i,e,r;if(n.singleton){var o=v++;i=d||(d=a(n)),e=f.bind(null,i,o,!1),r=f.bind(null,i,o,!0)}else i=a(n),e=l.bind(null,i,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var i=u(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<i.length;e++){var r=s(i[e]);o[r].references--}for(var a=u(t,n),c=0;c<i.length;c++){var h=s(i[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}i=a}}}},function(t,n,i){(n=i(4)(!1)).push([t.i,".cdx-list {\n    margin: 0;\n    padding-left: 40px;\n    outline: none;\n}\n\n    .cdx-list__item {\n        padding: 5.5px 0 5.5px 3px;\n        line-height: 1.6em;\n    }\n\n    .cdx-list--unordered {\n        list-style: disc;\n    }\n\n    .cdx-list--ordered {\n        list-style: decimal;\n    }\n\n    .cdx-list-settings {\n        display: flex;\n    }\n\n    .cdx-list-settings .cdx-settings-button {\n            width: 50%;\n        }\n",""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i=function(t,n){var i,e,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var s=(i=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(e," */")),u=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([s]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(i,"}"):i})).join("")},n.i=function(t,i,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var u=0;u<t.length;u++){var a=[].concat(t[u]);e&&r[a[0]]||(i&&(a[2]=a[2]?"".concat(i," and ").concat(a[2]):i),n.push(a))}},n}}])}))),ke=rn(on((function(t){window,t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/",i(i.s=14)}([function(t,n,i){var e=i(5),r=i(6),o=i(7),s=i(9);t.exports=function(t,n){return e(t)||r(t,n)||o(t,n)||s()}},function(t){function n(i){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(i)}t.exports=n},function(t){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t){function n(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}t.exports=function(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}},function(t){function n(t,n,i){var e,r,o,s,u;function a(){var c=Date.now()-s;c<n&&c>=0?e=setTimeout(a,n-c):(e=null,i||(u=t.apply(o,r),o=r=null))}null==n&&(n=100);var c=function(){o=this,r=arguments,s=Date.now();var c=i&&!e;return e||(e=setTimeout(a,n)),c&&(u=t.apply(o,r),o=r=null),u};return c.clear=function(){e&&(clearTimeout(e),e=null)},c.flush=function(){e&&(u=t.apply(o,r),o=r=null,clearTimeout(e),e=null)},c}n.debounce=n,t.exports=n},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],e=!0,r=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(e=(s=u.next()).done)&&(i.push(s.value),!n||i.length!==n);e=!0);}catch(t){r=!0,o=t}finally{try{e||null==u.return||u.return()}finally{if(r)throw o}}return i}}},function(t,n,i){var e=i(8);t.exports=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}},function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,n,i){var e=i(11),r=i(12);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,n,i){var e,r=function(){var t={};return function(n){if(void 0===t[n]){var i=document.querySelector(n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[n]=i}return t[n]}}(),o=[];function s(t){for(var n=-1,i=0;i<o.length;i++)if(o[i].identifier===t){n=i;break}return n}function u(t,n){for(var i={},e=[],r=0;r<t.length;r++){var u=t[r],a=n.base?u[0]+n.base:u[0],c=i[a]||0,h="".concat(a," ").concat(c);i[a]=c+1;var f=s(h),l={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,n),references:1}),e.push(h)}return e}function a(t){var n=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=i.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(n);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var c,h=(c=[],function(t,n){return c[t]=n,c.filter(Boolean).join("\n")});function f(t,n,i,e){var r=i?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(n,r);else{var o=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(o,s[n]):t.appendChild(o)}}function l(t,n,i){var e=i.css,r=i.media,o=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,n){var i,e,r;if(n.singleton){var o=v++;i=d||(d=a(n)),e=f.bind(null,i,o,!1),r=f.bind(null,i,o,!0)}else i=a(n),e=l.bind(null,i,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var i=u(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<i.length;e++){var r=s(i[e]);o[r].references--}for(var a=u(t,n),c=0;c<i.length;c++){var h=s(i[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}i=a}}}},function(t,n,i){(n=i(13)(!1)).push([t.i,".embed-tool--loading .embed-tool__caption {\n      display: none;\n    }\n\n    .embed-tool--loading .embed-tool__preloader {\n      display: block;\n    }\n\n    .embed-tool--loading .embed-tool__content {\n      display: none;\n    }\n  .embed-tool__preloader {\n    display: none;\n    position: relative;\n    height: 200px;\n    box-sizing: border-box;\n    border-radius: 5px;\n    border: 1px solid #e6e9eb;\n  }\n  .embed-tool__preloader::before {\n      content: '';\n      position: absolute;\n      z-index: 3;\n      left: 50%;\n      top: 50%;\n      width: 30px;\n      height: 30px;\n      margin-top: -25px;\n      margin-left: -15px;\n      border-radius: 50%;\n      border: 2px solid #cdd1e0;\n      border-top-color: #388ae5;\n      box-sizing: border-box;\n      animation: embed-preloader-spin 2s infinite linear;\n    }\n  .embed-tool__url {\n    position: absolute;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    max-width: 250px;\n    color: #7b7e89;\n    font-size: 11px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .embed-tool__content {\n    width: 100%;\n  }\n  .embed-tool__caption {\n    margin-top: 7px;\n  }\n  .embed-tool__caption[contentEditable=true][data-placeholder]::before{\n      position: absolute;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      opacity: 0;\n    }\n  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {\n         opacity: 1;\n      }\n  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {\n        opacity: 0;\n      }\n\n@keyframes embed-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i=function(t,n){var i,e,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var s=(i=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(e," */")),u=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([s]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(i,"}"):i})).join("")},n.i=function(t,i,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var u=0;u<t.length;u++){var a=[].concat(t[u]);e&&r[a[0]]||(i&&(a[2]=a[2]?"".concat(i," and ").concat(a[2]):i),n.push(a))}},n}},function(t,n,i){i.r(n),i.d(n,"default",(function(){return d}));var e=i(1),r=i.n(e),o=i(0),s=i.n(o),u=i(2),a=i.n(u),c=i(3),h=i.n(c),f={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(t){var n=s()(t,2),i=n[0],e=n[1];if(!e&&i)return i;var r={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return e=e.slice(1).split("&").map((function(t){var n=t.split("="),e=s()(n,2),o=e[0],u=e[1];return i||"v"!==o?r[o]?"".concat(r[o],"=").concat(u):null:(i=u,null)})).filter((function(t){return!!t})),i+"?"+e.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:"<iframe frameborder='0' scrolling='no' style=\"width:100%;\" height='436' allowfullscreen ></iframe>",height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(t){return t.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(t){return t.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(t){return t.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+)(?:\/.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(t){return t.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(t){return t[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(t){return t.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600}},l=(i(10),i(4)),d=function(){function t(n){var i=n.data,e=n.api,r=n.readOnly;a()(this,t),this.api=e,this._data={},this.element=null,this.readOnly=r,this.data=i}return h()(t,[{key:"render",value:function(){var n=this;if(!this.data.service){var i=document.createElement("div");return this.element=i,i}var e=t.services[this.data.service].html,r=document.createElement("div"),o=document.createElement("div"),s=document.createElement("template"),u=this.createPreloader();r.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),o.classList.add(this.CSS.input,this.CSS.caption),r.appendChild(u),o.contentEditable=!this.readOnly,o.dataset.placeholder="Enter a caption",o.innerHTML=this.data.caption||"",s.innerHTML=e,s.content.firstChild.setAttribute("src",this.data.embed),s.content.firstChild.classList.add(this.CSS.content);var a=this.embedIsReady(r);return r.appendChild(s.content.firstChild),r.appendChild(o),a.then((function(){r.classList.remove(n.CSS.containerLoading)})),this.element=r,r}},{key:"createPreloader",value:function(){var t=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,t.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),t.appendChild(n),t}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(n){var i=n.detail,e=i.key,r=i.data,o=t.services[e],s=o.embedUrl,u=o.width,a=o.height,c=o.id,h=void 0===c?function(t){return t.shift()}:c,f=o.regex.exec(r).slice(1),l=s.replace(/<%= remote_id %>/g,h(f));this.data={service:e,source:r,embed:l,width:u,height:a}}},{key:"embedIsReady",value:function(t){var n=null;return new Promise((function(i){(n=new MutationObserver(Object(l.debounce)(i,450))).observe(t,{childList:!0,subtree:!0})})).then((function(){n.disconnect()}))}},{key:"data",set:function(t){if(!(t instanceof Object))throw Error("Embed Tool data should be object");var n=t.caption;this._data={service:t.service||this.data.service,source:t.source||this.data.source,embed:t.embed||this.data.embed,width:t.width||this.data.width,height:t.height||this.data.height,caption:(void 0===n?"":n)||this.data.caption||""};var i=this.element;i&&i.parentNode.replaceChild(this.render(),i)},get:function(){if(this.element){var t=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=t?t.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(n){var i=n.config,e=(void 0===i?{}:i).services,o=void 0===e?{}:e,u=Object.entries(f),a=Object.entries(o).filter((function(t){var n=s()(t,2)[1];return"boolean"==typeof n&&!0===n})).map((function(t){return s()(t,1)[0]})),c=Object.entries(o).filter((function(t){var n=s()(t,2)[1];return"object"===r()(n)})).filter((function(n){var i=s()(n,2);return t.checkServiceConfig(i[1])})).map((function(t){var n=s()(t,2),i=n[1];return[n[0],{regex:i.regex,embedUrl:i.embedUrl,html:i.html,height:i.height,width:i.width,id:i.id}]}));a.length&&(u=u.filter((function(t){var n=s()(t,1)[0];return a.includes(n)}))),u=u.concat(c),t.services=u.reduce((function(t,n){var i=s()(n,2),e=i[0],r=i[1];return e in t?(t[e]=Object.assign({},t[e],r),t):(t[e]=r,t)}),{}),t.patterns=u.reduce((function(t,n){var i=s()(n,2);return t[i[0]]=i[1].regex,t}),{})}},{key:"checkServiceConfig",value:function(t){var n=t.regex,i=t.embedUrl,e=t.html,r=t.height,o=t.width,s=t.id,u=n&&n instanceof RegExp&&i&&"string"==typeof i&&e&&"string"==typeof e;return(u=(u=u&&(void 0===s||s instanceof Function))&&(void 0===r||Number.isFinite(r)))&&(void 0===o||Number.isFinite(o))}},{key:"pasteConfig",get:function(){return{patterns:t.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),t}()}]).default}))),_e=rn(on((function(t){window,t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/",i(i.s=0)}([function(t,n,i){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}i(1).toString();
/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */
var o=function(){function t(n){var i=n.data,e=n.config,r=n.api,o=n.readOnly;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header"},this._settings=e,this._data=this.normalizeData(i),this.settingsButtons=[],this._element=this.getTag()}var n,o,s;return n=t,s=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:i(6).default,title:"Heading"}}}],(o=[{key:"normalizeData",value:function(t){var n={};return"object"!==e(t)&&(t={}),n.text=t.text||"",n.level=parseInt(t.level)||this.defaultLevel.number,n}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var t=this,n=document.createElement("DIV");return this.levels.length<=1||this.levels.forEach((function(i){var e=document.createElement("SPAN");e.classList.add(t._CSS.settingsButton),t.currentLevel.number===i.number&&e.classList.add(t._CSS.settingsButtonActive),e.innerHTML=i.svg,e.dataset.level=i.number,e.addEventListener("click",(function(){t.setLevel(i.number)})),n.appendChild(e),t.settingsButtons.push(e)})),n}},{key:"setLevel",value:function(t){var n=this;this.data={level:t,text:this.data.text},this.settingsButtons.forEach((function(i){i.classList.toggle(n._CSS.settingsButtonActive,parseInt(i.dataset.level)===t)}))}},{key:"merge",value:function(t){this.data={text:this.data.text+t.text,level:this.data.level}}},{key:"validate",value:function(t){return""!==t.text.trim()}},{key:"save",value:function(t){return{text:t.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var t=document.createElement(this.currentLevel.tag);return t.innerHTML=this._data.text||"",t.classList.add(this._CSS.wrapper),t.contentEditable=this.readOnly?"false":"true",t.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),t}},{key:"onPaste",value:function(t){var n=t.detail.data,i=this.defaultLevel.number;switch(n.tagName){case"H1":i=1;break;case"H2":i=2;break;case"H3":i=3;break;case"H4":i=4;break;case"H5":i=5;break;case"H6":i=6}this._settings.levels&&(i=this._settings.levels.reduce((function(t,n){return Math.abs(n-i)<Math.abs(t-i)?n:t}))),this.data={level:i,text:n.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(t){if(this._data=this.normalizeData(t),void 0!==t.level&&this._element.parentNode){var n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}void 0!==t.text&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var t=this,n=this.levels.find((function(n){return n.number===t._data.level}));return n||(n=this.defaultLevel),n}},{key:"defaultLevel",get:function(){var t=this;if(this._settings.defaultLevel){var n=this.levels.find((function(n){return n.number===t._settings.defaultLevel}));if(n)return n;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var t=this,n=[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}];return this._settings.levels?n.filter((function(n){return t._settings.levels.includes(n.number)})):n}}])&&r(n.prototype,o),s&&r(n,s),t}();t.exports=o},function(t,n,i){var e=i(2);"string"==typeof e&&(e=[[t.i,e,""]]);i(4)(e,{hmr:!0,transform:void 0,insertInto:void 0}),e.locals&&(t.exports=e.locals)},function(t,n,i){(t.exports=i(3)(!1)).push([t.i,"/**\n * Plugin styles\n */\n.ce-header {\n  padding: 1em 0;\n  margin: 0;\n  margin-bottom: -0.9em;\n  line-height: 1.5em;\n  outline: none;\n}\n\n.ce-header p,\n.ce-header div{\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n/**\n * Styles for Plugin icon in Toolbar\n */\n.ce-header__icon {}\n\n.ce-header[contentEditable=true][data-placeholder]::before{\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  display: none;\n  cursor: text;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty::before {\n  display: block;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {\n  display: none;\n}\n",""])},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i=function(t,n){var i=t[1]||"",e=t[3];if(!e)return i;if(n&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */",o=e.sources.map((function(t){return"/*# sourceURL="+e.sourceRoot+t+" */"}));return[i].concat(o).concat([r]).join("\n")}return[i].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+i+"}":i})).join("")},n.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(e[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&e[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),n.push(s))}},n}},function(t,n,i){var e,r,o={},s=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=e.apply(this,arguments)),r}),u=function(t){return document.querySelector(t)},a=function(){var t={};return function(n){if("function"==typeof n)return n();if(void 0===t[n]){var i=u.call(this,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(n){i=null}t[n]=i}return t[n]}}(),c=null,h=0,f=[],l=i(5);function d(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=o[e.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](e.parts[s]);for(;s<e.parts.length;s++)r.parts.push(y(e.parts[s],n))}else{var u=[];for(s=0;s<e.parts.length;s++)u.push(y(e.parts[s],n));o[e.id]={id:e.id,refs:1,parts:u}}}}function v(t,n){for(var i=[],e={},r=0;r<t.length;r++){var o=t[r],s=n.base?o[0]+n.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};e[s]?e[s].parts.push(u):i.push(e[s]={id:s,parts:[u]})}return i}function p(t,n){var i=a(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=f[f.length-1];if("top"===t.insertAt)e?e.nextSibling?i.insertBefore(n,e.nextSibling):i.appendChild(n):i.insertBefore(n,i.firstChild),f.push(n);else if("bottom"===t.insertAt)i.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertInto+" "+t.insertAt.before);i.insertBefore(n,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=f.indexOf(t);n>=0&&f.splice(n,1)}function b(t){var n=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),g(n,t.attrs),p(t,n),n}function g(t,n){Object.keys(n).forEach((function(i){t.setAttribute(i,n[i])}))}function y(t,n){var i,e,r,o;if(n.transform&&t.css){if(!(o=n.transform(t.css)))return function(){};t.css=o}if(n.singleton){var s=h++;i=c||(c=b(n)),e=k.bind(null,i,s,!1),r=k.bind(null,i,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(n,t.attrs),p(t,n),n}(n),e=A.bind(null,i,n),r=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=b(n),e=_.bind(null,i),r=function(){m(i)});return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var i=v(t,n);return d(i,n),function(t){for(var e=[],r=0;r<i.length;r++)(s=o[i[r].id]).refs--,e.push(s);for(t&&d(v(t,n),n),r=0;r<e.length;r++){var s;if(0===(s=e[r]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var w,x=(w=[],function(t,n){return w[t]=n,w.filter(Boolean).join("\n")});function k(t,n,i,e){var r=i?"":e.css;if(t.styleSheet)t.styleSheet.cssText=x(n,r);else{var o=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(o,s[n]):t.appendChild(o)}}function _(t,n){var i=n.css,e=n.media;if(e&&t.setAttribute("media",e),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function A(t,n,i){var e=i.css,r=i.sourceMap;(n.convertToAbsoluteUrls||void 0===n.convertToAbsoluteUrls&&r)&&(e=l(e)),r&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([e],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}},function(t){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=n.protocol+"//"+n.host,e=i+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,n){var r,o=n.trim().replace(/^"(.*)"$/,(function(t,n){return n})).replace(/^'(.*)'$/,(function(t,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,n,i){i.r(n),n.default='<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">\n  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>\n</svg>\n'}])}))),Ae=rn(on((function(t){window,t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/",i(i.s=0)}([function(t,n,i){function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}i(1).toString();var o=function(){function t(n){var i=n.data,e=n.config,r=n.api,o=n.readOnly;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.config=e,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph",alignment:{left:"ce-paragraph--left",center:"ce-paragraph--center",right:"ce-paragraph--right",justify:"ce-paragraph--justify"}},this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.settings=[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"right",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/></svg>'},{name:"justify",icon:'<svg viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.867 19 L 10.914 19 C 9.26 19 7.918 19.896 7.918 21 C 7.918 22.104 9.26 23 10.914 23 L 52.867 23 C 54.522 23 55.863 22.104 55.863 21 C 55.863 19.896 54.522 19 52.867 19 Z" style=""></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.779 41 L 11.113 41 C 9.469 41 8.136 41.896 8.136 43 C 8.136 44.104 9.469 45 11.113 45 L 52.779 45 C 54.421 45 55.754 44.104 55.754 43 C 55.754 41.896 54.421 41 52.779 41 Z" style=""></path></svg>'}],this.onKeyUp=this.onKeyUp.bind(this),this._placeholder=e.placeholder?e.placeholder:t.DEFAULT_PLACEHOLDER,this._data={text:i.text||"",alignment:i.alignment||e.defaultAlignment||t.DEFAULT_ALIGNMENT},this._element=this.drawView(),this.data=i,this._preserveBlank=void 0!==e.preserveBlank&&e.preserveBlank}return r(t,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center",right:"right",justify:"justify"}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"DEFAULT_ALIGNMENT",get:function(){return t.ALIGNMENTS.left}}]),r(t,[{key:"onKeyUp",value:function(t){"Backspace"!==t.code&&"Delete"!==t.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block,this._CSS.alignment[this.data.alignment]),t.contentEditable=!this.readOnly,t.dataset.placeholder=this.api.i18n.t(this._placeholder),t.innerHTML=this.data.text,t.addEventListener("keyup",this.onKeyUp),t}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(t){var n={text:this.data.text+=t.text,alignment:this.data.alignment};this._element.innerHTML=this.data.text,this.data=n}},{key:"validate",value:function(t){return!(""===t.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(t){return Object.assign(this.data,{text:t.innerHTML})}},{key:"onPaste",value:function(n){this.data={text:n.detail.data.innerHTML,alignment:this.config.defaultAlignment||t.DEFAULT_ALIGNMENT}}},{key:"renderSettings",value:function(){var t=this,n=document.createElement("div");return this.settings.map((function(i){var e=document.createElement("div");return e.classList.add("cdx-settings-button"),e.innerHTML=i.icon,e.classList.toggle(t.CSS.settingsButtonActive,i.name===t.data.alignment),n.appendChild(e),e})).forEach((function(n,i,e){n.addEventListener("click",(function(){t._toggleTune(t.settings[i].name),e.forEach((function(n,i){var e=t.settings[i].name;n.classList.toggle(t.CSS.settingsButtonActive,e===t.data.alignment),t._element.classList.toggle(t._CSS.alignment[e],e===t.data.alignment)}))}))})),n}},{key:"_toggleTune",value:function(t){this.data.alignment=t}},{key:"data",get:function(){return this._data},set:function(n){this._data={text:n.text||"",alignment:n.alignment||this.config.defaultAlignment||t.DEFAULT_ALIGNMENT},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0},alignment:{}}}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:i(5).default,title:"Text"}}}]),t}();t.exports=o},function(t,n,i){var e=i(2),r=i(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),e(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,n,i){var e,r=function(){var t={};return function(n){if(void 0===t[n]){var i=document.querySelector(n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[n]=i}return t[n]}}(),o=[];function s(t){for(var n=-1,i=0;i<o.length;i++)if(o[i].identifier===t){n=i;break}return n}function u(t,n){for(var i={},e=[],r=0;r<t.length;r++){var u=t[r],a=n.base?u[0]+n.base:u[0],c=i[a]||0,h="".concat(a," ").concat(c);i[a]=c+1;var f=s(h),l={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(o[f].references++,o[f].updater(l)):o.push({identifier:h,updater:p(l,n),references:1}),e.push(h)}return e}function a(t){var n=document.createElement("style"),e=t.attributes||{};if(void 0===e.nonce){var o=i.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])})),"function"==typeof t.insert)t.insert(n);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var c,h=(c=[],function(t,n){return c[t]=n,c.filter(Boolean).join("\n")});function f(t,n,i,e){var r=i?"":e.media?"@media ".concat(e.media," {").concat(e.css,"}"):e.css;if(t.styleSheet)t.styleSheet.cssText=h(n,r);else{var o=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(o,s[n]):t.appendChild(o)}}function l(t,n,i){var e=i.css,r=i.media,o=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var d=null,v=0;function p(t,n){var i,e,r;if(n.singleton){var o=v++;i=d||(d=a(n)),e=f.bind(null,i,o,!1),r=f.bind(null,i,o,!0)}else i=a(n),e=l.bind(null,i,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e));var i=u(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<i.length;e++){var r=s(i[e]);o[r].references--}for(var a=u(t,n),c=0;c<i.length;c++){var h=s(i[c]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}i=a}}}},function(t,n,i){(n=i(4)(!1)).push([t.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n.ce-paragraph--right {\n    text-align: right;\n}\n.ce-paragraph--center {\n    text-align: center;\n}\n.ce-paragraph--left {\n    text-align: left;\n}\n\n.ce-paragraph--justify {\n    text-align: justify;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n\n\n.svg-icon {\n    width: 1em;\n    height: 1em;\n}\n\n.svg-icon path,\n.svg-icon polygon,\n.svg-icon rect {\n    fill: #4691f6;\n}\n\n.svg-icon circle {\n    stroke: #4691f6;\n    stroke-width: 1;\n}",""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i=function(t,n){var i,e,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var s=(i=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(e," */")),u=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([s]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(i,"}"):i})).join("")},n.i=function(t,i,e){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(e)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var u=0;u<t.length;u++){var a=[].concat(t[u]);e&&r[a[0]]||(i&&(a[2]=a[2]?"".concat(i," and ").concat(a[2]):i),n.push(a))}},n}},function(t,n,i){i.r(n),n.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">\n  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>\n</svg>\n'}])}))),Se=rn(on((function(t){window,t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,i){i.r(n),i.d(n,"StyleInlineTool",(function(){return c}));class e extends HTMLElement{}class r extends Error{constructor(...t){super(...t),this.name="EditorJSStyleError"}}var o,s,u=function(t,n,i){if(!n.has(t))throw new TypeError("attempted to set private field on non-instance");return n.set(t,i),i},a=function(t,n){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");return n.get(t)};class c{constructor({api:t}){o.set(this,void 0),s.set(this,void 0),u(this,o,document.createElement("div")),u(this,s,t)}static get isInline(){return!0}static get sanitize(){return{"editorjs-style":{class:!0,id:!0,style:!0}}}static get title(){return"Style"}static prepare(){customElements.get("editorjs-style")||customElements.define("editorjs-style",e)}get shortcut(){return"CMD+S"}checkState(){var t;a(this,o).innerHTML="";const n=a(this,s).selection.findParentTag("EDITORJS-STYLE");if(!n)return!1;a(this,o).innerHTML=`\n      <div style="margin-bottom: 16px; margin-left: 16px; margin-right: 16px; ">\n        <div style="display: flex; align-items: center; justify-content: space-between; ">\n          <div>Style settings</div>\n\n          <button class="delete-button ${a(this,s).styles.settingsButton}" type="button">\n            <svg class="icon" height="24" viewBox="0 0 24 24" width="24">\n              <path d="M0 0h24v24H0z" fill="none"/>\n              <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>\n            </svg>\n          </button>\n        </div>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>ID</span>\n\n          <input class="id-input ${a(this,s).styles.input}" style="width: 80%; ">\n        </label>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>Class</span>\n\n          <input class="class-input ${a(this,s).styles.input}" style="width: 80%; ">\n        </label>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>Style</span>\n\n          <textarea\n            class="style-textarea ${a(this,s).styles.input}"\n            placeholder="background: #ffe7e8;"\n            style="resize: none; width: 80%; ">\n          </textarea>\n        </label>\n      </div>\n    `;const i=a(this,o).querySelector(".delete-button"),e=a(this,o).querySelector(".class-input"),u=a(this,o).querySelector(".id-input"),c=a(this,o).querySelector(".style-textarea");if(!(i&&e&&u&&c))throw new r;return i.addEventListener("click",(()=>{const t=Array.from(n.childNodes).map((t=>t.cloneNode(!0)));if(t.forEach((t=>{var i;return null===(i=n.parentNode)||void 0===i?void 0:i.insertBefore(t,n)})),n.remove(),0===t.length)return;const i=window.getSelection();if(!i)throw new r;i.removeAllRanges();const e=new Range;e.setStartBefore(t[0]),e.setEndAfter(t[t.length-1]),i.addRange(e),a(this,o).innerHTML="",a(this,s).tooltip.hide()})),a(this,s).tooltip.onHover(i,"Delete style",{placement:"top"}),e.value=n.className,e.addEventListener("input",(()=>n.setAttribute("class",e.value))),u.value=n.id,u.addEventListener("input",(()=>n.id=u.value)),c.value=null!==(t=n.getAttribute("style"))&&void 0!==t?t:"",c.addEventListener("keydown",(t=>t.stopPropagation())),c.addEventListener("input",(()=>n.setAttribute("style",c.value))),!0}clear(){a(this,o).innerHTML=""}render(){const t=document.createElement("button");return t.classList.add(a(this,s).styles.inlineToolButton),t.type="button",t.innerHTML='\n      <svg class="icon" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"/>\n      </svg>\n    ',t}renderActions(){return a(this,o)}surround(t){const n=new e;t.surroundContents(n),a(this,s).selection.expandToTag(n)}}o=new WeakMap,s=new WeakMap}])})));function Ee(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Oe(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ce=function(t){return t&&"object"===Me(t)&&!Array.isArray(t)},Te=function t(n,i){var e=Object.assign({},n);return Ce(n)&&Ce(i)&&Object.keys(i).forEach((function(r){Ce(i[r])&&r in n?e[r]=t(n[r],i[r]):Object.assign(e,function(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}({},r,i[r]))})),e},je={youtube:'<div class="embed"><iframe class="embed-youtube" frameborder="0" src="<%data.embed%>" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen <%data.length%>></iframe></div>',twitter:'<blockquote class="twitter-tweet" class="embed-twitter" <%data.length%>><a href="<%data.source%>"></a></blockquote> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"><\/script>',instagram:'<blockquote class="instagram-media" <%data.length%>><a href="<%data.embed%>/captioned"></a></blockquote><script async defer src="//www.instagram.com/embed.js"><\/script>',codepen:'<div class="embed"><iframe <%data.length%> scrolling="no" src="<%data.embed%>" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true"></iframe></div>',defaultMarkup:'<div class="embed"><iframe src="<%data.embed%>" <%data.length%> class="embed-unknown" allowfullscreen="true" frameborder="0" ></iframe></div>'},Re={paragraph:function(t,n){return'<p class="'.concat(n.paragraph.pClass,'"> ').concat(t.text," </p>")},header:function(t){return"<h".concat(t.level,">").concat(t.text,"</h").concat(t.level,">")},list:function(t){var n="ordered"===t.style?"ol":"ul",i=t.items.reduce((function(t,n){return t+"<li>".concat(n,"</li>")}),"");return"<".concat(n,">").concat(i,"</").concat(n,">")},quote:function(t,n){var i="";return n.quote.applyAlignment&&(i='style="text-align: '.concat(t.alignment,';"')),"<blockquote ".concat(i,"><p>").concat(t.text,"</p><cite>").concat(t.caption,"</cite></blockquote>")},table:function(t){var n=t.content.map((function(t){return"<tr>".concat(t.reduce((function(t,n){return t+"<td>".concat(n,"</td>")}),""),"</tr>")}));return"<table><tbody>".concat(n.join(""),"</tbody></table>")},image:function(t,n){var i,e="".concat(t.stretched?"img-fullwidth":""," ").concat(t.withBorder?"img-border":""," ").concat(t.withBackground?"img-bg":""),r=n.image.imgClass||"";if(i=t.url?t.url:"absolute"===n.image.path?t.file.url:n.image.path.replace(/<(.+)>/,(function(n,i){return t.file[i]})),"img"===n.image.use)return'<img class="'.concat(e," ").concat(r,'" src="').concat(i,'" alt="').concat(t.caption,'">');if("figure"===n.image.use){var o=n.image.figCapClass||"";return'<figure class="'.concat(n.image.figureClass||"",'"><img class="').concat(r," ").concat(e,'" src="').concat(i,'" alt="').concat(t.caption,'"><figcaption class="').concat(o,'">').concat(t.caption,"</figcaption></figure>")}},code:function(t,n){var i=function(t){return(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")}(t.code);return'<pre><code class="'.concat(n.code.codeBlockClass,'">').concat(i,"</code></pre>")},raw:function(t){return t.html},delimiter:function(){return"<br />"},embed:function(t,n){t.length=n.embed.useProvidedLength?'width="'.concat(t.width,'" height="').concat(t.height,'"'):"";var i=new RegExp(/<%data\.(.+?)%>/,"gm");return n.embedMarkups[t.service]?n.embedMarkups[t.service].replace(i,(function(n,i){return t[i]})):n.embedMarkups.defaultMarkup.replace(i,(function(n,i){return t[i]}))}},Fe={image:{use:"figure",imgClass:"img",figureClass:"fig-img",figCapClass:"fig-cap",path:"absolute"},paragraph:{pClass:"paragraph"},code:{codeBlockClass:"code-block"},embed:{useProvidedLength:!1},quote:{applyAlignment:!1}},Ie=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ee(this,t),this.config=Te(Fe,n),this.config.embedMarkups=Object.assign(je,e),this.parsers=Object.assign(Re,i)}var n,i;return n=t,(i=[{key:"parse",value:function(t){var n=this;return t.blocks.map((function(t){var i=n.parseBlock(t);return i instanceof Error?"":i})).join("")}},{key:"parseBlock",value:function(t){if(!this.parsers[t.type])return new Error("".concat(t.type," is not supported! Define your own custom function."));try{return this.parsers[t.type](t.data,this.config)}catch(t){return t}}}])&&Oe(n.prototype,i),t}();const Be=rn(on((function(t){window,t.exports=function(t){var n={};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=3)}([function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i=function(t,n){var i=t[1]||"",e=t[3];if(!e)return i;if(n&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */",o=e.sources.map((function(t){return"/*# sourceURL="+e.sourceRoot+t+" */"}));return[i].concat(o).concat([r]).join("\n")}return[i].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+i+"}":i})).join("")},n.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(e[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&e[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),n.push(s))}},n}},function(t,n,i){var e,r,o={},s=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=e.apply(this,arguments)),r}),u=function(){var t={};return function(n,i){if("function"==typeof n)return n();if(void 0===t[n]){var e=function(t,n){return n?n.querySelector(t):document.querySelector(t)}.call(this,n,i);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}}(),a=null,c=0,h=[],f=i(6);function l(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=o[e.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](e.parts[s]);for(;s<e.parts.length;s++)r.parts.push(g(e.parts[s],n))}else{var u=[];for(s=0;s<e.parts.length;s++)u.push(g(e.parts[s],n));o[e.id]={id:e.id,refs:1,parts:u}}}}function d(t,n){for(var i=[],e={},r=0;r<t.length;r++){var o=t[r],s=n.base?o[0]+n.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};e[s]?e[s].parts.push(u):i.push(e[s]={id:s,parts:[u]})}return i}function v(t,n){var i=u(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=h[h.length-1];if("top"===t.insertAt)e?e.nextSibling?i.insertBefore(n,e.nextSibling):i.appendChild(n):i.insertBefore(n,i.firstChild),h.push(n);else if("bottom"===t.insertAt)i.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=u(t.insertAt.before,i);i.insertBefore(n,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=h.indexOf(t);n>=0&&h.splice(n,1)}function m(t){var n=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var e=i.nc;e&&(t.attrs.nonce=e)}return b(n,t.attrs),v(t,n),n}function b(t,n){Object.keys(n).forEach((function(i){t.setAttribute(i,n[i])}))}function g(t,n){var i,e,r,o;if(n.transform&&t.css){if(!(o="function"==typeof n.transform?n.transform(t.css):n.transform.default(t.css)))return function(){};t.css=o}if(n.singleton){var s=c++;i=a||(a=m(n)),e=x.bind(null,i,s,!1),r=x.bind(null,i,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(n,t.attrs),v(t,n),n}(n),e=function(t,n,i){var e=i.css,r=i.sourceMap;(n.convertToAbsoluteUrls||void 0===n.convertToAbsoluteUrls&&r)&&(e=f(e)),r&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([e],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,i,n),r=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=m(n),e=function(t,n){var i=n.css,e=n.media;if(e&&t.setAttribute("media",e),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){p(i)});return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var i=d(t,n);return l(i,n),function(t){for(var e=[],r=0;r<i.length;r++)(s=o[i[r].id]).refs--,e.push(s);for(t&&l(d(t,n),n),r=0;r<e.length;r++){var s;if(0===(s=e[r]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var y,w=(y=[],function(t,n){return y[t]=n,y.filter(Boolean).join("\n")});function x(t,n,i,e){var r=i?"":e.css;if(t.styleSheet)t.styleSheet.cssText=w(n,r);else{var o=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(o,s[n]):t.appendChild(o)}}},function(t){t.exports='<svg viewBox="0 0 20 20"><circle cx="10" cy="10" r="10" fill="#388AE5"></circle><path fill="#FFF" d="M10.9 9.1h3.7a.9.9 0 1 1 0 1.8h-3.7v3.7a.9.9 0 1 1-1.8 0v-3.7H5.4a.9.9 0 0 1 0-1.8h3.7V5.4a.9.9 0 0 1 1.8 0v3.7z"></path></svg>'},function(t,n,i){const e=i(12).TableConstructor,r=i(11),o="tc-table__inp";t.exports=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:r,title:"Table"}}constructor({data:t,config:n,api:i,readOnly:r}){this.api=i,this.readOnly=r,this._tableConstructor=new e(t,n,i,r)}render(){return this._tableConstructor.htmlElement}save(t){const n=[],i=t.querySelector("table").rows;for(let t=0;t<i.length;t++){const e=Array.from(i[t].cells).map((t=>t.querySelector("."+o)));e.every(this._isEmpty)||n.push(e.map((t=>t.innerHTML)))}return{content:n}}_isEmpty(t){return!t.textContent.trim()}}},function(t,n,i){var e=i(5);"string"==typeof e&&(e=[[t.i,e,""]]);i(1)(e,{hmr:!0,transform:void 0,insertInto:void 0}),e.locals&&(t.exports=e.locals)},function(t,n,i){(t.exports=i(0)(!1)).push([t.i,".tc-editor{padding:10px;position:relative;box-sizing:content-box;width:100%;left:-10px}",""])},function(t){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=n.protocol+"//"+n.host,e=i+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,n){var r,o=n.trim().replace(/^"(.*)"$/,(function(t,n){return n})).replace(/^'(.*)'$/,(function(t,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,n,i){var e=i(8);"string"==typeof e&&(e=[[t.i,e,""]]);i(1)(e,{hmr:!0,transform:void 0,insertInto:void 0}),e.locals&&(t.exports=e.locals)},function(t,n,i){(t.exports=i(0)(!1)).push([t.i,".tc-toolbar{background:#368be6;}.tc-toolbar--hidden{visibility:hidden}.tc-toolbar--hor{width:100%;height:21px;flex-direction:row;left:0;top:1px}.tc-toolbar--hor,.tc-toolbar--ver{display:flex;align-items:center;position:absolute;z-index:100}.tc-toolbar--ver{height:100%;width:21px;flex-direction:column;top:0;left:-1px}.tc-toolbar__plus{height:21px;width:21px;margin-top:0;}.tc-toolbar__plus--hor{margin-left:-10px}.tc-toolbar__plus--ver{margin-top:-10px}.tc-toolbar__shine-line--hor{min-height:1px;width:100%}.tc-toolbar__shine-line--ver{min-width:1px;height:100%}",""])},function(t,n,i){var e=i(10);"string"==typeof e&&(e=[[t.i,e,""]]);i(1)(e,{hmr:!0,transform:void 0,insertInto:void 0}),e.locals&&(t.exports=e.locals)},function(t,n,i){(t.exports=i(0)(!1)).push([t.i,".tc-table{width:100%;height:100%;border-collapse:collapse;table-layout:fixed;}.tc-table__wrap{border:1px solid #dbdbe2;border-radius:3px;position:relative;height:100%;width:100%;box-sizing:border-box}.tc-table__cell{border:1px solid #dbdbe2;padding:0;vertical-align:top}.tc-table__area{padding:10px;height:100%}.tc-table__inp{outline:none;flex-grow:100;min-height:1.5em;height:100%;overflow:hidden}.tc-table tbody tr:first-child td{border-top:none}.tc-table tbody tr:last-child td{border-bottom:none}.tc-table tbody tr td:last-child{border-right:none}.tc-table tbody tr td:first-child{border-left:none}",""])},function(t){t.exports='<svg width="18" height="14"><path d="M2.833 8v1.95a1.7 1.7 0 0 0 1.7 1.7h3.45V8h-5.15zm0-2h5.15V2.35h-3.45a1.7 1.7 0 0 0-1.7 1.7V6zm12.3 2h-5.15v3.65h3.45a1.7 1.7 0 0 0 1.7-1.7V8zm0-2V4.05a1.7 1.7 0 0 0-1.7-1.7h-3.45V6h5.15zM4.533.1h8.9a3.95 3.95 0 0 1 3.95 3.95v5.9a3.95 3.95 0 0 1-3.95 3.95h-8.9a3.95 3.95 0 0 1-3.95-3.95v-5.9A3.95 3.95 0 0 1 4.533.1z"></path></svg>'},function(t,n,i){function e(t){return!(null==t)}function r(t,n=null,i=null,r=null){const o=document.createElement(t);if(e(n))for(let t=0;t<n.length;t++)e(n[t])&&o.classList.add(n[t]);if(e(i))for(let t in i)o.setAttribute(t,i[t]);if(e(r))for(let t=0;t<r.length;t++)e(r[t])&&o.appendChild(r[t]);return o}function o(t){const n=t.getBoundingClientRect();return{y1:Math.floor(n.top+window.pageYOffset),x1:Math.floor(n.left+window.pageXOffset),x2:Math.floor(n.right+window.pageXOffset),y2:Math.floor(n.bottom+window.pageYOffset)}}function s(t,n,i){let e;return n-t.x1>=-1&&n-t.x1<=11&&(e="left"),t.x2-n>=-1&&t.x2-n<=11&&(e="right"),i-t.y1>=-1&&i-t.y1<=11&&(e="top"),t.y2-i>=-1&&t.y2-i<=11&&(e="bottom"),e}i.r(n),i(4),i(7);var u=i(2),a=i.n(u);const c="tc-toolbar",h="tc-toolbar--hidden",f="tc-toolbar--hor",l="tc-toolbar__shine-line--hor",d="tc-toolbar--ver",v="tc-toolbar__shine-line--ver",p="tc-toolbar__plus",m="tc-toolbar__plus--hor",b="tc-toolbar__plus--ver",g="tc-table__area";class y{constructor(){this._plusButton=this._generatePlusButton(),this._highlightingLine=this._generateHighlightingLine(),this._toolbar=this._generateToolBar([this._plusButton,this._highlightingLine])}hide(){this._toolbar.classList.add(h)}show(){this._toolbar.classList.remove(h),this._highlightingLine.classList.remove(h)}hideLine(){this._highlightingLine.classList.add(h)}get htmlElement(){return this._toolbar}_generatePlusButton(){const t=r("div",[p]);return t.innerHTML=a.a,t.addEventListener("click",(t=>{t.stopPropagation();const n=new CustomEvent("click",{detail:{x:t.pageX,y:t.pageY},bubbles:!0});this._toolbar.dispatchEvent(n)})),t}_generateHighlightingLine(){const t=r("div",[c]);return t.addEventListener("click",(t=>{t.stopPropagation();const n=new CustomEvent("click",{bubbles:!0});this._toolbar.dispatchEvent(n)})),t}_generateToolBar(t){const n=r("div",[h],null,t);return n.addEventListener("mouseleave",(t=>{this._recalcMousePos(t)})),n}_recalcMousePos(t){this.hide();const n=document.elementFromPoint(t.pageX,t.pageY);if(null!==n&&n.classList.contains(g)){const i=new MouseEvent("mouseover",{clientX:t.pageX,clientY:t.pageY});n.dispatchEvent(i)}}}class w extends y{constructor(){super(),this._toolbar.classList.add(f),this._plusButton.classList.add(m),this._highlightingLine.classList.add(l)}showIn(t){const n=Math.floor(Number.parseInt(window.getComputedStyle(this._toolbar).height)/2);this._toolbar.style.top=t-n+"px",this.show()}}class x extends y{constructor(){super(),this._toolbar.classList.add(d),this._plusButton.classList.add(b),this._highlightingLine.classList.add(v)}showIn(t){const n=Math.floor(Number.parseInt(window.getComputedStyle(this._toolbar).width)/2);this._toolbar.style.left=t-n+"px",this.show()}}i(9);const k="tc-table",_="tc-table__inp",A="tc-table__cell",S="tc-table__wrap",E="tc-table__area";class O{constructor(t){this.readOnly=t,this._numberOfColumns=0,this._numberOfRows=0,this._element=this._createTableWrapper(),this._table=this._element.querySelector("table"),this.readOnly||this._hangEvents()}addColumn(t=-1){this._numberOfColumns++;const n=this._table.rows;for(let i=0;i<n.length;i++){const e=n[i].insertCell(t);this._fillCell(e)}}addRow(t=-1){this._numberOfRows++;const n=this._table.insertRow(t);return this._fillRow(n),n}get htmlElement(){return this._element}get body(){return this._table}get selectedCell(){return this._selectedCell}_createTableWrapper(){return r("div",[S],null,[r("table",[k])])}_createContenteditableArea(){return r("div",[_],{contenteditable:!this.readOnly})}_fillCell(t){t.classList.add(A);const n=this._createContenteditableArea();t.appendChild(r("div",[E],null,[n]))}_fillRow(t){for(let n=0;n<this._numberOfColumns;n++){const n=t.insertCell();this._fillCell(n)}}_hangEvents(){this._table.addEventListener("focus",(t=>{this._focusEditField(t)}),!0),this._table.addEventListener("blur",(t=>{this._blurEditField(t)}),!0),this._table.addEventListener("keydown",(t=>{this._pressedEnterInEditField(t)})),this._table.addEventListener("click",(t=>{this._clickedOnCell(t)})),this._table.addEventListener("mouseover",(t=>{this._mouseEnterInDetectArea(t),t.stopPropagation()}),!0)}_focusEditField(t){t.target.classList.contains(_)&&(this._selectedCell=t.target.closest("."+A))}_blurEditField(t){t.target.classList.contains(_)&&(this._selectedCell=null)}_pressedEnterInEditField(t){t.target.classList.contains(_)&&(13!==t.keyCode||t.shiftKey||t.preventDefault())}_clickedOnCell(t){t.target.classList.contains(A)&&t.target.querySelector("."+_).focus()}_mouseEnterInDetectArea(t){if(!t.target.classList.contains(E))return;const n=s(o(t.target.closest("TD")),t.pageX,t.pageY);t.target.dispatchEvent(new CustomEvent("mouseInActivatingArea",{detail:{side:n},bubbles:!0}))}}i.d(n,"TableConstructor",(function(){return R}));const M="tc-editor",C="tc-toolbar--hor",T="tc-toolbar--ver",j="tc-table__inp";class R{constructor(t,n,i,e){this.readOnly=e,this._table=new O(e);const o=this._resizeTable(t,n);this._fillTable(t,o),this._container=r("div",[M,i.styles.block],null,[this._table.htmlElement]),this._verticalToolBar=new x,this._horizontalToolBar=new w,this._table.htmlElement.appendChild(this._horizontalToolBar.htmlElement),this._table.htmlElement.appendChild(this._verticalToolBar.htmlElement),this._hoveredCell=null,this._activatedToolBar=null,this._hoveredCellSide=null,this._plusButDelay=null,this._toolbarShowDelay=null,this.readOnly||this._hangEvents()}get htmlElement(){return this._container}_fillTable(t,n){if(void 0!==t.content)for(let i=0;i<n.rows&&i<t.content.length;i++)for(let e=0;e<n.cols&&e<t.content[i].length;e++)this._table.body.rows[i].cells[e].querySelector("."+j).innerHTML=t.content[i][e]}_resizeTable(t,n){const i=Array.isArray(t.content),e=i?t.content.length:void 0,r=i&&t.content.length?t.content[0].length:void 0,o=Number.parseInt(n.rows),s=Number.parseInt(n.cols),u=!isNaN(o)&&o>0?o:void 0,a=!isNaN(s)&&s>0?s:void 0,c=e||u||2,h=r||a||2;for(let t=0;t<c;t++)this._table.addRow();for(let t=0;t<h;t++)this._table.addColumn();return{rows:c,cols:h}}_showToolBar(t,n){this._hideToolBar(),this._activatedToolBar=t,t.showIn(n)}_hideToolBar(){null!==this._activatedToolBar&&this._activatedToolBar.hide()}_hangEvents(){this._container.addEventListener("mouseInActivatingArea",(t=>{this._toolbarCalling(t)})),this._container.addEventListener("click",(t=>{this._clickToolbar(t)})),this._container.addEventListener("input",(()=>{this._hideToolBar()})),this._container.addEventListener("keydown",(t=>{this._containerKeydown(t)})),this._container.addEventListener("mouseout",(t=>{this._leaveDetectArea(t)})),this._container.addEventListener("mouseover",(t=>{this._mouseEnterInDetectArea(t)}))}_mouseInActivatingAreaListener(t){this._hoveredCellSide=t.detail.side;const n=o(t.target),i=o(this._table.htmlElement);if(this._hoveredCell=t.target.closest("TD"),null===this._hoveredCell){const t=11;this._hoveredCell=this._container,n.x1+=t,n.y1+=t,n.x2-=t,n.y2-=t}"top"===this._hoveredCellSide&&this._showToolBar(this._horizontalToolBar,n.y1-i.y1-2),"bottom"===this._hoveredCellSide&&this._showToolBar(this._horizontalToolBar,n.y2-i.y1-1),"left"===this._hoveredCellSide&&this._showToolBar(this._verticalToolBar,n.x1-i.x1-2),"right"===this._hoveredCellSide&&this._showToolBar(this._verticalToolBar,n.x2-i.x1-1)}_isToolbar(t){return!(!t.closest("."+C)&&!t.closest("."+T))}_leaveDetectArea(t){this._isToolbar(t.relatedTarget)||(clearTimeout(this._toolbarShowDelay),this._hideToolBar())}_toolbarCalling(t){this._isToolbar(t.target)||(clearTimeout(this._toolbarShowDelay),this._toolbarShowDelay=setTimeout((()=>{this._mouseInActivatingAreaListener(t)}),125))}_clickToolbar(t){if(!this._isToolbar(t.target))return;let n;if(this._activatedToolBar===this._horizontalToolBar?(this._addRow(),n="y"):(this._addColumn(),n="x"),isNaN(t.detail)&&null!==t.detail){const i=o(this._table.htmlElement);let e;e="x"===n?t.detail.x-i.x1:t.detail.y-i.y1,this._delayAddButtonForMultiClickingNearMouse(e)}else this._hideToolBar()}_containerKeydown(t){13===t.keyCode&&this._containerEnterPressed(t)}_delayAddButtonForMultiClickingNearMouse(t){this._showToolBar(this._activatedToolBar,t),this._activatedToolBar.hideLine(),clearTimeout(this._plusButDelay),this._plusButDelay=setTimeout((()=>{this._hideToolBar()}),500)}_getHoveredSideOfContainer(){return this._hoveredCell===this._container?this._isBottomOrRight()?0:-1:1}_isBottomOrRight(){return"bottom"===this._hoveredCellSide||"right"===this._hoveredCellSide}_addRow(){const t=this._hoveredCell.closest("TR");let n=this._getHoveredSideOfContainer();1===n&&(n=t.sectionRowIndex,n+=this._isBottomOrRight()),this._table.addRow(n)}_addColumn(){let t=this._getHoveredSideOfContainer();1===t&&(t=this._hoveredCell.cellIndex,t+=this._isBottomOrRight()),this._table.addColumn(t)}_containerEnterPressed(t){if(null===this._table.selectedCell||t.shiftKey)return;const n=this._table.selectedCell.closest("TR");let i=this._getHoveredSideOfContainer();1===i&&(i=n.sectionRowIndex+1),this._table.addRow(i).cells[0].click()}_mouseEnterInDetectArea(t){let n=s(o(this._container),t.pageX,t.pageY);t.target.dispatchEvent(new CustomEvent("mouseInActivatingArea",{detail:{side:n},bubbles:!0}))}}}])})));function Pe(t){let n=[];return n=t.items.map((t=>!0===t.checked?`- [x] ${t.text}`:`- [ ] ${t.text}`)),n.join("\n")}var Le=function(t){if(t)throw t}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */,ze=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},De=Object.prototype.hasOwnProperty,Ne=Object.prototype.toString,Ue=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,He=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Ne.call(t)},$e=function(t){if(!t||"[object Object]"!==Ne.call(t))return!1;var n,i=De.call(t,"constructor"),e=t.constructor&&t.constructor.prototype&&De.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!e)return!1;for(n in t);return void 0===n||De.call(t,n)},Ke=function(t,n){Ue&&"__proto__"===n.name?Ue(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},We=function(t,n){if("__proto__"===n){if(!De.call(t,n))return;if(Ve)return Ve(t,n).value}return t[n]},Ge=function t(){var n,i,e,r,o,s,u=arguments[0],a=1,c=arguments.length,h=!1;for("boolean"==typeof u&&(h=u,u=arguments[1]||{},a=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});a<c;++a)if(null!=(n=arguments[a]))for(i in n)e=We(u,i),u!==(r=We(n,i))&&(h&&r&&($e(r)||(o=He(r)))?(o?(o=!1,s=e&&He(e)?e:[]):s=e&&$e(e)?e:{},Ke(u,{name:i,newValue:t(h,s,r)})):void 0!==r&&Ke(u,{name:i,newValue:r}));return u},qe=t=>{if("[object Object]"!==Object.prototype.toString.call(t))return!1;const n=Object.getPrototypeOf(t);return null===n||n===Object.prototype},Je=[].slice,Ye=function(t,n){var i;return function(){var n,o=Je.call(arguments,0),s=t.length>o.length;s&&o.push(e);try{n=t.apply(null,o)}catch(t){if(s&&i)throw t;return e(t)}s||(n&&"function"==typeof n.then?n.then(r,e):n instanceof Error?e(n):r(n))};function e(){i||(i=!0,n.apply(null,arguments))}function r(t){e(null,t)}},Qe=Xe;Xe.wrap=Ye;var Ze=[].slice;function Xe(){var t=[],n={run:function(){var n=-1,i=Ze.call(arguments,0,-1),e=arguments[arguments.length-1];if("function"!=typeof e)throw new Error("Expected function as last argument, not "+e);function r(o){var s=t[++n],u=Ze.call(arguments,0),a=u.slice(1),c=i.length,h=-1;if(o)e(o);else{for(;++h<c;)null==a[h]&&(a[h]=i[h]);i=a,s?Ye(s,r).apply(null,i):e.apply(null,[null].concat(i))}}r.apply(null,[null].concat(i))},use:function(i){if("function"!=typeof i)throw new Error("Expected `fn` to be a function, not "+i);return t.push(i),n}};return n}var tr={}.hasOwnProperty,nr=function(t){return t&&"object"==typeof t?tr.call(t,"position")||tr.call(t,"type")?er(t.position):tr.call(t,"start")||tr.call(t,"end")?er(t):tr.call(t,"line")||tr.call(t,"column")?ir(t):"":""};function ir(t){return t&&"object"==typeof t||(t={}),rr(t.line)+":"+rr(t.column)}function er(t){return t&&"object"==typeof t||(t={}),ir(t.start)+"-"+ir(t.end)}function rr(t){return t&&"number"==typeof t?t:1}var or=ar;function sr(){}sr.prototype=Error.prototype;var ur=ar.prototype=new sr;function ar(t,n,i){var e,r,o;"string"==typeof n&&(i=n,n=null),e=function(t){var n,i=[null,null];return"string"==typeof t&&(-1===(n=t.indexOf(":"))?i[1]=t:(i[0]=t.slice(0,n),i[1]=t.slice(n+1))),i}(i),r=nr(n)||"1:1",o={start:{line:null,column:null},end:{line:null,column:null}},n&&n.position&&(n=n.position),n&&(n.start?(o=n,n=n.start):o.start=n),t.stack&&(this.stack=t.stack,t=t.message),this.message=t,this.name=r,this.reason=t,this.line=n?n.line:null,this.column=n?n.column:null,this.location=o,this.source=e[0],this.ruleId=e[1]}function cr(t){var n,i;return hr(t),n=47===t.charCodeAt(0),(i=function(t,n){for(var i,e,r="",o=0,s=-1,u=0,a=-1;++a<=t.length;){if(a<t.length)i=t.charCodeAt(a);else{if(47===i)break;i=47}if(47===i){if(s===a-1||1===u);else if(s!==a-1&&2===u){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){if((e=r.lastIndexOf("/"))!==r.length-1){e<0?(r="",o=0):o=(r=r.slice(0,e)).length-1-r.lastIndexOf("/"),s=a,u=0;continue}}else if(r.length){r="",o=0,s=a,u=0;continue}n&&(r=r.length?r+"/..":"..",o=2)}else r.length?r+="/"+t.slice(s+1,a):r=t.slice(s+1,a),o=a-s-1;s=a,u=0}else 46===i&&u>-1?u++:u=-1}return r}(t,!n)).length||n||(i="."),i.length&&47===t.charCodeAt(t.length-1)&&(i+="/"),n?"/"+i:i}function hr(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}ur.file="",ur.name="",ur.reason="",ur.message="",ur.stack="",ur.fatal=null,ur.column=null,ur.line=null;var fr=function(t,n){var i,e,r,o,s=0,u=-1;if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');if(hr(t),i=t.length,void 0===n||!n.length||n.length>t.length){for(;i--;)if(47===t.charCodeAt(i)){if(r){s=i+1;break}}else u<0&&(r=!0,u=i+1);return u<0?"":t.slice(s,u)}if(n===t)return"";for(e=-1,o=n.length-1;i--;)if(47===t.charCodeAt(i)){if(r){s=i+1;break}}else e<0&&(r=!0,e=i+1),o>-1&&(t.charCodeAt(i)===n.charCodeAt(o--)?o<0&&(u=i):(o=-1,u=e));return s===u?u=e:u<0&&(u=t.length),t.slice(s,u)},lr=function(t){var n,i,e;if(hr(t),!t.length)return".";for(n=-1,e=t.length;--e;)if(47===t.charCodeAt(e)){if(i){n=e;break}}else i||(i=!0);return n<0?47===t.charCodeAt(0)?"/":".":1===n&&47===t.charCodeAt(0)?"//":t.slice(0,n)},dr=function(t){var n,i,e,r=-1,o=0,s=-1,u=0;for(hr(t),e=t.length;e--;)if(47!==(i=t.charCodeAt(e)))s<0&&(n=!0,s=e+1),46===i?r<0?r=e:1!==u&&(u=1):r>-1&&(u=-1);else if(n){o=e+1;break}return r<0||s<0||0===u||1===u&&r===s-1&&r===o+1?"":t.slice(r,s)},vr=function(){for(var t,n=-1;++n<arguments.length;)hr(arguments[n]),arguments[n]&&(t=void 0===t?arguments[n]:t+"/"+arguments[n]);return void 0===t?".":cr(t)},pr="/",mr=function(){return"/"},br=wr,gr={}.hasOwnProperty,yr=["history","path","basename","stem","extname","dirname"];function wr(t){var n,i;if(t){if("string"==typeof t||ze(t))t={contents:t};else if("message"in t&&"messages"in t)return t}else t={};if(!(this instanceof wr))return new wr(t);for(this.data={},this.messages=[],this.history=[],this.cwd=mr(),i=-1;++i<yr.length;)gr.call(t,n=yr[i])&&(this[n]=t[n]);for(n in t)yr.indexOf(n)<0&&(this[n]=t[n])}function xr(t,n){if(t&&t.indexOf(pr)>-1)throw new Error("`"+n+"` cannot be a path: did not expect `"+pr+"`")}function kr(t,n){if(!t)throw new Error("`"+n+"` cannot be empty")}function _r(t,n){if(!t)throw new Error("Setting `"+n+"` requires `path` to be set too")}wr.prototype.toString=function(t){return(this.contents||"").toString(t)},Object.defineProperty(wr.prototype,"path",{get:function(){return this.history[this.history.length-1]},set:function(t){kr(t,"path"),this.path!==t&&this.history.push(t)}}),Object.defineProperty(wr.prototype,"dirname",{get:function(){return"string"==typeof this.path?lr(this.path):void 0},set:function(t){_r(this.path,"dirname"),this.path=vr(t||"",this.basename)}}),Object.defineProperty(wr.prototype,"basename",{get:function(){return"string"==typeof this.path?fr(this.path):void 0},set:function(t){kr(t,"basename"),xr(t,"basename"),this.path=vr(this.dirname||"",t)}}),Object.defineProperty(wr.prototype,"extname",{get:function(){return"string"==typeof this.path?dr(this.path):void 0},set:function(t){if(xr(t,"extname"),_r(this.path,"extname"),t){if(46!==t.charCodeAt(0))throw new Error("`extname` must start with `.`");if(t.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=vr(this.dirname,this.stem+(t||""))}}),Object.defineProperty(wr.prototype,"stem",{get:function(){return"string"==typeof this.path?fr(this.path,this.extname):void 0},set:function(t){kr(t,"stem"),xr(t,"stem"),this.path=vr(this.dirname||"",t+(this.extname||""))}});var Ar=br;br.prototype.message=function(t,n,i){var e=new or(t,n,i);return this.path&&(e.name=this.path+":"+e.name,e.file=this.path),e.fatal=!1,this.messages.push(e),e},br.prototype.info=function(){var t=this.message.apply(this,arguments);return t.fatal=null,t},br.prototype.fail=function(){var t=this.message.apply(this,arguments);throw t.fatal=!0,t};var Sr=Ar,Er=function t(){var n,i=[],e=Qe(),r={},o=-1;return s.data=function(t,i){return"string"==typeof t?2===arguments.length?(Fr("data",n),r[t]=i,s):Mr.call(r,t)&&r[t]||null:t?(Fr("data",n),r=t,s):r},s.freeze=u,s.attachers=i,s.use=function(t){var e;if(Fr("use",n),null==t);else if("function"==typeof t)h.apply(null,arguments);else{if("object"!=typeof t)throw new Error("Expected usable value, not `"+t+"`");"length"in t?c(t):o(t)}return e&&(r.settings=Ge(r.settings||{},e)),s;function o(t){c(t.plugins),t.settings&&(e=Ge(e||{},t.settings))}function u(t){if("function"==typeof t)h(t);else{if("object"!=typeof t)throw new Error("Expected usable value, not `"+t+"`");"length"in t?h.apply(null,t):o(t)}}function c(t){var n=-1;if(null==t);else{if("object"!=typeof t||!("length"in t))throw new Error("Expected a list of plugins, not `"+t+"`");for(;++n<t.length;)u(t[n])}}function h(t,n){var e=a(t);e?(qe(e[1])&&qe(n)&&(n=Ge(!0,e[1],n)),e[1]=n):i.push(Or.call(arguments))}},s.parse=function(t){var n,i=Sr(t);return u(),jr("parse",n=s.Parser),Tr(n,"parse")?new n(String(i),i).parse():n(String(i),i)},s.stringify=function(t,n){var i,e=Sr(n);return u(),Rr("stringify",i=s.Compiler),Ir(t),Tr(i,"compile")?new i(t,e).compile():i(t,e)},s.run=c,s.runSync=function(t,n){var i,e;return c(t,n,(function(t,n){e=!0,i=n,Le(t)})),Br("runSync","run",e),i},s.process=h,s.processSync=function(t){var n,i;return u(),jr("processSync",s.Parser),Rr("processSync",s.Compiler),h(n=Sr(t),(function(t){i=!0,Le(t)})),Br("processSync","process",i),n},s;function s(){for(var n=t(),e=-1;++e<i.length;)n.use.apply(null,i[e]);return n.data(Ge(!0,{},r)),n}function u(){var t,r;if(n)return s;for(;++o<i.length;)!1!==(t=i[o])[1]&&(!0===t[1]&&(t[1]=void 0),"function"==typeof(r=t[0].apply(s,t.slice(1)))&&e.use(r));return n=!0,o=1/0,s}function a(t){for(var n=-1;++n<i.length;)if(i[n][0]===t)return i[n]}function c(t,n,i){if(Ir(t),u(),i||"function"!=typeof n||(i=n,n=null),!i)return new Promise(r);function r(r,o){e.run(t,Sr(n),(function(n,e,s){e=e||t,n?o(n):r?r(e):i(null,e,s)}))}r(null,i)}function h(t,n){if(u(),jr("process",s.Parser),Rr("process",s.Compiler),!n)return new Promise(i);function i(i,e){var r=Sr(t);Cr.run(s,{file:r},(function(t){t?e(t):i?i(r):n(null,r)}))}i(null,n)}}().freeze(),Or=[].slice,Mr={}.hasOwnProperty,Cr=Qe().use((function(t,n){n.tree=t.parse(n.file)})).use((function(t,n,i){t.run(n.tree,n.file,(function(t,e,r){t?i(t):(n.tree=e,n.file=r,i())}))})).use((function(t,n){var i=t.stringify(n.tree,n.file);null==i||("string"==typeof i||ze(i)?n.file.contents=i:n.file.result=i)}));function Tr(t,n){return"function"==typeof t&&t.prototype&&(function(t){var n;for(n in t)return!0;return!1}(t.prototype)||n in t.prototype)}function jr(t,n){if("function"!=typeof n)throw new Error("Cannot `"+t+"` without `Parser`")}function Rr(t,n){if("function"!=typeof n)throw new Error("Cannot `"+t+"` without `Compiler`")}function Fr(t,n){if(n)throw new Error("Cannot invoke `"+t+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function Ir(t){if(!t||"string"!=typeof t.type)throw new Error("Expected node, got `"+t+"`")}function Br(t,n,i){if(!i)throw new Error("`"+t+"` finished async. Use `"+n+"` instead")}var Pr=Lr;function Lr(t){return t&&(t.value||t.alt||t.title||"children"in t&&zr(t.children)||"length"in t&&zr(t))||""}function zr(t){for(var n=[],i=-1;++i<t.length;)n[i]=Lr(t[i]);return n.join("")}var Dr=Object.assign,Nr={}.hasOwnProperty,Ur=function(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()},Vr=String.fromCharCode,Hr=function(t){return t<-2},$r=function(t){return-2===t||-1===t||32===t},Kr=function(t,n,i,e){var r=e?e-1:1/0,o=0;return function(e){return $r(e)?(t.enter(i),s(e)):n(e)};function s(e){return $r(e)&&o++<r?(t.consume(e),s):(t.exit(i),n(e))}},Wr=on((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tokenize=function(t){var n,i=t.attempt(this.parser.constructs.contentInitial,(function(n){if(null!==n)return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Kr(t,i,"linePrefix");t.consume(n)}),(function(n){return t.enter("paragraph"),e(n)}));return i;function e(i){var e=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=e),n=e,r(i)}function r(n){return null===n?(t.exit("chunkText"),t.exit("paragraph"),void t.consume(n)):Hr(n)?(t.consume(n),t.exit("chunkText"),e):(t.consume(n),r)}}})),Gr={tokenize:function(t,n,i){return Kr(t,(function(t){return null===t||Hr(t)?n(t):i(t)}),"linePrefix")},partial:!0},qr=on((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var i={tokenize:function(t,n,i){return Kr(t,t.attempt(this.parser.constructs.document,n,i),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},e={tokenize:function(t,n,i){return Kr(t,t.lazy(this.parser.constructs.flow,n,i),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}};n.tokenize=function(t){var n,r,o,s=this,u=[],a=0,c={tokenize:function(t,o){var a=0;return n={},c;function c(e){return a<u.length?(s.containerState=u[a][1],t.attempt(u[a][0].continuation,h,f)(e)):r.currentConstruct&&r.currentConstruct.concrete?(n.flowContinue=!0,v(e)):(s.interrupt=r.currentConstruct&&r.currentConstruct.interruptible,s.containerState={},t.attempt(i,d,v)(e))}function h(t){return a++,s.containerState._closeFlow?d(t):c(t)}function f(n){return r.currentConstruct&&r.currentConstruct.lazy?(s.containerState={},t.attempt(i,d,t.attempt(e,d,t.check(Gr,d,l)))(n)):d(n)}function l(t){return a=u.length,n.lazy=!0,n.flowContinue=!0,v(t)}function d(t){return n.flowEnd=!0,v(t)}function v(t){return n.continued=a,s.interrupt=s.containerState=void 0,o(t)}},partial:!0};return h;function h(n){return a<u.length?(s.containerState=u[a][1],t.attempt(u[a][0].continuation,f,l)(n)):l(n)}function f(t){return a++,h(t)}function l(e){return n&&n.flowContinue?v(e):(s.interrupt=r&&r.currentConstruct&&r.currentConstruct.interruptible,s.containerState={},t.attempt(i,d,v)(e))}function d(t){return u.push([s.currentConstruct,s.containerState]),s.containerState=void 0,l(t)}function v(n){return null===n?(g(0,!0),void t.consume(n)):(r=r||s.parser.flow(s.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:r}),p(n))}function p(n){return null===n?(b(t.exit("chunkFlow")),v(n)):Hr(n)?(t.consume(n),b(t.exit("chunkFlow")),t.check(c,m)):(t.consume(n),p)}function m(t){return g(n.continued,n&&n.flowEnd),a=0,h(t)}function b(t){o&&(o.next=t),o=t,r.lazy=n&&n.lazy,r.defineSkip(t.start),r.write(s.sliceStream(t))}function g(n,i){var e=u.length;for(r&&i&&(r.write([null]),o=r=void 0);e-- >n;)s.containerState=u[e][1],u[e][0].exit.call(s,t);u.length=n}}})),Jr=function(t){for(var n=-1,i=0;++n<t.length;)i+="string"==typeof t[n]?t[n].length:1;return i},Yr=function(t,n){var i=t[t.length-1];return i&&i[1].type===n?Jr(i[2].sliceStream(i[1])):0},Qr=[].splice,Zr=function(t,n,i,e){var r,o=t.length,s=0;if(n=n<0?-n>o?0:o+n:n>o?o:n,i=i>0?i:0,e.length<1e4)(r=Array.from(e)).unshift(n,i),Qr.apply(t,r);else for(i&&Qr.apply(t,[n,i]);s<e.length;)(r=e.slice(s,s+1e4)).unshift(n,0),Qr.apply(t,r),s+=1e4,n+=1e4},Xr=function(t){return Dr({},t)};function to(t,n){for(var i,e,r,o,s,u,a=t[n][1],c=t[n][2],h=n-1,f=[],l=a._tokenizer||c.parser[a.contentType](a.start),d=l.events,v=[],p={};a;){for(;t[++h][1]!==a;);f.push(h),a._tokenizer||(i=c.sliceStream(a),a.next||i.push(null),e&&l.defineSkip(a.start),a.isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(i),a.isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),e=a,a=a.next}for(a=e,r=d.length;r--;)"enter"===d[r][0]?o=!0:o&&d[r][1].type===d[r-1][1].type&&d[r][1].start.line!==d[r][1].end.line&&(m(d.slice(r+1,s)),a._tokenizer=a.next=void 0,a=a.previous,s=r+1);for(l.events=a._tokenizer=a.next=void 0,m(d.slice(0,s)),r=-1,u=0;++r<v.length;)p[u+v[r][0]]=u+v[r][1],u+=v[r][1]-v[r][0]-1;return p;function m(n){var i=f.pop();v.unshift([i,i+n.length-1]),Zr(t,i,2,n)}}var no=function(t){for(var n,i,e,r,o,s,u,a={},c=-1;++c<t.length;){for(;c in a;)c=a[c];if(n=t[c],c&&"chunkFlow"===n[1].type&&"listItemPrefix"===t[c-1][1].type&&((e=0)<(s=n[1]._tokenizer.events).length&&"lineEndingBlank"===s[e][1].type&&(e+=2),e<s.length&&"content"===s[e][1].type))for(;++e<s.length&&"content"!==s[e][1].type;)"chunkText"===s[e][1].type&&(s[e][1].isInFirstContentOfListItem=!0,e++);if("enter"===n[0])n[1].contentType&&(Dr(a,to(t,c)),c=a[c],u=!0);else if(n[1]._container||n[1]._movePreviousLineEndings){for(e=c,i=void 0;e--&&("lineEnding"===(r=t[e])[1].type||"lineEndingBlank"===r[1].type);)"enter"===r[0]&&(i&&(t[i][1].type="lineEndingBlank"),r[1].type="lineEnding",i=e);i&&(n[1].end=Xr(t[i][1].start),(o=t.slice(i,c)).unshift(n),Zr(t,i,c-i+1,o))}}return!u},io={tokenize:function(t,n){var i;return function(n){return t.enter("content"),i=t.enter("chunkContent",{contentType:"content"}),e(n)};function e(n){return null===n?r(n):Hr(n)?t.check(eo,o,r)(n):(t.consume(n),e)}function r(i){return t.exit("chunkContent"),t.exit("content"),n(i)}function o(n){return t.consume(n),t.exit("chunkContent"),i=i.next=t.enter("chunkContent",{contentType:"content",previous:i}),e}},resolve:function(t){return no(t),t},interruptible:!0,lazy:!0},eo={tokenize:function(t,n,i){var e=this;return function(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Kr(t,r,"linePrefix")};function r(r){return null===r||Hr(r)?i(r):e.parser.constructs.disable.null.indexOf("codeIndented")>-1||Yr(e.events,"linePrefix")<4?t.interrupt(e.parser.constructs.flow,i,n)(r):n(r)}},partial:!0},ro=io,oo=on((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tokenize=function(t){var n=this,i=t.attempt(Gr,(function(e){if(null!==e)return t.enter("lineEndingBlank"),t.consume(e),t.exit("lineEndingBlank"),n.currentConstruct=void 0,i;t.consume(e)}),t.attempt(this.parser.constructs.flowInitial,e,Kr(t,t.attempt(this.parser.constructs.flow,e,t.attempt(ro,e)),"linePrefix")));return i;function e(e){if(null!==e)return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),n.currentConstruct=void 0,i;t.consume(e)}}})),so=on((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=o("text"),e=o("string"),r={resolveAll:s()};function o(t){return{tokenize:function(n){var i=this,e=this.parser.constructs[t],r=n.attempt(e,o,s);return o;function o(t){return a(t)?r(t):s(t)}function s(t){if(null!==t)return n.enter("data"),n.consume(t),u;n.consume(t)}function u(t){return a(t)?(n.exit("data"),r(t)):(n.consume(t),u)}function a(t){var n=e[t],r=-1;if(null===t)return!0;if(n)for(;++r<n.length;)if(!n[r].previous||n[r].previous.call(i,i.previous))return!0}},resolveAll:s("text"===t?u:void 0)}}function s(t){return function(n,i){for(var e,r=-1;++r<=n.length;)void 0===e?n[r]&&"data"===n[r][1].type&&(e=r,r++):n[r]&&"data"===n[r][1].type||(r!==e+2&&(n[e][1].end=n[r-1][1].end,n.splice(e+2,r-e-2),r=e+2),e=void 0);return t?t(n,i):n}}function u(t,n){for(var i,e,r,o,s,u,a,c,h=-1;++h<=t.length;)if((h===t.length||"lineEnding"===t[h][1].type)&&"data"===t[h-1][1].type){for(o=(i=n.sliceStream(e=t[h-1][1])).length,s=-1,u=0,a=void 0;o--;)if("string"==typeof(r=i[o])){for(s=r.length;32===r.charCodeAt(s-1);)u++,s--;if(s)break;s=-1}else if(-2===r)a=!0,u++;else if(-1!==r){o++;break}u&&(c={type:h===t.length||a||u<2?"lineSuffix":"hardBreakTrailing",start:{line:e.end.line,column:e.end.column-u,offset:e.end.offset-u,_index:e.start._index+o,_bufferIndex:o?s:e.start._bufferIndex+s},end:Xr(e.end)},e.end=Xr(c.start),e.start.offset===e.end.offset?Dr(e,c):(t.splice(h,0,["enter",c,n],["exit",c,n]),h+=2)),h++}return t}n.resolver=r,n.string=e,n.text=i})),uo=function(t){return null==t?[]:"length"in t?t:[t]};function ao(t,n){var i,e,r,o;for(i in n)for(o in e=Nr.call(t,i)?t[i]:t[i]={},r=n[i])e[o]=co(uo(r[o]),Nr.call(e,o)?e[o]:[])}function co(t,n){for(var i=-1,e=[];++i<t.length;)("after"===t[i].add?n:e).push(t[i]);return Zr(n,0,0,e),n}var ho,fo=function(t){for(var n={},i=-1;++i<t.length;)ao(n,t[i]);return n},lo=function(t,n){return t.length?(Zr(t,t.length,0,n),t):n},vo=function(t,n,i){for(var e,r=[],o=-1;++o<t.length;)(e=t[o].resolveAll)&&r.indexOf(e)<0&&(n=e(n,i),r.push(e));return n},po=function(t,n,i){var e=i?Xr(i):{line:1,column:1,offset:0},r={},o=[],s=[],u=[],a={consume:function(t){Hr(t)?(e.line++,e.column=1,e.offset+=-3===t?2:1,b()):-1!==t&&(e.column++,e.offset++),e._bufferIndex<0?e._index++:(e._bufferIndex++,e._bufferIndex===s[e._index].length&&(e._bufferIndex=-1,e._index++)),c.previous=t},enter:function(t,n){var i=n||{};return i.type=t,i.start=l(),c.events.push(["enter",i,c]),u.push(i),i},exit:function(){var t=u.pop();return t.end=l(),c.events.push(["exit",t,c]),t},attempt:p((function(t,n){m(t,n.from)})),check:p(v),interrupt:p(v,{interrupt:!0}),lazy:p(v,{lazy:!0})},c={previous:null,events:[],parser:t,sliceStream:f,sliceSerialize:function(t){return function(t){for(var n,i,e,r=-1,o=[];++r<t.length;){if("string"==typeof(n=t[r]))i=n;else if(-5===n)i="\r";else if(-4===n)i="\n";else if(-3===n)i="\r\n";else if(-2===n)i="\t";else if(-1===n){if(e)continue;i=" "}else i=Vr(n);e=-2===n,o.push(i)}return o.join("")}(f(t))},now:l,defineSkip:function(t){r[t.line]=t.column,b()},write:function(t){return s=lo(s,t),function(){for(var t,n;e._index<s.length;)if("string"==typeof(n=s[e._index]))for(t=e._index,e._bufferIndex<0&&(e._bufferIndex=0);e._index===t&&e._bufferIndex<n.length;)d(n.charCodeAt(e._bufferIndex));else d(n)}(),null!==s[s.length-1]?[]:(m(n,0),c.events=vo(o,c.events,c),c.events)}},h=n.tokenize.call(c,a);return n.resolveAll&&o.push(n),e._index=0,e._bufferIndex=-1,c;function f(t){return function(t,n){var i,e=n.start._index,r=n.start._bufferIndex,o=n.end._index,s=n.end._bufferIndex;return e===o?i=[t[e].slice(r,s)]:(i=t.slice(e,o),r>-1&&(i[0]=i[0].slice(r)),s>0&&i.push(t[o].slice(0,s))),i}(s,t)}function l(){return Xr(e)}function d(t){h=h(t)}function v(t,n){n.restore()}function p(t,n){return function(i,r,o){var s,h,f,d;return i.tokenize||"length"in i?v(uo(i)):function(t){return t in i||null in i?v(i.null?uo(i[t]).concat(uo(i.null)):i[t])(t):o(t)};function v(t){return s=t,p(t[h=0])}function p(t){return function(i){var r,o,s,h,v;return r=l(),o=c.previous,s=c.currentConstruct,h=c.events.length,v=Array.from(u),d={restore:function(){e=r,c.previous=o,c.currentConstruct=s,c.events.length=h,u=v,b()},from:h},f=t,t.partial||(c.currentConstruct=t),t.name&&c.parser.constructs.disable.null.indexOf(t.name)>-1?g():t.tokenize.call(n?Dr({},c,n):c,a,m,g)(i)}}function m(){return t(f,d),r}function g(){return d.restore(),++h<s.length?p(s[h]):o}}}function m(t,n){t.resolveAll&&o.indexOf(t)<0&&o.push(t),t.resolve&&Zr(c.events,n,c.events.length-n,t.resolve(c.events.slice(n),c)),t.resolveTo&&(c.events=t.resolveTo(c.events,c))}function b(){e.line in r&&e.column<2&&(e.column=r[e.line],e.offset+=r[e.line]-1)}},mo=function(t){return t<0||32===t},bo=function(t){return function(n){return t.test(Vr(n))}},go=bo(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),yo=bo(/\s/),wo=function(t){return null===t||mo(t)||yo(t)?1:go(t)?2:void 0},xo=function(t,n){return t.column+=n,t.offset+=n,t._bufferIndex+=n,t},ko={name:"attention",tokenize:function(t,n){var i,e=wo(this.previous);return function(n){return t.enter("attentionSequence"),i=n,r(n)};function r(o){var s,u,a,c;return o===i?(t.consume(o),r):(s=t.exit("attentionSequence"),a=!(u=wo(o))||2===u&&e,c=!e||2===e&&u,s._open=42===i?a:a&&(e||!c),s._close=42===i?c:c&&(u||!a),n(o))}},resolveAll:function(t,n){for(var i,e,r,o,s,u,a,c,h=-1;++h<t.length;)if("enter"===t[h][0]&&"attentionSequence"===t[h][1].type&&t[h][1]._close)for(i=h;i--;)if("exit"===t[i][0]&&"attentionSequence"===t[i][1].type&&t[i][1]._open&&n.sliceSerialize(t[i][1]).charCodeAt(0)===n.sliceSerialize(t[h][1]).charCodeAt(0)){if((t[i][1]._close||t[h][1]._open)&&(t[h][1].end.offset-t[h][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[h][1].end.offset-t[h][1].start.offset)%3))continue;o={type:(u=t[i][1].end.offset-t[i][1].start.offset>1&&t[h][1].end.offset-t[h][1].start.offset>1?2:1)>1?"strongSequence":"emphasisSequence",start:xo(Xr(t[i][1].end),-u),end:Xr(t[i][1].end)},s={type:u>1?"strongSequence":"emphasisSequence",start:Xr(t[h][1].start),end:xo(Xr(t[h][1].start),u)},r={type:u>1?"strongText":"emphasisText",start:Xr(t[i][1].end),end:Xr(t[h][1].start)},e={type:u>1?"strong":"emphasis",start:Xr(o.start),end:Xr(s.end)},t[i][1].end=Xr(o.start),t[h][1].start=Xr(s.end),a=[],t[i][1].end.offset-t[i][1].start.offset&&(a=lo(a,[["enter",t[i][1],n],["exit",t[i][1],n]])),a=lo(a,[["enter",e,n],["enter",o,n],["exit",o,n],["enter",r,n]]),a=lo(a,vo(n.parser.constructs.insideSpan.null,t.slice(i+1,h),n)),a=lo(a,[["exit",r,n],["enter",s,n],["exit",s,n],["exit",e,n]]),t[h][1].end.offset-t[h][1].start.offset?(c=2,a=lo(a,[["enter",t[h][1],n],["exit",t[h][1],n]])):c=0,Zr(t,i-1,h-i+3,a),h=i+a.length-c-2;break}for(h=-1;++h<t.length;)"attentionSequence"===t[h][1].type&&(t[h][1].type="data");return t}},_o=bo(/[A-Za-z]/),Ao=bo(/[\dA-Za-z]/),So=bo(/[#-'*+\--9=?A-Z^-~]/),Eo=function(t){return t<32||127===t},Oo={name:"autolink",tokenize:function(t,n,i){var e=1;return function(n){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(n),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),r};function r(n){return _o(n)?(t.consume(n),o):So(n)?a(n):i(n)}function o(t){return 43===t||45===t||46===t||Ao(t)?s(t):a(t)}function s(n){return 58===n?(t.consume(n),u):(43===n||45===n||46===n||Ao(n))&&e++<32?(t.consume(n),s):a(n)}function u(n){return 62===n?(t.exit("autolinkProtocol"),l(n)):32===n||60===n||Eo(n)?i(n):(t.consume(n),u)}function a(n){return 64===n?(t.consume(n),e=0,c):So(n)?(t.consume(n),a):i(n)}function c(t){return Ao(t)?h(t):i(t)}function h(n){return 46===n?(t.consume(n),e=0,c):62===n?(t.exit("autolinkProtocol").type="autolinkEmail",l(n)):f(n)}function f(n){return(45===n||Ao(n))&&e++<63?(t.consume(n),45===n?f:h):i(n)}function l(i){return t.enter("autolinkMarker"),t.consume(i),t.exit("autolinkMarker"),t.exit("autolink"),n}}},Mo={name:"blockQuote",tokenize:function(t,n,i){var e=this;return function(n){return 62===n?(e.containerState.open||(t.enter("blockQuote",{_container:!0}),e.containerState.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(n),t.exit("blockQuoteMarker"),r):i(n)};function r(i){return $r(i)?(t.enter("blockQuotePrefixWhitespace"),t.consume(i),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),n):(t.exit("blockQuotePrefix"),n(i))}},continuation:{tokenize:function(t,n,i){return Kr(t,t.attempt(Mo,n,i),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},exit:function(t){t.exit("blockQuote")}},Co=Mo,To=bo(/[!-/:-@[-`{-~]/),jo={name:"characterEscape",tokenize:function(t,n,i){return function(n){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(n),t.exit("escapeMarker"),e};function e(e){return To(e)?(t.enter("characterEscapeValue"),t.consume(e),t.exit("characterEscapeValue"),t.exit("characterEscape"),n):i(e)}}},Ro=function(t){var n,i="&"+t+";";return(ho=ho||document.createElement("i")).innerHTML=i,(59!==(n=ho.textContent).charCodeAt(n.length-1)||"semi"===t)&&(n!==i&&n)},Fo=bo(/\d/),Io=bo(/[\dA-Fa-f]/);function Bo(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var Po=Bo(Ro),Lo={name:"characterReference",tokenize:function(t,n,i){var e,r,o=this,s=0;return function(n){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(n),t.exit("characterReferenceMarker"),u};function u(n){return 35===n?(t.enter("characterReferenceMarkerNumeric"),t.consume(n),t.exit("characterReferenceMarkerNumeric"),a):(t.enter("characterReferenceValue"),e=31,r=Ao,c(n))}function a(n){return 88===n||120===n?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(n),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),e=6,r=Io,c):(t.enter("characterReferenceValue"),e=7,r=Fo,c(n))}function c(u){var a;return 59===u&&s?(a=t.exit("characterReferenceValue"),r!==Ao||Po.default(o.sliceSerialize(a))?(t.enter("characterReferenceMarker"),t.consume(u),t.exit("characterReferenceMarker"),t.exit("characterReference"),n):i(u)):r(u)&&s++<e?(t.consume(u),c):i(u)}}},zo={name:"codeFenced",tokenize:function(t,n,i){var e,r=this,o={tokenize:function(t,n,i){var r=0;return Kr(t,(function(n){return t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),o(n)}),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function o(n){return n===e?(t.consume(n),r++,o):r<u?i(n):(t.exit("codeFencedFenceSequence"),Kr(t,s,"whitespace")(n))}function s(e){return null===e||Hr(e)?(t.exit("codeFencedFence"),n(e)):i(e)}},partial:!0},s=Yr(this.events,"linePrefix"),u=0;return function(n){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),e=n,a(n)};function a(n){return n===e?(t.consume(n),u++,a):(t.exit("codeFencedFenceSequence"),u<3?i(n):Kr(t,c,"whitespace")(n))}function c(n){return null===n||Hr(n)?d(n):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(n))}function h(n){return null===n||mo(n)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Kr(t,f,"whitespace")(n)):96===n&&n===e?i(n):(t.consume(n),h)}function f(n){return null===n||Hr(n)?d(n):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),l(n))}function l(n){return null===n||Hr(n)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(n)):96===n&&n===e?i(n):(t.consume(n),l)}function d(i){return t.exit("codeFencedFence"),r.interrupt?n(i):v(i)}function v(n){return null===n?m(n):Hr(n)?(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),t.attempt(o,m,s?Kr(t,v,"linePrefix",s+1):v)):(t.enter("codeFlowValue"),p(n))}function p(n){return null===n||Hr(n)?(t.exit("codeFlowValue"),v(n)):(t.consume(n),p)}function m(i){return t.exit("codeFenced"),n(i)}},concrete:!0},Do={name:"codeIndented",tokenize:function(t,n,i){return t.attempt(No,e,i);function e(i){return null===i?n(i):Hr(i)?t.attempt(No,e,n)(i):(t.enter("codeFlowValue"),r(i))}function r(n){return null===n||Hr(n)?(t.exit("codeFlowValue"),e(n)):(t.consume(n),r)}},resolve:function(t,n){var i={type:"codeIndented",start:t[0][1].start,end:t[t.length-1][1].end};return Zr(t,0,0,[["enter",i,n]]),Zr(t,t.length,0,[["exit",i,n]]),t}},No={tokenize:function(t,n,i){var e=this;return Kr(t,(function r(o){return Hr(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Kr(t,r,"linePrefix",5)):Yr(e.events,"linePrefix")<4?i(o):n(o)}),"linePrefix",5)},partial:!0},Uo=Do,Vo={name:"codeText",tokenize:function(t,n,i){var e,r,o=0;return function(n){return t.enter("codeText"),t.enter("codeTextSequence"),s(n)};function s(n){return 96===n?(t.consume(n),o++,s):(t.exit("codeTextSequence"),u(n))}function u(n){return null===n?i(n):96===n?(r=t.enter("codeTextSequence"),e=0,c(n)):32===n?(t.enter("space"),t.consume(n),t.exit("space"),u):Hr(n)?(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),u):(t.enter("codeTextData"),a(n))}function a(n){return null===n||32===n||96===n||Hr(n)?(t.exit("codeTextData"),u(n)):(t.consume(n),a)}function c(i){return 96===i?(t.consume(i),e++,c):e===o?(t.exit("codeTextSequence"),t.exit("codeText"),n(i)):(r.type="codeTextData",a(i))}},resolve:function(t){var n,i,e=t.length-4,r=3;if(!("lineEnding"!==t[r][1].type&&"space"!==t[r][1].type||"lineEnding"!==t[e][1].type&&"space"!==t[e][1].type))for(n=r;++n<e;)if("codeTextData"===t[n][1].type){t[e][1].type=t[r][1].type="codeTextPadding",r+=2,e-=2;break}for(n=r-1,e++;++n<=e;)void 0===i?n!==e&&"lineEnding"!==t[n][1].type&&(i=n):n!==e&&"lineEnding"!==t[n][1].type||(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t},previous:function(t){return 96!==t||"characterEscape"===this.events[this.events.length-1][1].type}},Ho=function(t,n,i,e,r,o,s,u,a){var c=a||1/0,h=0;return function(n){return 60===n?(t.enter(e),t.enter(r),t.enter(o),t.consume(n),t.exit(o),f):Eo(n)||41===n?i(n):(t.enter(e),t.enter(s),t.enter(u),t.enter("chunkString",{contentType:"string"}),v(n))};function f(i){return 62===i?(t.enter(o),t.consume(i),t.exit(o),t.exit(r),t.exit(e),n):(t.enter(u),t.enter("chunkString",{contentType:"string"}),l(i))}function l(n){return 62===n?(t.exit("chunkString"),t.exit(u),f(n)):null===n||60===n||Hr(n)?i(n):(t.consume(n),92===n?d:l)}function d(n){return 60===n||62===n||92===n?(t.consume(n),l):l(n)}function v(r){return 40===r?++h>c?i(r):(t.consume(r),v):41===r?h--?(t.consume(r),v):(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(e),n(r)):null===r||mo(r)?h?i(r):(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(e),n(r)):Eo(r)?i(r):(t.consume(r),92===r?p:v)}function p(n){return 40===n||41===n||92===n?(t.consume(n),v):v(n)}},$o=function(t,n,i,e,r,o){var s,u=this,a=0;return function(n){return t.enter(e),t.enter(r),t.consume(n),t.exit(r),t.enter(o),c};function c(f){return null===f||91===f||93===f&&!s||94===f&&!a&&"_hiddenFootnoteSupport"in u.parser.constructs||a>999?i(f):93===f?(t.exit(o),t.enter(r),t.consume(f),t.exit(r),t.exit(e),n):Hr(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(n){return null===n||91===n||93===n||Hr(n)||a++>999?(t.exit("chunkString"),c(n)):(t.consume(n),s=s||!$r(n),92===n?f:h)}function f(n){return 91===n||92===n||93===n?(t.consume(n),a++,h):h(n)}},Ko=function(t,n){var i;return function e(r){return Hr(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),i=!0,e):$r(r)?Kr(t,e,i?"linePrefix":"lineSuffix")(r):n(r)}},Wo=function(t,n,i,e,r,o){var s;return function(n){return t.enter(e),t.enter(r),t.consume(n),t.exit(r),s=40===n?41:n,u};function u(i){return i===s?(t.enter(r),t.consume(i),t.exit(r),t.exit(e),n):(t.enter(o),a(i))}function a(n){return n===s?(t.exit(o),u(s)):null===n?i(n):Hr(n)?(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Kr(t,a,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(n))}function c(n){return n===s||null===n||Hr(n)?(t.exit("chunkString"),a(n)):(t.consume(n),92===n?h:c)}function h(n){return n===s||92===n?(t.consume(n),c):c(n)}},Go={name:"definition",tokenize:function(t,n,i){var e,r=this;return function(n){return t.enter("definition"),$o.call(r,t,o,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(n)};function o(n){return e=Ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===n?(t.enter("definitionMarker"),t.consume(n),t.exit("definitionMarker"),Ko(t,Ho(t,t.attempt(qo,Kr(t,s,"whitespace"),Kr(t,s,"whitespace")),i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):i(n)}function s(o){return null===o||Hr(o)?(t.exit("definition"),r.parser.defined.indexOf(e)<0&&r.parser.defined.push(e),n(o)):i(o)}}},qo={tokenize:function(t,n,i){return function(n){return mo(n)?Ko(t,e)(n):i(n)};function e(n){return 34===n||39===n||40===n?Wo(t,Kr(t,r,"whitespace"),i,"definitionTitle","definitionTitleMarker","definitionTitleString")(n):i(n)}function r(t){return null===t||Hr(t)?n(t):i(t)}},partial:!0},Jo=Go,Yo={name:"hardBreakEscape",tokenize:function(t,n,i){return function(n){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(n),e};function e(e){return Hr(e)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),n(e)):i(e)}}},Qo={name:"headingAtx",tokenize:function(t,n,i){var e=this,r=0;return function(n){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(n)};function o(u){return 35===u&&r++<6?(t.consume(u),o):null===u||mo(u)?(t.exit("atxHeadingSequence"),e.interrupt?n(u):s(u)):i(u)}function s(i){return 35===i?(t.enter("atxHeadingSequence"),u(i)):null===i||Hr(i)?(t.exit("atxHeading"),n(i)):$r(i)?Kr(t,s,"whitespace")(i):(t.enter("atxHeadingText"),a(i))}function u(n){return 35===n?(t.consume(n),u):(t.exit("atxHeadingSequence"),s(n))}function a(n){return null===n||35===n||mo(n)?(t.exit("atxHeadingText"),s(n)):(t.consume(n),a)}},resolve:function(t,n){var i,e,r=t.length-2,o=3;return"whitespace"===t[o][1].type&&(o+=2),r-2>o&&"whitespace"===t[r][1].type&&(r-=2),"atxHeadingSequence"===t[r][1].type&&(o===r-1||r-4>o&&"whitespace"===t[r-2][1].type)&&(r-=o+1===r?2:4),r>o&&Zr(t,o,r-o+1,[["enter",i={type:"atxHeadingText",start:t[o][1].start,end:t[r][1].end},n],["enter",e={type:"chunkText",start:t[o][1].start,end:t[r][1].end,contentType:"text"},n],["exit",e,n],["exit",i,n]]),t}},Zo=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Xo=["pre","script","style","textarea"],ts={name:"htmlFlow",tokenize:function(t,n,i){var e,r,o,s,u,a=this;return function(n){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(n),c};function c(s){return 33===s?(t.consume(s),h):47===s?(t.consume(s),d):63===s?(t.consume(s),e=3,a.interrupt?n:F):_o(s)?(t.consume(s),o=Vr(s),r=!0,v):i(s)}function h(r){return 45===r?(t.consume(r),e=2,f):91===r?(t.consume(r),e=5,o="CDATA[",s=0,l):_o(r)?(t.consume(r),e=4,a.interrupt?n:F):i(r)}function f(e){return 45===e?(t.consume(e),a.interrupt?n:F):i(e)}function l(e){return e===o.charCodeAt(s++)?(t.consume(e),s===o.length?a.interrupt?n:E:l):i(e)}function d(n){return _o(n)?(t.consume(n),o=Vr(n),v):i(n)}function v(s){return null===s||47===s||62===s||mo(s)?47!==s&&r&&Xo.indexOf(o.toLowerCase())>-1?(e=1,a.interrupt?n(s):E(s)):Zo.indexOf(o.toLowerCase())>-1?(e=6,47===s?(t.consume(s),p):a.interrupt?n(s):E(s)):(e=7,a.interrupt?i(s):r?b(s):m(s)):45===s||Ao(s)?(t.consume(s),o+=Vr(s),v):i(s)}function p(e){return 62===e?(t.consume(e),a.interrupt?n:E):i(e)}function m(n){return $r(n)?(t.consume(n),m):A(n)}function b(n){return 47===n?(t.consume(n),A):58===n||95===n||_o(n)?(t.consume(n),g):$r(n)?(t.consume(n),b):A(n)}function g(n){return 45===n||46===n||58===n||95===n||Ao(n)?(t.consume(n),g):y(n)}function y(n){return 61===n?(t.consume(n),w):$r(n)?(t.consume(n),y):b(n)}function w(n){return null===n||60===n||61===n||62===n||96===n?i(n):34===n||39===n?(t.consume(n),u=n,x):$r(n)?(t.consume(n),w):(u=void 0,k(n))}function x(n){return n===u?(t.consume(n),_):null===n||Hr(n)?i(n):(t.consume(n),x)}function k(n){return null===n||34===n||39===n||60===n||61===n||62===n||96===n||mo(n)?y(n):(t.consume(n),k)}function _(t){return 47===t||62===t||$r(t)?b(t):i(t)}function A(n){return 62===n?(t.consume(n),S):i(n)}function S(n){return $r(n)?(t.consume(n),S):null===n||Hr(n)?E(n):i(n)}function E(n){return 45===n&&2===e?(t.consume(n),C):60===n&&1===e?(t.consume(n),T):62===n&&4===e?(t.consume(n),I):63===n&&3===e?(t.consume(n),F):93===n&&5===e?(t.consume(n),R):!Hr(n)||6!==e&&7!==e?null===n||Hr(n)?O(n):(t.consume(n),E):t.check(ns,I,O)(n)}function O(n){return t.exit("htmlFlowData"),M(n)}function M(n){return null===n?B(n):Hr(n)?(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),M):(t.enter("htmlFlowData"),E(n))}function C(n){return 45===n?(t.consume(n),F):E(n)}function T(n){return 47===n?(t.consume(n),o="",j):E(n)}function j(n){return 62===n&&Xo.indexOf(o.toLowerCase())>-1?(t.consume(n),I):_o(n)&&o.length<8?(t.consume(n),o+=Vr(n),j):E(n)}function R(n){return 93===n?(t.consume(n),F):E(n)}function F(n){return 62===n?(t.consume(n),I):E(n)}function I(n){return null===n||Hr(n)?(t.exit("htmlFlowData"),B(n)):(t.consume(n),I)}function B(i){return t.exit("htmlFlow"),n(i)}},resolveTo:function(t){for(var n=t.length;n--&&("enter"!==t[n][0]||"htmlFlow"!==t[n][1].type););return n>1&&"linePrefix"===t[n-2][1].type&&(t[n][1].start=t[n-2][1].start,t[n+1][1].start=t[n-2][1].start,t.splice(n-2,2)),t},concrete:!0},ns={tokenize:function(t,n,i){return function(e){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(e),t.exit("lineEndingBlank"),t.attempt(Gr,n,i)}},partial:!0},is=ts,es={name:"htmlText",tokenize:function(t,n,i){var e,r,o,s,u=this;return function(n){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(n),a};function a(n){return 33===n?(t.consume(n),c):47===n?(t.consume(n),k):63===n?(t.consume(n),w):_o(n)?(t.consume(n),S):i(n)}function c(n){return 45===n?(t.consume(n),h):91===n?(t.consume(n),r="CDATA[",o=0,p):_o(n)?(t.consume(n),y):i(n)}function h(n){return 45===n?(t.consume(n),f):i(n)}function f(n){return null===n||62===n?i(n):45===n?(t.consume(n),l):d(n)}function l(t){return null===t||62===t?i(t):d(t)}function d(n){return null===n?i(n):45===n?(t.consume(n),v):Hr(n)?(s=d,F(n)):(t.consume(n),d)}function v(n){return 45===n?(t.consume(n),B):d(n)}function p(n){return n===r.charCodeAt(o++)?(t.consume(n),o===r.length?m:p):i(n)}function m(n){return null===n?i(n):93===n?(t.consume(n),b):Hr(n)?(s=m,F(n)):(t.consume(n),m)}function b(n){return 93===n?(t.consume(n),g):m(n)}function g(n){return 62===n?B(n):93===n?(t.consume(n),g):m(n)}function y(n){return null===n||62===n?B(n):Hr(n)?(s=y,F(n)):(t.consume(n),y)}function w(n){return null===n?i(n):63===n?(t.consume(n),x):Hr(n)?(s=w,F(n)):(t.consume(n),w)}function x(t){return 62===t?B(t):w(t)}function k(n){return _o(n)?(t.consume(n),_):i(n)}function _(n){return 45===n||Ao(n)?(t.consume(n),_):A(n)}function A(n){return Hr(n)?(s=A,F(n)):$r(n)?(t.consume(n),A):B(n)}function S(n){return 45===n||Ao(n)?(t.consume(n),S):47===n||62===n||mo(n)?E(n):i(n)}function E(n){return 47===n?(t.consume(n),B):58===n||95===n||_o(n)?(t.consume(n),O):Hr(n)?(s=E,F(n)):$r(n)?(t.consume(n),E):B(n)}function O(n){return 45===n||46===n||58===n||95===n||Ao(n)?(t.consume(n),O):M(n)}function M(n){return 61===n?(t.consume(n),C):Hr(n)?(s=M,F(n)):$r(n)?(t.consume(n),M):E(n)}function C(n){return null===n||60===n||61===n||62===n||96===n?i(n):34===n||39===n?(t.consume(n),e=n,T):Hr(n)?(s=C,F(n)):$r(n)?(t.consume(n),C):(t.consume(n),e=void 0,R)}function T(n){return n===e?(t.consume(n),j):null===n?i(n):Hr(n)?(s=T,F(n)):(t.consume(n),T)}function j(t){return 62===t||47===t||mo(t)?E(t):i(t)}function R(n){return null===n||34===n||39===n||60===n||61===n||96===n?i(n):62===n||mo(n)?E(n):(t.consume(n),R)}function F(n){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Kr(t,I,"linePrefix",u.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function I(n){return t.enter("htmlTextData"),s(n)}function B(e){return 62===e?(t.consume(e),t.exit("htmlTextData"),t.exit("htmlText"),n):i(e)}}},rs={name:"labelEnd",tokenize:function(t,n,i){for(var e,r,o=this,s=o.events.length;s--;)if(("labelImage"===o.events[s][1].type||"labelLink"===o.events[s][1].type)&&!o.events[s][1]._balanced){e=o.events[s][1];break}return function(n){return e?e._inactive?a(n):(r=o.parser.defined.indexOf(Ur(o.sliceSerialize({start:e.end,end:o.now()})))>-1,t.enter("labelEnd"),t.enter("labelMarker"),t.consume(n),t.exit("labelMarker"),t.exit("labelEnd"),u):i(n)};function u(i){return 40===i?t.attempt(os,n,r?n:a)(i):91===i?t.attempt(ss,n,r?t.attempt(us,n,a):a)(i):r?n(i):a(i)}function a(t){return e._balanced=!0,i(t)}},resolveTo:function(t,n){for(var i,e,r,o,s,u,a,c=t.length,h=0;c--;)if(o=t[c][1],s){if("link"===o.type||"labelLink"===o.type&&o._inactive)break;"enter"===t[c][0]&&"labelLink"===o.type&&(o._inactive=!0)}else if(u){if("enter"===t[c][0]&&("labelImage"===o.type||"labelLink"===o.type)&&!o._balanced&&(s=c,"labelLink"!==o.type)){h=2;break}}else"labelEnd"===o.type&&(u=c);return i={type:"labelLink"===t[s][1].type?"link":"image",start:Xr(t[s][1].start),end:Xr(t[t.length-1][1].end)},e={type:"label",start:Xr(t[s][1].start),end:Xr(t[u][1].end)},r={type:"labelText",start:Xr(t[s+h+2][1].end),end:Xr(t[u-2][1].start)},a=lo(a=[["enter",i,n],["enter",e,n]],t.slice(s+1,s+h+3)),a=lo(a,[["enter",r,n]]),a=lo(a,vo(n.parser.constructs.insideSpan.null,t.slice(s+h+4,u-3),n)),a=lo(a,[["exit",r,n],t[u-2],t[u-1],["exit",e,n]]),a=lo(a,t.slice(u+1)),a=lo(a,[["exit",i,n]]),Zr(t,s,t.length,a),t},resolveAll:function(t){for(var n,i=-1;++i<t.length;)(n=t[i][1])._used||"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(t.splice(i+1,"labelImage"===n.type?4:2),n.type="data",i++);return t}},os={tokenize:function(t,n,i){return function(n){return t.enter("resource"),t.enter("resourceMarker"),t.consume(n),t.exit("resourceMarker"),Ko(t,e)};function e(n){return 41===n?s(n):Ho(t,r,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(n)}function r(n){return mo(n)?Ko(t,o)(n):s(n)}function o(n){return 34===n||39===n||40===n?Wo(t,Ko(t,s),i,"resourceTitle","resourceTitleMarker","resourceTitleString")(n):s(n)}function s(e){return 41===e?(t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),t.exit("resource"),n):i(e)}}},ss={tokenize:function(t,n,i){var e=this;return function(n){return $o.call(e,t,r,i,"reference","referenceMarker","referenceString")(n)};function r(t){return e.parser.defined.indexOf(Ur(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)))<0?i(t):n(t)}}},us={tokenize:function(t,n,i){return function(n){return t.enter("reference"),t.enter("referenceMarker"),t.consume(n),t.exit("referenceMarker"),e};function e(e){return 93===e?(t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),t.exit("reference"),n):i(e)}}},as=rs,cs={name:"labelStartImage",tokenize:function(t,n,i){var e=this;return function(n){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(n),t.exit("labelImageMarker"),r};function r(n){return 91===n?(t.enter("labelMarker"),t.consume(n),t.exit("labelMarker"),t.exit("labelImage"),o):i(n)}function o(t){return 94===t&&"_hiddenFootnoteSupport"in e.parser.constructs?i(t):n(t)}},resolveAll:as.resolveAll},hs={name:"labelStartLink",tokenize:function(t,n,i){var e=this;return function(n){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(n),t.exit("labelMarker"),t.exit("labelLink"),r};function r(t){return 94===t&&"_hiddenFootnoteSupport"in e.parser.constructs?i(t):n(t)}},resolveAll:as.resolveAll},fs={name:"lineEnding",tokenize:function(t,n){return function(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Kr(t,n,"linePrefix")}}},ls={name:"thematicBreak",tokenize:function(t,n,i){var e,r=0;return function(n){return t.enter("thematicBreak"),e=n,o(n)};function o(u){return u===e?(t.enter("thematicBreakSequence"),s(u)):$r(u)?Kr(t,o,"whitespace")(u):r<3||null!==u&&!Hr(u)?i(u):(t.exit("thematicBreak"),n(u))}function s(n){return n===e?(t.consume(n),r++,s):(t.exit("thematicBreakSequence"),o(n))}}},ds={name:"list",tokenize:function(t,n,i){var e=this,r=Yr(e.events,"linePrefix"),o=0;return function(n){var r=e.containerState.type||(42===n||43===n||45===n?"listUnordered":"listOrdered");if("listUnordered"===r?!e.containerState.marker||n===e.containerState.marker:Fo(n)){if(e.containerState.type||(e.containerState.type=r,t.enter(r,{_container:!0})),"listUnordered"===r)return t.enter("listItemPrefix"),42===n||45===n?t.check(ls,i,u)(n):u(n);if(!e.interrupt||49===n)return t.enter("listItemPrefix"),t.enter("listItemValue"),s(n)}return i(n)};function s(n){return Fo(n)&&++o<10?(t.consume(n),s):(!e.interrupt||o<2)&&(e.containerState.marker?n===e.containerState.marker:41===n||46===n)?(t.exit("listItemValue"),u(n)):i(n)}function u(n){return t.enter("listItemMarker"),t.consume(n),t.exit("listItemMarker"),e.containerState.marker=e.containerState.marker||n,t.check(Gr,e.interrupt?i:a,t.attempt(vs,h,c))}function a(t){return e.containerState.initialBlankLine=!0,r++,h(t)}function c(n){return $r(n)?(t.enter("listItemPrefixWhitespace"),t.consume(n),t.exit("listItemPrefixWhitespace"),h):i(n)}function h(i){return e.containerState.size=r+Jr(e.sliceStream(t.exit("listItemPrefix"))),n(i)}},continuation:{tokenize:function(t,n,i){var e=this;return e.containerState._closeFlow=void 0,t.check(Gr,(function(i){return e.containerState.furtherBlankLines=e.containerState.furtherBlankLines||e.containerState.initialBlankLine,Kr(t,n,"listItemIndent",e.containerState.size+1)(i)}),(function(i){return e.containerState.furtherBlankLines||!$r(i)?(e.containerState.furtherBlankLines=e.containerState.initialBlankLine=void 0,r(i)):(e.containerState.furtherBlankLines=e.containerState.initialBlankLine=void 0,t.attempt(ps,n,r)(i))}));function r(r){return e.containerState._closeFlow=!0,e.interrupt=void 0,Kr(t,t.attempt(ds,n,i),"linePrefix",e.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(r)}}},exit:function(t){t.exit(this.containerState.type)}},vs={tokenize:function(t,n,i){var e=this;return Kr(t,(function(t){return $r(t)||!Yr(e.events,"listItemPrefixWhitespace")?i(t):n(t)}),"listItemPrefixWhitespace",e.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5)},partial:!0},ps={tokenize:function(t,n,i){var e=this;return Kr(t,(function(t){return Yr(e.events,"listItemIndent")===e.containerState.size?n(t):i(t)}),"listItemIndent",e.containerState.size+1)},partial:!0},ms=ds,bs={name:"setextUnderline",tokenize:function(t,n,i){for(var e,r,o=this,s=o.events.length;s--;)if("lineEnding"!==o.events[s][1].type&&"linePrefix"!==o.events[s][1].type&&"content"!==o.events[s][1].type){r="paragraph"===o.events[s][1].type;break}return function(n){return o.lazy||!o.interrupt&&!r?i(n):(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),e=n,u(n))};function u(n){return n===e?(t.consume(n),u):(t.exit("setextHeadingLineSequence"),Kr(t,a,"lineSuffix")(n))}function a(e){return null===e||Hr(e)?(t.exit("setextHeadingLine"),n(e)):i(e)}},resolveTo:function(t,n){for(var i,e,r,o,s=t.length;s--;)if("enter"===t[s][0]){if("content"===t[s][1].type){i=s;break}"paragraph"===t[s][1].type&&(e=s)}else"content"===t[s][1].type&&t.splice(s,1),r||"definition"!==t[s][1].type||(r=s);return o={type:"setextHeading",start:Xr(t[e][1].start),end:Xr(t[t.length-1][1].end)},t[e][1].type="setextHeadingText",r?(t.splice(e,0,["enter",o,n]),t.splice(r+1,0,["exit",t[i][1],n]),t[i][1].end=Xr(t[r][1].end)):t[i][1]=o,t.push(["exit",o,n]),t}},gs=on((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var i={42:ms,43:ms,45:ms,48:ms,49:ms,50:ms,51:ms,52:ms,53:ms,54:ms,55:ms,56:ms,57:ms,62:Co},e={"-2":Uo,"-1":Uo,32:Uo},r={35:Qo,42:ls,45:[bs,ls],60:is,61:bs,95:ls,96:zo,126:zo},o={38:Lo,92:jo},s={"-5":fs,"-4":fs,"-3":fs,33:cs,38:Lo,42:ko,60:[Oo,es],91:hs,92:[Yo,jo],93:as,95:ko,96:Vo},u={null:[ko,so.resolver]};n.contentInitial={91:Jo},n.disable={null:[]},n.document=i,n.flow=r,n.flowInitial=e,n.insideSpan=u,n.string=o,n.text=s})),ys=/[\0\t\n\r]/g;function ws(t,n){var i,e;for(i in n)e=Nr.call(t,i)?t[i]:t[i]={},"canContainEols"===i||"transforms"===i?t[i]=[].concat(e,n[i]):Object.assign(e,n[i])}var xs,ks=function(t,n,i){return"string"!=typeof n&&(i=n,n=void 0),function(t){var n=t||{},i=function(t,n){for(var i=-1;++i<n.length;)ws(t,n[i]);return t}({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(k),autolinkProtocol:v,autolinkEmail:v,atxHeading:a(y),blockQuote:a((function(){return{type:"blockquote",children:[]}})),characterEscape:v,characterReference:v,codeFenced:a(g),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:a(g,c),codeText:a((function(){return{type:"inlineCode",value:""}}),c),codeTextData:v,data:v,codeFlowValue:v,definition:a((function(){return{type:"definition",identifier:"",label:null,title:null,url:""}})),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:a((function(){return{type:"emphasis",children:[]}})),hardBreakEscape:a(w),hardBreakTrailing:a(w),htmlFlow:a(x,c),htmlFlowData:v,htmlText:a(x,c),htmlTextData:v,image:a((function(){return{type:"image",title:null,url:"",alt:null}})),label:c,link:a(k),listItem:a((function(t){return{type:"listItem",spread:t._spread,checked:null,children:[]}})),listItemValue:function(t){s("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(t),10),o("expectingFirstListItemValue"))},listOrdered:a(_,(function(){o("expectingFirstListItemValue",!0)})),listUnordered:a(_),paragraph:a((function(){return{type:"paragraph",children:[]}})),reference:function(){o("referenceType","collapsed")},referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:a(y),strong:a((function(){return{type:"strong",children:[]}})),thematicBreak:a((function(){return{type:"thematicBreak"}}))},exit:{atxHeading:f(),atxHeadingSequence:function(t){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(t).length)},autolink:f(),autolinkEmail:function(t){p.call(this,t),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(t)},autolinkProtocol:function(t){p.call(this,t),this.stack[this.stack.length-1].url=this.sliceSerialize(t)},blockQuote:f(),characterEscapeValue:p,characterReferenceMarkerHexadecimal:b,characterReferenceMarkerNumeric:b,characterReferenceValue:function(t){var n,i,e=this.sliceSerialize(t),r=s("characterReferenceType");r?(n=function(t,n){var i=parseInt(t,n);return i<9||11===i||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||65535==(65535&i)||65534==(65535&i)||i>1114111?"":Vr(i)}(e,"characterReferenceMarkerNumeric"===r?10:16),o("characterReferenceType")):n=Ro(e),(i=this.stack.pop()).value+=n,i.position.end=u(t.end)},codeFenced:f((function(){var t=this.resume();this.stack[this.stack.length-1].value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")})),codeFencedFence:function(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))},codeFencedFenceInfo:function(){var t=this.resume();this.stack[this.stack.length-1].lang=t},codeFencedFenceMeta:function(){var t=this.resume();this.stack[this.stack.length-1].meta=t},codeFlowValue:p,codeIndented:f((function(){var t=this.resume();this.stack[this.stack.length-1].value=t})),codeText:f((function(){var t=this.resume();this.stack[this.stack.length-1].value=t})),codeTextData:p,data:p,definition:f(),definitionDestinationString:function(){var t=this.resume();this.stack[this.stack.length-1].url=t},definitionLabelString:function(t){var n=this.resume();this.stack[this.stack.length-1].label=n,this.stack[this.stack.length-1].identifier=Ur(this.sliceSerialize(t)).toLowerCase()},definitionTitleString:function(){var t=this.resume();this.stack[this.stack.length-1].title=t},emphasis:f(),hardBreakEscape:f(m),hardBreakTrailing:f(m),htmlFlow:f((function(){var t=this.resume();this.stack[this.stack.length-1].value=t})),htmlFlowData:p,htmlText:f((function(){var t=this.resume();this.stack[this.stack.length-1].value=t})),htmlTextData:p,image:f((function(){var t=this.stack[this.stack.length-1];s("inReference")?(t.type+="Reference",t.referenceType=s("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label,delete t.referenceType),o("referenceType")})),label:function(){var t=this.stack[this.stack.length-1],n=this.resume();this.stack[this.stack.length-1].label=n,o("inReference",!0),"link"===this.stack[this.stack.length-1].type?this.stack[this.stack.length-1].children=t.children:this.stack[this.stack.length-1].alt=n},labelText:function(t){this.stack[this.stack.length-2].identifier=Ur(this.sliceSerialize(t)).toLowerCase()},lineEnding:function(t){var n=this.stack[this.stack.length-1];if(s("atHardBreak"))return n.children[n.children.length-1].position.end=u(t.end),void o("atHardBreak");!s("setextHeadingSlurpLineEnding")&&i.canContainEols.indexOf(n.type)>-1&&(v.call(this,t),p.call(this,t))},link:f((function(){var t=this.stack[this.stack.length-1];s("inReference")?(t.type+="Reference",t.referenceType=s("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label,delete t.referenceType),o("referenceType")})),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:function(t){var n=this.resume();this.stack[this.stack.length-1].label=n,this.stack[this.stack.length-1].identifier=Ur(this.sliceSerialize(t)).toLowerCase(),o("referenceType","full")},resourceDestinationString:function(){var t=this.resume();this.stack[this.stack.length-1].url=t},resourceTitleString:function(){var t=this.resume();this.stack[this.stack.length-1].title=t},resource:function(){o("inReference")},setextHeading:f((function(){o("setextHeadingSlurpLineEnding")})),setextHeadingLineSequence:function(t){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(t).charCodeAt(0)?1:2},setextHeadingText:function(){o("setextHeadingSlurpLineEnding",!0)},strong:f(),thematicBreak:f()}},n.mdastExtensions||[]),e={};return function(t){for(var n,e={type:"root",children:[]},a=[],f=[],v=-1,p={stack:[e],tokenStack:a,config:i,enter:h,exit:l,buffer:c,resume:d,setData:o,getData:s};++v<t.length;)"listOrdered"!==t[v][1].type&&"listUnordered"!==t[v][1].type||("enter"===t[v][0]?f.push(v):v=r(t,f.pop(v),v));for(v=-1;++v<t.length;)Nr.call(n=i[t[v][0]],t[v][1].type)&&n[t[v][1].type].call(Dr({sliceSerialize:t[v][2].sliceSerialize},p),t[v][1]);if(a.length)throw new Error("Cannot close document, a token (`"+a[a.length-1].type+"`, "+nr({start:a[a.length-1].start,end:a[a.length-1].end})+") is still open");for(e.position={start:u(t.length?t[0][1].start:{line:1,column:1,offset:0}),end:u(t.length?t[t.length-2][1].end:{line:1,column:1,offset:0})},v=-1;++v<i.transforms.length;)e=i.transforms[v](e)||e;return e};function r(t,n,i){for(var e,r,o,s,a,c,h,f=n-1,l=-1,d=!1;++f<=i;)if("listUnordered"===(a=t[f])[1].type||"listOrdered"===a[1].type||"blockQuote"===a[1].type?("enter"===a[0]?l++:l--,h=void 0):"lineEndingBlank"===a[1].type?"enter"===a[0]&&(!e||h||l||c||(c=f),h=void 0):"linePrefix"===a[1].type||"listItemValue"===a[1].type||"listItemMarker"===a[1].type||"listItemPrefix"===a[1].type||"listItemPrefixWhitespace"===a[1].type||(h=void 0),!l&&"enter"===a[0]&&"listItemPrefix"===a[1].type||-1===l&&"exit"===a[0]&&("listUnordered"===a[1].type||"listOrdered"===a[1].type)){if(e){for(r=f,o=void 0;r--;)if("lineEnding"===(s=t[r])[1].type||"lineEndingBlank"===s[1].type){if("exit"===s[0])continue;o&&(t[o][1].type="lineEndingBlank",d=!0),s[1].type="lineEnding",o=r}else if("linePrefix"!==s[1].type&&"blockQuotePrefix"!==s[1].type&&"blockQuotePrefixWhitespace"!==s[1].type&&"blockQuoteMarker"!==s[1].type&&"listItemIndent"!==s[1].type)break;c&&(!o||c<o)&&(e._spread=!0),e.end=u(o?t[o][1].start:a[1].end),t.splice(o||f,0,["exit",e,a[2]]),f++,i++}"listItemPrefix"===a[1].type&&(e={type:"listItem",_spread:!1,start:u(a[1].start)},t.splice(f,0,["enter",e,a[2]]),f++,i++,c=void 0,h=!0)}return t[n][1]._spread=d,i}function o(t,n){e[t]=n}function s(t){return e[t]}function u(t){return{line:t.line,column:t.column,offset:t.offset}}function a(t,n){return function(i){h.call(this,t(i),i),n&&n.call(this,i)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(t,n){return this.stack[this.stack.length-1].children.push(t),this.stack.push(t),this.tokenStack.push(n),t.position={start:u(n.start)},t}function f(t){return function(n){t&&t.call(this,n),l.call(this,n)}}function l(t){var n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+t.type+"` ("+nr({start:t.start,end:t.end})+"): its not open");if(i.type!==t.type)throw new Error("Cannot close `"+t.type+"` ("+nr({start:t.start,end:t.end})+"): a different token (`"+i.type+"`, "+nr({start:i.start,end:i.end})+") is open");return n.position.end=u(t.end),n}function d(){return Pr(this.stack.pop())}function v(t){var n=this.stack[this.stack.length-1].children,i=n[n.length-1];i&&"text"===i.type||((i={type:"text",value:""}).position={start:u(t.start)},this.stack[this.stack.length-1].children.push(i)),this.stack.push(i)}function p(t){var n=this.stack.pop();n.value+=this.sliceSerialize(t),n.position.end=u(t.end)}function m(){o("atHardBreak",!0)}function b(t){o("characterReferenceType",t.type)}function g(){return{type:"code",lang:null,meta:null,value:""}}function y(){return{type:"heading",depth:void 0,children:[]}}function w(){return{type:"break"}}function x(){return{type:"html",value:""}}function k(){return{type:"link",title:null,url:"",children:[]}}function _(t){return{type:"list",ordered:"listOrdered"===t.type,start:null,spread:t._spread,children:[]}}}(i)(function(t){for(;!no(t););return t}(function(t){var n={defined:[],constructs:fo([gs].concat(uo((t||{}).extensions))),content:i(Wr),document:i(qr),flow:i(oo),string:i(so.string),text:i(so.text)};return n;function i(t){return function(i){return po(n,t,i)}}}(i).document().write((r=!0,o=1,s="",function(t,n,i){var u,a,c,h,f,l=[];for(t=s+t.toString(n),c=0,s="",r&&(65279===t.charCodeAt(0)&&c++,r=void 0);c<t.length;){if(ys.lastIndex=c,u=ys.exec(t),f=t.charCodeAt(h=u?u.index:t.length),!u){s=t.slice(c);break}if(10===f&&c===h&&e)l.push(-3),e=void 0;else if(e&&(l.push(-5),e=void 0),c<h&&(l.push(t.slice(c,h)),o+=h-c),0===f)l.push(65533),o++;else if(9===f)for(a=4*Math.ceil(o/4),l.push(-2);o++<a;)l.push(-1);else 10===f?(l.push(-4),o=1):(e=!0,o=1);c=h+1}return i&&(e&&l.push(-5),s&&l.push(s),l.push(null)),l})(t,n,!0))));var e,r,o,s},_s=Function.prototype,As={}.hasOwnProperty,Ss=function t(n,i){var e,r=-1;if(i.extensions)for(;++r<i.extensions.length;)t(n,i.extensions[r]);for(e in i)"extensions"===e||("unsafe"===e||"join"===e?n[e]=n[e].concat(i[e]||[]):"handlers"===e?n[e]=Object.assign(n[e],i[e]||{}):n.options[e]=i[e]);return n}
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */,Es="",Os=function(t,n){if("string"!=typeof t)throw new TypeError("expected a string");if(1===n)return t;if(2===n)return t+t;var i=t.length*n;if(xs!==t||void 0===xs)xs=t,Es="";else if(Es.length>=i)return Es.substr(0,i);for(;i>Es.length&&n>1;)1&n&&(Es+=t),n>>=1,t+=t;return Es=(Es+=t).substr(0,i)},Ms=function(t,n){for(var i,e=t.children||[],r=[],o=-1;++o<e.length;)r.push(n.handle(i=e[o],t,n,{before:"\n",after:"\n"})),o+1<e.length&&r.push(s(i,e[o+1]));return r.join("");function s(i,e){for(var r,o=-1;++o<n.join.length&&!0!==(r=n.join[o](i,e,t,n))&&1!==r;){if("number"==typeof r)return Os("\n",1+Number(r));if(!1===r)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}},Cs=function(t,n){for(var i,e=[],r=0,o=0;i=Ts.exec(t);)s(t.slice(r,i.index)),e.push(i[0]),r=i.index+i[0].length,o++;return s(t.slice(r)),e.join("");function s(t){e.push(n(t,o,!t))}},Ts=/\r?\n|\r/g;function js(t,n,i){return">"+(i?"":" ")+t}var Rs=function(t,n){return Fs(t,n.inConstruct,!0)&&!Fs(t,n.notInConstruct)};function Fs(t,n,i){var e;if(!n)return i;for("string"==typeof n&&(n=[n]),e=-1;++e<n.length;)if(-1!==t.indexOf(n[e]))return!0;return!1}var Is=function(t,n,i,e){for(var r=-1;++r<i.unsafe.length;)if("\n"===i.unsafe[r].character&&Rs(i.stack,i.unsafe[r]))return/[ \t]/.test(e.before)?"":" ";return"\\\n"},Bs=function(t,n){return!n.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value)},Ps=function(t){var n,i;return t._compiled||(n=t.before?"(?:"+t.before+")":"",i=t.after?"(?:"+t.after+")":"",t.atBreak&&(n="[\\r\\n][\\t ]*"+n),t._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(i||""),"g")),t._compiled},Ls=function(t,n,i){for(var e,r,o,s,u,a,c,h,f=(i.before||"")+(n||"")+(i.after||""),l=[],d=[],v={},p=-1;++p<t.unsafe.length;)if(Rs(t.stack,s=t.unsafe[p]))for(u=Ps(s);a=u.exec(f);)r="after"in s,-1===l.indexOf(o=a.index+((e="before"in s||s.atBreak)?a[1].length:0))?(l.push(o),v[o]={before:e,after:r}):(v[o].before&&!e&&(v[o].before=!1),v[o].after&&!r&&(v[o].after=!1));for(l.sort(zs),c=i.before?i.before.length:0,h=f.length-(i.after?i.after.length:0),p=-1;++p<l.length;)(o=l[p])<c||o>=h||o+1<h&&l[p+1]===o+1&&v[o].after&&!v[o+1].before&&!v[o+1].after||(c!==o&&d.push(Ds(f.slice(c,o),"\\")),c=o,!/[!-/:-@[-`{-~]/.test(f.charAt(o))||i.encode&&-1!==i.encode.indexOf(f.charAt(o))?(d.push("&#x"+f.charCodeAt(o).toString(16).toUpperCase()+";"),c++):d.push("\\"));return d.push(Ds(f.slice(c,h),i.after)),d.join("")};function zs(t,n){return t-n}function Ds(t,n){for(var i,e=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],s=-1,u=0,a=t+n;i=e.exec(a);)r.push(i.index);for(;++s<r.length;)u!==r[s]&&o.push(t.slice(u,r[s])),o.push("\\"),u=r[s];return o.push(t.slice(u)),o.join("")}function Ns(t,n,i){return(i?"":"    ")+t}var Us=function(t){return t.label||!t.identifier?t.label||"":t.identifier.replace(Vs,"$1").replace(Hs,$s)},Vs=/\\([!-/:-@[-`{-~])/g,Hs=/&(#(\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $s(t,n){return Ro(n)||t}var Ks=function(t){var n=t.options.quote||'"';if('"'!==n&&"'"!==n)throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n},Ws=function(t,n,i){for(var e,r,o,s=t.children||[],u=[],a=-1,c=i.before;++a<s.length;)o=s[a],a+1<s.length?((r=n.handle.handlers[s[a+1].type])&&r.peek&&(r=r.peek),e=r?r(s[a+1],t,n,{before:"",after:""}).charAt(0):""):e=i.after,u.length>0&&("\r"===c||"\n"===c)&&"html"===o.type&&(u[u.length-1]=u[u.length-1].replace(/(\r?\n|\r)$/," "),c=" "),u.push(n.handle(o,t,n,{before:c,after:e})),c=u[u.length-1].slice(-1);return u.join("")},Gs=qs;function qs(t,n,i){var e=function(t){var n=t.options.emphasis||"*";if("*"!==n&&"_"!==n)throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}(i),r=i.enter("emphasis"),o=Ws(t,i,{before:e,after:e});return r(),e+o+e}qs.peek=function(t,n,i){return i.options.emphasis||"*"};var Js=function(t,n){return n.options.setext&&(!t.depth||t.depth<3)&&Pr(t)},Ys=Qs;function Qs(t){return t.value||""}Qs.peek=function(){return"<"};var Zs=Xs;function Xs(t,n,i){var e=Ks(i),r='"'===e?"Quote":"Apostrophe",o=i.enter("image"),s=i.enter("label"),u="!["+Ls(i,t.alt,{before:"[",after:"]"})+"](";return s(),!t.url&&t.title||/[ \t\r\n]/.test(t.url)?(s=i.enter("destinationLiteral"),u+="<"+Ls(i,t.url,{before:"<",after:">"})+">"):(s=i.enter("destinationRaw"),u+=Ls(i,t.url,{before:"(",after:t.title?" ":")"})),s(),t.title&&(s=i.enter("title"+r),u+=" "+e+Ls(i,t.title,{before:e,after:e})+e,s()),u+=")",o(),u}Xs.peek=function(){return"!"};var tu=nu;function nu(t,n,i){var e,r,o=t.referenceType,s=i.enter("imageReference"),u=i.enter("label"),a=Ls(i,t.alt,{before:"[",after:"]"}),c="!["+a+"]";return u(),r=i.stack,i.stack=[],u=i.enter("reference"),e=Ls(i,Us(t),{before:"[",after:"]"}),u(),i.stack=r,s(),"full"!==o&&a&&a===e?"shortcut"!==o&&(c+="[]"):c+="["+e+"]",c}nu.peek=function(){return"!"};var iu=eu;function eu(t,n,i){for(var e,r,o,s,u=t.value||"",a="`",c=-1;new RegExp("(^|[^`])"+a+"([^`]|$)").test(u);)a+="`";for(/[^ \r\n]/.test(u)&&(/[ \r\n`]/.test(u.charAt(0))||/[ \r\n`]/.test(u.charAt(u.length-1)))&&(u=" "+u+" ");++c<i.unsafe.length;)if((e=i.unsafe[c]).atBreak)for(r=Ps(e);o=r.exec(u);)10===u.charCodeAt(s=o.index)&&13===u.charCodeAt(s-1)&&s--,u=u.slice(0,s)+" "+u.slice(o.index+1);return a+u+a}eu.peek=function(){return"`"};var ru=function(t,n){var i=Pr(t);return!n.options.resourceLink&&t.url&&!t.title&&t.children&&1===t.children.length&&"text"===t.children[0].type&&(i===t.url||"mailto:"+i===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url)},ou=su;function su(t,n,i){var e,r,o,s,u=Ks(i),a='"'===u?"Quote":"Apostrophe";return ru(t,i)?(s=i.stack,i.stack=[],e=i.enter("autolink"),o="<"+Ws(t,i,{before:"<",after:">"})+">",e(),i.stack=s,o):(e=i.enter("link"),r=i.enter("label"),o="["+Ws(t,i,{before:"[",after:"]"})+"](",r(),!t.url&&t.title||/[ \t\r\n]/.test(t.url)?(r=i.enter("destinationLiteral"),o+="<"+Ls(i,t.url,{before:"<",after:">"})+">"):(r=i.enter("destinationRaw"),o+=Ls(i,t.url,{before:"(",after:t.title?" ":")"})),r(),t.title&&(r=i.enter("title"+a),o+=" "+u+Ls(i,t.title,{before:u,after:u})+u,r()),o+=")",e(),o)}su.peek=function(t,n,i){return ru(t,i)?"<":"["};var uu=au;function au(t,n,i){var e,r,o=t.referenceType,s=i.enter("linkReference"),u=i.enter("label"),a=Ws(t,i,{before:"[",after:"]"}),c="["+a+"]";return u(),r=i.stack,i.stack=[],u=i.enter("reference"),e=Ls(i,Us(t),{before:"[",after:"]"}),u(),i.stack=r,s(),"full"!==o&&a&&a===e?"shortcut"!==o&&(c+="[]"):c+="["+e+"]",c}au.peek=function(){return"["};var cu=hu;function hu(t,n,i){var e=function(t){var n=t.options.strong||"*";if("*"!==n&&"_"!==n)throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}(i),r=i.enter("strong"),o=Ws(t,i,{before:e,after:e});return r(),e+e+o+e+e}hu.peek=function(t,n,i){return i.options.strong||"*"};var fu={blockquote:function(t,n,i){var e=i.enter("blockquote"),r=Cs(Ms(t,i),js);return e(),r},break:Is,code:function(t,n,i){var e,r,o,s,u=function(t){var n=t.options.fence||"`";if("`"!==n&&"~"!==n)throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}(i),a=t.value||"",c="`"===u?"GraveAccent":"Tilde";return Bs(t,i)?(o=i.enter("codeIndented"),e=Cs(a,Ns)):(r=Os(u,Math.max(function(t,n){var i,e,r=0,o=0;if("string"!=typeof n||1!==n.length)throw new Error("Expected character");for(i=e=(t=String(t)).indexOf(n);-1!==e;)r++,e===i?r>o&&(o=r):r=1,e=t.indexOf(n,i=e+1);return o}(a,u)+1,3)),o=i.enter("codeFenced"),e=r,t.lang&&(s=i.enter("codeFencedLang"+c),e+=Ls(i,t.lang,{before:"`",after:" ",encode:["`"]}),s()),t.lang&&t.meta&&(s=i.enter("codeFencedMeta"+c),e+=" "+Ls(i,t.meta,{before:" ",after:"\n",encode:["`"]}),s()),e+="\n",a&&(e+=a+"\n"),e+=r),o(),e},definition:function(t,n,i){var e=Ks(i),r='"'===e?"Quote":"Apostrophe",o=i.enter("definition"),s=i.enter("label"),u="["+Ls(i,Us(t),{before:"[",after:"]"})+"]: ";return s(),!t.url||/[ \t\r\n]/.test(t.url)?(s=i.enter("destinationLiteral"),u+="<"+Ls(i,t.url,{before:"<",after:">"})+">"):(s=i.enter("destinationRaw"),u+=Ls(i,t.url,{before:" ",after:" "})),s(),t.title&&(s=i.enter("title"+r),u+=" "+e+Ls(i,t.title,{before:e,after:e})+e,s()),o(),u},emphasis:Gs,hardBreak:Is,heading:function(t,n,i){var e,r,o,s,u=Math.max(Math.min(6,t.depth||1),1);return Js(t,i)?(e=i.enter("headingSetext"),r=i.enter("phrasing"),o=Ws(t,i,{before:"\n",after:"\n"}),r(),e(),o+"\n"+Os(1===u?"=":"-",o.length-(Math.max(o.lastIndexOf("\r"),o.lastIndexOf("\n"))+1))):(s=Os("#",u),e=i.enter("headingAtx"),r=i.enter("phrasing"),o=(o=Ws(t,i,{before:"# ",after:"\n"}))?s+" "+o:s,i.options.closeAtx&&(o+=" "+s),r(),e(),o)},html:Ys,image:Zs,imageReference:tu,inlineCode:iu,link:ou,linkReference:uu,list:function(t,n,i){var e=i.enter("list"),r=Ms(t,i);return e(),r},listItem:function(t,n,i){var e,r,o,s=function(t){var n=t.options.bullet||"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}(i),u=function(t){var n=t.options.listItemIndent||"tab";if(1===n||"1"===n)return"one";if("tab"!==n&&"one"!==n&&"mixed"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}(i);return n&&n.ordered&&(s=(n.start>-1?n.start:1)+(!1===i.options.incrementListMarker?0:n.children.indexOf(t))+"."),e=s.length+1,("tab"===u||"mixed"===u&&(n&&n.spread||t.spread))&&(e=4*Math.ceil(e/4)),o=i.enter("listItem"),r=Cs(Ms(t,i),(function(t,n,i){return n?(i?"":Os(" ",e))+t:(i?s:s+Os(" ",e-s.length))+t})),o(),r},paragraph:function(t,n,i){var e=i.enter("paragraph"),r=i.enter("phrasing"),o=Ws(t,i,{before:"\n",after:"\n"});return r(),e(),o},root:function(t,n,i){return Ms(t,i)},strong:cu,text:function(t,n,i,e){return Ls(i,t.value,e)},thematicBreak:function(t,n,i){var e=Os(function(t){var n=t.options.rule||"*";if("*"!==n&&"-"!==n&&"_"!==n)throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}(i)+(i.options.ruleSpaces?" ":""),function(t){var n=t.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}(i));return i.options.ruleSpaces?e.slice(0,-1):e}},lu=[function(t,n,i,e){if("list"===n.type&&n.type===t.type&&Boolean(t.ordered)===Boolean(n.ordered)||"code"===n.type&&Bs(n,e)&&("list"===t.type||t.type===n.type&&Bs(t,e)))return!1;if("boolean"==typeof i.spread){if("paragraph"===t.type&&(t.type===n.type||"definition"===n.type||"heading"===n.type&&Js(n,e)))return;return i.spread?1:0}}],du=[{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing"},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing"},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing"},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing"},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:["phrasing","label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{before:"[^A-Za-z]",character:"_",inConstruct:"phrasing"},{character:"_",after:"[^A-Za-z]",inConstruct:"phrasing"},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent","phrasing"]},{atBreak:!0,character:"~"}];function vu(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function pu(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function mu(t,n){if("definition"===t.type&&t.type===n.type)return 0}var bu=function(t,n){var i,e=n||{},r={enter:function(t){return r.stack.push(t),function(){r.stack.pop()}},stack:[],unsafe:[],join:[],handlers:{},options:{}};return Ss(r,{unsafe:du,join:lu,handlers:fu}),Ss(r,e),r.options.tightDefinitions&&(r.join=[mu].concat(r.join)),r.handle=function(t,n){var i=n||{};function e(n){var i=e.invalid,r=e.handlers;return n&&As.call(n,t)&&(i=As.call(r,n[t])?r[n[t]]:e.unknown),(i||_s).apply(this,arguments)}return e.handlers=i.handlers||{},e.invalid=i.invalid,e.unknown=i.unknown,e}("type",{invalid:vu,unknown:pu,handlers:r.handlers}),(i=r.handle(t,null,r,{before:"\n",after:"\n"}))&&10!==i.charCodeAt(i.length-1)&&13!==i.charCodeAt(i.length-1)&&(i+="\n"),i},gu=Er().use((function(t){var n=this;this.Parser=function(i){return ks(i,Object.assign({},n.data("settings"),t,{extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]}))}})).use((function(t){var n=this;this.Compiler=function(i){return bu(i,Object.assign({},n.data("settings"),t,{extensions:n.data("toMarkdownExtensions")||[]}))}})).freeze();const yu=[],wu=class{constructor({data:t,api:n}){this.data=t,this.api=n}static get toolbox(){return{title:"Download Markdown",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="rgb(112, 118, 132)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'}}render(){const t=document.createElement("div");return this.getContent(),t}async getContent(){const t=new Date,n=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),e=t.getFullYear(),r={},o=await this.api.saver.save();r.content=o.blocks,function(t,n){const i=new File([t],{type:"text/markdown",endings:"transparent"}),e=URL.createObjectURL(i),r=document.createElement("a");document.body.appendChild(r),r.href=e,r.download=n,r.click(),window.URL.revokeObjectURL(e),document.body.removeChild(r)}(r.content.map((t=>{switch(t.type){case"header":return function(t){switch(t.level){case 1:return`# ${t.text}\n`;case 2:return`## ${t.text}\n`;case 3:return`### ${t.text}\n`;case 4:return`#### ${t.text}\n`;case 5:return`##### ${t.text}\n`;case 6:return`###### ${t.text}\n`}}(t.data);case"paragraph":return`${t.data.text}\n`;case"list":return function(t){let n={};switch(t.style){case"unordered":return n=t.items.map((t=>`* ${t}`)),n;case"ordered":return n=t.items.map(((t,n)=>`${n+1} ${t}`)),n}}(t.data);case"delimiter":return"---".concat("\n");case"image":return`![${(n=t.data).caption}](${n.url} "${n.caption}")`.concat("\n");case"quote":return function(t){return`> ${t.text}\n`}(t.data);case"checkbox":return Pe(t.data);case"code":return function(t){return`\`\`\`\n${t.code}\n\`\`\`\n`}(t.data);case"checklist":return Pe(t.data)}var n})).join("\n"),`entry_${n}-${i}-${e}.md`)}save(){return{message:"Downloading Markdown"}}},xu=class{constructor({data:t,api:n}){this.data=t,this.api=n}static get toolbox(){return{title:"Import Markdown",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="rgb(112, 118, 132)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-fileUpload"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>'}}render(){const t=document.createElement("input");return t.setAttribute("id","file-upload"),t.setAttribute("type","file"),t.setAttribute("style","display: none"),t.setAttribute("name","files[]"),t.setAttribute("onload",this.parseMarkdown()),t}async parseMarkdown(){yu.length=0,await this.api.saver.save();const t=document.getElementById("file-upload");t.onchange=t=>{const n=t.target.files[0],i=new FileReader;i.readAsText(n,"UTF-8"),i.onload=t=>{const n=t.target.result;return gu().parse(n).children.forEach((t=>{switch(t.type){case"heading":return yu.push(function(t){let n={};switch(t.depth){case 1:return t.children.forEach((t=>{n={data:{level:1,text:t.value},type:"header"}})),n;case 2:return t.children.forEach((t=>{n={data:{level:2,text:t.value},type:"header"}})),n;case 3:return t.children.forEach((t=>{n={data:{level:3,text:t.value},type:"header"}})),n;case 4:return t.children.forEach((t=>{n={data:{level:4,text:t.value},type:"header"}})),n;case 5:return t.children.forEach((t=>{n={data:{level:5,text:t.value},type:"header"}})),n;case 6:return t.children.forEach((t=>{n={data:{level:6,text:t.value},type:"header"}})),n}}(t));case"paragraph":return yu.push(function(t){let n={};return"paragraph"===t.type&&t.children.forEach((t=>{"text"===t.type&&(n={data:{text:t.value},type:"paragraph"}),"image"===t.type&&(n={data:{caption:t.title,stretched:!1,url:t.url,withBackground:!1,withBorder:!1},type:"image"})})),n}(t));case"list":return yu.push(function(t){let n={};const i=[];return t.children.forEach((t=>{t.children.forEach((t=>{t.children.forEach((t=>{i.push(t.value)}))}))})),n={data:{items:i,style:t.ordered?"ordered":"unordered"},type:"list"},n}(t));case"thematicBreak":return yu.push(function(){let t={};return t={data:{items:[]},type:"delimiter"},t}());case"code":return yu.push({data:{code:t.value},type:"code"});case"blockquote":return yu.push(function(t){let n={};return t.children.forEach((t=>{t.children.forEach((t=>{"text"===t.type&&(n={data:{alignment:"left",caption:"",text:t.value},type:"quote"})}))})),n}(t))}})),this.api.blocks.clear(),this.api.blocks.render({blocks:yu.filter((t=>0!==Object.keys(t).length))}),gu().parse(n)}},t.click()}save(){return{message:"Uploading Markdown"}}};class ku{constructor({data:t,api:n}){this.leftAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path></svg>',this.centerAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path></svg>',this.rightAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"></path></svg>',this.alignOptions=["left","center","right"],this.colorOptions=["primary","secondary","tertiary","success","warning","danger","dark","medium","light"],this.settings=[{name:"shape",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><title>Shapes</title><path fill=\"currentColor\" d='M336 336H32a16 16 0 01-14-23.81l152-272a16 16 0 0127.94 0l152 272A16 16 0 01336 336z'/><path fill=\"currentColor\" d='M336 160a161.07 161.07 0 00-32.57 3.32l74.47 133.27A48 48 0 01336 368H183.33A160 160 0 10336 160z'/></svg>",value:"square",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button");t.shape="round"===t.shape?"square":"round"}catch(t){console.log("Error setting button shape!")}}},{name:"href",innerHTML:'<svg class="icon" width="14px" height="10px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#link"></use></svg>',value:"#",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button"),n=prompt("Where do you want this button to link?",t.href);n&&(t.href=n)}catch(t){console.log("Error setting button link!")}}},{name:"align",innerHTML:this.leftAlignIcon,value:"left",onClick:()=>{var t;try{const n=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button"),i=(null===(t=this.data)||void 0===t?void 0:t.align)?this.data.align:"left";"center"===i?(this.data.align="right",n.style.display="table",n.style.margin="10px 20px 10px auto"):"right"===i?(this.data.align="left",n.style.display="inline-block",n.style.margin="10px"):(this.data.align="center",n.style.display="table",n.style.margin="10px auto")}catch(t){console.log("Error setting button alignment!")}}},{name:"color",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Color Fill</title><path d='M416 480c-35.29 0-64-29.11-64-64.88 0-33.29 28.67-65.4 44.08-82.64 1.87-2.1 3.49-3.91 4.68-5.31a19.94 19.94 0 0130.55 0c1.13 1.31 2.63 3 4.36 4.93 15.5 17.3 44.33 49.51 44.33 83.05 0 35.74-28.71 64.85-64 64.85zM398.23 276.64L166.89 47.22a52.1 52.1 0 00-73.6 0l-4.51 4.51a53.2 53.2 0 00-15.89 37.33A51.66 51.66 0 0088.14 126l41.51 41.5L45 252a44.52 44.52 0 00-13 32 42.81 42.81 0 0013.5 30.84l131.24 126a44 44 0 0061.08-.18l124.11-120.28a15.6 15.6 0 018.23-4.29 69.21 69.21 0 0111.93-.86h.3a22.53 22.53 0 0015.84-38.59zM152.29 144.85l-41.53-41.52a20 20 0 010-28.34l5.16-5.15a20.07 20.07 0 0128.39 0L186 111.21z'/></svg>",value:"primary",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button");t.color=this.nextArrayItem(this.colorOptions,t.color?t.color:"primary")}catch(t){console.log("Error setting button alignment!")}}}],this.data=Object.assign({text:"New Button",shape:"square",href:"#",align:"left",color:"primary"},t),this.api=n}static get toolbox(){return{title:"Button",icon:'<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="20" width="20"><path fill="currentColor" d="M292.3 311.93c0 42.41-39.72 41.43-43.92 41.43h-80.89v-81.69h80.89c42.56 0 43.92 31.9 43.92 40.26zm-50.15-73.13c.67 0 38.44 1 38.44-36.31 0-15.52-3.51-35.87-38.44-35.87h-74.66v72.18h74.66zM448 106.67v298.66A74.89 74.89 0 0 1 373.33 480H74.67A74.89 74.89 0 0 1 0 405.33V106.67A74.89 74.89 0 0 1 74.67 32h298.66A74.89 74.89 0 0 1 448 106.67zM338.05 317.86c0-21.57-6.65-58.29-49.05-67.35v-.73c22.91-9.78 37.34-28.25 37.34-55.64 0-7 2-64.78-77.6-64.78h-127v261.33c128.23 0 139.87 1.68 163.6-5.71 14.21-4.42 52.71-17.98 52.71-67.12z"/></svg>'}}nextArrayItem(t,n){const i=t.indexOf(n);if(-1!==i)return t[(i+1)%t.length]}render(){var t,n,i,e,r,o;const s=document.createElement("ion-button");return(null===(t=this.data)||void 0===t?void 0:t.shape)&&(s.shape=this.data.shape),(null===(n=this.data)||void 0===n?void 0:n.href)&&(s.href=this.data.href),"center"===(null===(i=this.data)||void 0===i?void 0:i.align)?(s.style.display="table",s.style.margin="10px auto"):"right"===(null===(e=this.data)||void 0===e?void 0:e.align)&&(s.style.display="table",s.style.margin="10px 20px 10px auto"),(null===(r=this.data)||void 0===r?void 0:r.color)&&(s.color=this.data.color),s.innerHTML=`<div contenteditable="true">${null===(o=this.data)||void 0===o?void 0:o.text}</div>`,s}renderSettings(){const t=document.createElement("div");for(const n of this.settings){let i=document.createElement("div");i.classList.add("cdx-settings-button"),i.innerHTML=n.innerHTML,"function"==typeof(null==n?void 0:n.onClick)&&i.addEventListener("click",n.onClick),t.appendChild(i)}return t}save(t){var n;return{text:t.innerText,shape:t.shape?t.shape:"square",align:(null===(n=this.data)||void 0===n?void 0:n.align)?this.data.align:"left",href:t.href?t.href:"#",color:t.color?t.color:"primary"}}}class _u{constructor({data:t,api:n}){this.settings=[{name:"Link",icon:"<svg xmlns='http://www.w3.org/2000/svg' height=\"20\" width=\"20\" class='ionicon' viewBox='0 0 512 512'><title>Link</title><path d='M200.66 352H144a96 96 0 010-192h55.41M312.59 160H368a96 96 0 010 192h-56.66M169.07 256h175.86' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='48'/></svg>",value:"#"}],this.data=t,this.api=n}static get toolbox(){return{title:"Page",icon:"<svg xmlns='http://www.w3.org/2000/svg' height=\"20\" width=\"20\" class='ionicon' viewBox='0 0 512 512'><title>Document</title><path d='M428 224H288a48 48 0 01-48-48V36a4 4 0 00-4-4h-92a64 64 0 00-64 64v320a64 64 0 0064 64h224a64 64 0 0064-64V228a4 4 0 00-4-4z'/><path d='M419.22 188.59L275.41 44.78a2 2 0 00-3.41 1.41V176a16 16 0 0016 16h129.81a2 2 0 001.41-3.41z'/></svg>"}}render(){var t,n;const i=document.createElement("ion-card");return i.innerHTML=`<ion-item detail lines="none" href="${(null===(t=this.data)||void 0===t?void 0:t.href)?this.data.href:"#"}"><ion-icon slot="start" name="document"></ion-icon><ion-label>${null===(n=this.data)||void 0===n?void 0:n.name}</ion-label></ion-item>`,i}renderSettings(){const t=document.createElement("div");return document.addEventListener("enjinSelectPage",(t=>{var n,i,e,r,o,s;console.log(t);const u=this.api.blocks.getBlockByIndex(t.detail.blockIndex).holder.querySelector("ion-item");u.querySelector("ion-label").textContent=(null===(i=null===(n=t.detail)||void 0===n?void 0:n.page)||void 0===i?void 0:i.name)?t.detail.page.name:"Home",u.href=`/editor/${(null===(r=null===(e=t.detail)||void 0===e?void 0:e.page)||void 0===r?void 0:r.id)?null===(s=null===(o=t.detail)||void 0===o?void 0:o.page)||void 0===s?void 0:s.id:"home"}`})),this.settings.forEach((n=>{let i=document.createElement("div");i.classList.add("cdx-settings-button"),i.innerHTML=n.icon,i.addEventListener("click",(t=>{try{document.body.dispatchEvent(new CustomEvent("enjinToggleMenu",{detail:{event:t,selectingPage:!0,blockIndex:this.api.blocks.getCurrentBlockIndex()}}))}catch(t){console.log("Error setting button shape!")}})),t.appendChild(i)})),t}save(t){return{name:t.querySelector("ion-label").textContent,href:t.querySelector("ion-item").href}}}class Au{constructor({api:t,data:n,config:i}){this.settings=[{name:"template",innerHTML:"<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>List Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-88 302a24 24 0 1124-24 24 24 0 01-24 24zm0-71a24 24 0 1124-24 24 24 0 01-24 24zm0-73a24 24 0 1124-24 24 24 0 01-24 24zm184 135H224a16 16 0 010-32h128a16 16 0 010 32zm0-71H224a16 16 0 010-32h128a16 16 0 010 32zm0-72H224a16 16 0 010-32h128a16 16 0 010 32z' height='20' width='20' fill='currentColor' /></svg>",value:null,onClick:()=>{this.presentModal()}}],this.loaded=!1,this.partials=[],this.data=n,this.api=t,this.blockId=this.makeid(26),(null==i?void 0:i.partials)&&"object"==typeof i.partials?this.partials=i.partials:(null==i?void 0:i.partials)&&"function"==typeof i.partials?this.partials=i.partials():localStorage.getItem("enjin-editor-partials")&&(this.partials=JSON.parse(localStorage.getItem("enjin-editor-partials"))),this.createModal(),document.addEventListener("enjinModalClose",(()=>{this.modalEl&&this.modalEl.dismiss()})),document.addEventListener("enjinEditorClick",(t=>{var n,i;const e=document.querySelector(`.editor-partial#${this.blockId}`);(null===(n=null==t?void 0:t.detail)||void 0===n?void 0:n.template)&&(null===(i=null==t?void 0:t.detail)||void 0===i?void 0:i.blockId)===this.blockId&&e&&(this.selectedPartial=t.detail.template,e.innerHTML=this.selectedPartial.html,this.modalEl&&this.modalEl.dismiss())}))}static get toolbox(){return{title:"Partial",icon:"<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512' height='20' width='20'><title>Extension Puzzle</title><path d='M345.14 480H274a18 18 0 01-18-18v-27.71a31.32 31.32 0 00-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 01-18 18H87.62A55.62 55.62 0 0132 424.38V354a18 18 0 0118-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0012.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 01-18-18v-70.38A55.62 55.62 0 0187.62 112h55.24a8 8 0 008-8v-6.48A65.53 65.53 0 01217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 008 8h55.24A54.86 54.86 0 01400 166.86v55.24a8 8 0 008 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 00-8 8v56A54.86 54.86 0 01345.14 480z' fill='currentColor' /></svg>"}}makeid(t){for(var n="",i="abcdefghijklmnopqrstuvwxyz",e=i.length,r=0;r<t;r++)n+=i.charAt(Math.floor(Math.random()*e));return n}createModal(){const t=this.partials,n=this.blockId;customElements.define(`template-select-modal-${n}`,class extends HTMLElement{connectedCallback(){this.innerHTML=`\n    <ion-header>\n      <ion-toolbar>\n        <ion-title>Select a Template</ion-title>\n        <ion-buttons slot="primary">\n          <ion-button onClick="document.dispatchEvent(new CustomEvent('enjinModalClose', {detail: {event}}));">\n            <ion-icon slot="icon-only" name="close"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content class="ion-padding">\n      <ion-list>\n          ${t.map((t=>`<ion-item onClick='event.preventDefault();document.dispatchEvent(new CustomEvent("enjinEditorClick", {\n              detail: {\n                event: event,\n                template: {\n                  id: \`${t.id}\`,\n                  name: \`${t.name?t.name:t.subject}\`,\n                  html: \`${t.html}\`\n                },\n                blockId: \`${n}\` \n              }\n            }));' detail="true" href="#">\n            <ion-label>\n              <h2>${t.name?t.name:t.subject}</h2>\n              <div style="pointer-events: none;">${t.html}</div>\n            </ion-label>\n          </ion-item>`)).join("")}\n      </ion-list>\n    </ion-content>`}})}presentModal(){var t;return this.modalEl=document.createElement("ion-modal"),this.modalEl.component=`template-select-modal-${this.blockId}`,this.modalEl.cssClass="my-custom-class",this.modalEl.componentProps={partials:(null===(t=this.data)||void 0===t?void 0:t.partials)?this.data.partials:{}},document.body.appendChild(this.modalEl),this.modalEl.present()}render(){var t,n,i;if((null===(t=this.data)||void 0===t?void 0:t.templateId)&&this.partials)for(const t of this.partials)t.id===this.data.templateId&&(this.selectedPartial=t);return this.loaded||(null===(n=this.data)||void 0===n?void 0:n.templateId)||this.presentModal(),this.loaded=!0,this.partialWrapperEl=document.createElement("div"),this.partialWrapperEl.id=this.blockId,this.partialWrapperEl.classList.add("editor-partial"),this.partialWrapperEl.innerHTML=(null===(i=this.selectedPartial)||void 0===i?void 0:i.html)?this.selectedPartial.html:"<caption>Please select a template</caption>",this.partialWrapperEl}renderSettings(){const t=document.createElement("div");for(const n of this.settings){let i=document.createElement("div");i.classList.add("cdx-settings-button"),i.innerHTML=n.innerHTML,"function"==typeof(null==n?void 0:n.onClick)&&i.addEventListener("click",n.onClick),t.appendChild(i)}return t}save(){var t;return{templateId:(null===(t=this.selectedPartial)||void 0===t?void 0:t.id)?this.selectedPartial.id:null}}}function Su(){const t=document.activeElement,n=window.getSelection().getRangeAt(0),i=n.cloneRange();return i.selectNodeContents(t),i.setStart(n.endContainer,n.endOffset),i.extractContents()}function Eu(t,n=null,i={}){const e=document.createElement(t);Array.isArray(n)?e.classList.add(...n):n&&e.classList.add(n);for(const t in i)e[t]=i[t];return e}function Ou(t){return t.innerHTML.replace("<br>"," ").trim()}function Mu(t,n=!1,i){const e=document.createRange(),r=window.getSelection();e.selectNodeContents(t),void 0!==i&&(e.setStart(t,i),e.setEnd(t,i)),e.collapse(n),r.removeAllRanges(),r.addRange(e)}class Cu{constructor({data:t,api:n,readOnly:i}){this.progress=0,this.color="success",this.colorOptions=["primary","secondary","tertiary","success","warning","danger","dark","medium","light"],this.settings=[{name:"color",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Color Fill</title><path d='M416 480c-35.29 0-64-29.11-64-64.88 0-33.29 28.67-65.4 44.08-82.64 1.87-2.1 3.49-3.91 4.68-5.31a19.94 19.94 0 0130.55 0c1.13 1.31 2.63 3 4.36 4.93 15.5 17.3 44.33 49.51 44.33 83.05 0 35.74-28.71 64.85-64 64.85zM398.23 276.64L166.89 47.22a52.1 52.1 0 00-73.6 0l-4.51 4.51a53.2 53.2 0 00-15.89 37.33A51.66 51.66 0 0088.14 126l41.51 41.5L45 252a44.52 44.52 0 00-13 32 42.81 42.81 0 0013.5 30.84l131.24 126a44 44 0 0061.08-.18l124.11-120.28a15.6 15.6 0 018.23-4.29 69.21 69.21 0 0111.93-.86h.3a22.53 22.53 0 0015.84-38.59zM152.29 144.85l-41.53-41.52a20 20 0 010-28.34l5.16-5.15a20.07 20.07 0 0128.39 0L186 111.21z'/></svg>",value:"success",onClick:()=>{try{this.color=this.nextArrayItem(this.colorOptions,this.color),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelectorAll("ion-checkbox").forEach((t=>{t.color=this.color})),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-progress-bar").color=this.color}catch(t){console.log("Error setting button alignment!")}}}],this.elements={wrapper:null,items:[]},this.readOnly=i,this.api=n,this.data=t||{}}get items(){return Array.from(this.elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 15a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15zm0-2.394a5.106 5.106 0 1 0 0-10.212 5.106 5.106 0 0 0 0 10.212zm-.675-4.665l2.708-2.708 1.392 1.392-2.708 2.708-1.392 1.391-2.971-2.971L5.245 6.36l1.58 1.58z"/></svg>',title:"Tasklist"}}static get conversionConfig(){return{export:t=>t.items.map((({text:t})=>t)).join(". "),import:t=>({items:[{text:t,checked:!1}]})}}render(){return this.elements.wrapper=Eu("ion-list",[this.CSS.baseBlock,this.CSS.wrapper],{style:"padding-bottom: 0px;"}),this.data.items||(setTimeout((()=>{this.elements.wrapper.querySelector("ion-item:first-of-type > ion-label").focus()}),200),this.data.items=[{text:"",checked:!1}]),setTimeout((()=>{this.progressBarEl=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-progress-bar"),this.setProgress()}),200),this.data.items.forEach((t=>{const n=this.createTasklistItem(t);this.elements.wrapper.appendChild(n)})),this.elements.wrapper.appendChild(Eu("ion-progress-bar",null,{color:this.color,value:this.progress})),this.readOnly||(this.elements.wrapper.addEventListener("keydown",(t=>{const[n,i]=[13,8];switch(t.keyCode){case n:this.enterPressed(t);break;case i:this.backspace(t)}}),!1),this.elements.wrapper.addEventListener("ionChange",(t=>{this.toggleCheckbox(t),this.setProgress()}))),this.elements.wrapper}setProgress(){var t;let n=0;for(const i of this.items)console.log(i),n+=(null===(t=null==i?void 0:i.querySelector("ion-checkbox"))||void 0===t?void 0:t.checked)?1:0;const i=n/this.items.length;this.progress=isFinite(i)&&i>0?i:0,this.progressBarEl.value=this.progress}renderSettings(){const t=document.createElement("div");for(const n of this.settings){let i=document.createElement("div");i.classList.add("cdx-settings-button"),i.innerHTML=n.innerHTML,"function"==typeof(null==n?void 0:n.onClick)&&i.addEventListener("click",n.onClick),t.appendChild(i)}return t}save(){let t=this.items.map((t=>({text:Ou(this.getItemInput(t)),checked:t.classList.contains(this.CSS.itemChecked)})));return t=t.filter((t=>0!==t.text.trim().length)),{items:t,color:this.color,progress:this.progress}}validate(t){return!!t.items.length}toggleCheckbox(t){const n=t.target.closest(`.${this.CSS.item}`);n.querySelector(`.${this.CSS.checkbox}`).contains(t.target)&&n.classList.toggle(this.CSS.itemChecked)}nextArrayItem(t,n){const i=t.indexOf(n);if(-1!==i)return t[(i+1)%t.length]}createTasklistItem(t={}){const n=Eu("ion-item",this.CSS.item),i=Eu("ion-checkbox",this.CSS.checkbox,{disabled:!!t.disabled,slot:"start",color:this.color}),e=Eu("ion-label",this.CSS.textField,{innerHTML:t.text?t.text:"",contentEditable:!this.readOnly,style:"z-index: 2;"});return t.checked&&n.classList.add(this.CSS.itemChecked),n.appendChild(i),n.appendChild(e),n}enterPressed(t){t.preventDefault();const n=this.items,i=document.activeElement.closest(`.${this.CSS.item}`);if(n.indexOf(i)===n.length-1&&n.length>1&&0===Ou(this.getItemInput(i)).length){const t=this.api.blocks.getCurrentBlockIndex();return i.remove(),setTimeout((()=>{this.setProgress()}),200),this.api.blocks.insert(),void this.api.caret.setToBlock(t+1)}const e=function(t){const n=document.createElement("div");return n.appendChild(t),n.innerHTML}(Su()),r=this.createTasklistItem({text:e,checked:!1});this.elements.wrapper.insertBefore(r,i.nextSibling),Mu(this.getItemInput(r),!0),setTimeout((()=>this.getItemInput(r).focus()),100),this.setProgress()}backspace(t){const n=t.target.closest(`.${this.CSS.item}`),i=this.items.indexOf(n),e=this.items[i-1];if(!e)return;if(0!==window.getSelection().focusOffset)return;t.preventDefault();const r=Su(),o=this.getItemInput(e),s=o.childNodes.length;o.appendChild(r),Mu(o,void 0,s),n.remove(),this.setProgress()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"enjin-tasklist",item:"enjin-tasklist__item",itemChecked:"enjin-tasklist__item--checked",checkbox:"enjin-tasklist__item-checkbox",textField:"enjin-tasklist__item-text"}}getItemInput(t){return t.querySelector(`.${this.CSS.textField}`)}}class Tu{constructor({data:t,config:n,api:i,readOnly:e,block:r}){this.api=i,this.readOnly=e,this.block=r,this.placeholder=n.placeholder?n.placeholder:"",this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:t.html||""},this.aceWidgetEl=null,this.resizeDebounce=null}static get isReadOnlySupported(){return!0}static get displayInToolbox(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:'<svg width="19" height="13"><path d="M18.004 5.794c.24.422.18.968-.18 1.328l-4.943 4.943a1.105 1.105 0 1 1-1.562-1.562l4.162-4.162-4.103-4.103A1.125 1.125 0 1 1 12.97.648l4.796 4.796c.104.104.184.223.239.35zm-15.142.547l4.162 4.162a1.105 1.105 0 1 1-1.562 1.562L.519 7.122c-.36-.36-.42-.906-.18-1.328a1.13 1.13 0 0 1 .239-.35L5.374.647a1.125 1.125 0 0 1 1.591 1.591L2.862 6.341z"/></svg>',title:"Raw HTML"}}injectScript(t){return new Promise(((n,i)=>{const e=document.createElement("script");e.async=!0,e.src=t,e.addEventListener("load",n),e.addEventListener("error",(()=>i("Error loading script."))),e.addEventListener("abort",(()=>i("Script loading aborted."))),document.head.appendChild(e)}))}render(){const t=document.createElement("div");return this.aceWidgetEl=document.createElement("ace-widget"),this.aceWidgetEl.baseUrl="/build/ace-builds/",this.aceWidgetEl.mode="ace/mode/html",t.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.aceWidgetEl.classList.add(this.CSS.textarea,this.CSS.input),this.aceWidgetEl.value=this.data.html,this.aceWidgetEl.enableLiveAutocompletion=!0,this.aceWidgetEl.enableSnippets=!0,this.aceWidgetEl.placeholder=this.placeholder,this.readOnly?this.aceWidgetEl.disabled=!0:this.aceWidgetEl.addEventListener("input",(()=>{this.onInput()})),t.appendChild(this.aceWidgetEl),setTimeout((()=>{this.resize(),this.block.stretched=!0}),100),t}save(t){var n,i;return{html:(null===(i=null===(n=this.aceWidgetEl)||void 0===n?void 0:n.editor)||void 0===i?void 0:i.getValue)?this.aceWidgetEl.editor.getValue():""}}static get DEFAULT_PLACEHOLDER(){return"Enter HTML code"}static get sanitize(){return{html:!0}}onInput(){this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout((()=>{this.resize()}),200)}resize(){}}const ju=class{constructor(i){t(this,i),this.enjinChange=n(this,"enjinChange",7),this.placeholder="Let's Write Something!",this.tools={},this.readOnly=!1,this.autofocus=!0}async getInstance(){return this.editorJS}async exportHTML(){return new Ie(null,{button:t=>`<ion-button shape="${t.shape?t.shape:"square"}" color="${t.color?t.color:"primary"}" class="${"center"===t.align?"enjin-align-center":"right"===t.align?"enjin-align-right":"enjin-align-left"}" href="${t.href?t.href:"#"}">${t.text}</ion-button>`,partial:t=>`<div class="editor-partial">{{> ${t.templateId}}}</div>`,tasklist:t=>{const n=(null==t?void 0:t.color)?t.color:"success",i=(null==t?void 0:t.progress)?t.progress:0,e=["<ion-list>"];for(const i of(null==t?void 0:t.items)?t.items:[])e.push(`<ion-item><ion-checkbox slot="start" color="${n}" ${i.checked?'checked="true"':""}></ion-checkbox><ion-label>${i.text}</ion-label></ion-item>`);return e.push(`<ion-progress-bar color="${n}" value="${i}"></ion-progress-bar>`,"</ion-list>"),e.join("")},code:t=>t.html}).parse(await this.editorJS.save())}async componentDidLoad(){this.editorJS=new ye({onChange:()=>{this.enjinChange.emit({instance:this.editorJS})},placeholder:this.placeholder,holder:this.editorEl,readOnly:this.readOnly,autofocus:this.autofocus,tools:Object.assign({paragraph:{class:Ae,inlineToolbar:!0},header:{class:_e,inlineToolbar:!0},button:{class:ku},image:{class:we,config:{uploader:{uploadByFile:t=>new Promise(((n,i)=>{const e=Zn.storage().ref(`${this.fileStoragePath?this.fileStoragePath:this.userId?`/users/${this.userId}`:"/enjin-editor"}/${t.name}`).put(t,{});e.on("state_changed",(function(t){switch(console.log("Upload is "+t.bytesTransferred/t.totalBytes*100+"% done"),t.state){case Zn.storage.TaskState.PAUSED:console.log("Upload is paused");break;case Zn.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(t){i(t)}),(function(){e.snapshot.ref.getDownloadURL().then((function(t){n({success:!0,file:{url:t}})}))}))})),uploadByUrl:async t=>({success:!0,file:{url:t}})}}},list:{class:xe,inlineToolbar:!0},tasklist:{class:Cu,inlineToolbar:!0},table:{class:Be},page:_u,code:Tu,partial:{class:Au,config:{partials:this.partials?this.partials:null}},editorJSStyle:Se,markdownParser:wu,markdownImporter:xu,embed:{class:ke}},this.tools)})}render(){return i(r,null)}static get assetsDirs(){return["ace-builds"]}get editorEl(){return e(this)}};ju.style="enjin-editor{display:block;color:var(--ion-text-color)}enjin-editor editorjs-style{display:block}enjin-editor .ce-toolbox__button--active,enjin-editor .ce-toolbox__button:hover,enjin-editor .ce-toolbar__plus--active,enjin-editor .ce-toolbar__plus:hover,enjin-editor .cdx-settings-button--active,enjin-editor .cdx-settings-button:hover{color:var(--ion-color-primary)}enjin-editor .ce-settings__button--confirm{background-color:var(--ion-color-danger) !important;color:var(--ion-color-danger-contrast)}enjin-editor .ce-block--selected .ce-block__content{background:var(--ion-color-base-tint)}enjin-editor .ce-toolbar{z-index:9}enjin-editor .ce-toolbox{background-color:var(--ion-background-color)}enjin-editor .ce-toolbar__settings-btn{background-color:var(--ion-color-base-shade)}enjin-editor .ce-inline-toolbar,enjin-editor .ce-conversion-toolbar,enjin-editor .ce-settings{color:var(--ion-text-color);background-color:var(--ion-color-base-shade);border-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-toolbar__dropdown{border-right-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-toolbar__dropdown:hover,enjin-editor .ce-inline-tool:hover,enjin-editor .ce-settings__button:hover,enjin-editor .cdx-settings-button:hover{background-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-tool,enjin-editor .ce-settings,enjin-editor .cdx-settings-button{color:var(--ion-text-color)}enjin-editor .ce-inline-tool svg,enjin-editor .ce-settings svg,enjin-editor .cdx-settings-button svg{fill:var(--ion-text-color)}enjin-editor .ce-inline-tool--active svg,enjin-editor .cdx-settings-button--active svg{fill:var(--ion-color-primary)}enjin-editor .ce-conversion-tool__icon{border-color:var(--ion-color-base-tint);background:var(--ion-color-base)}enjin-editor .ce-conversion-tool--focused{background:rgba(var(--ion-color-primary-rgb), 0.2) !important}enjin-editor .ce-conversion-tool:hover{background-color:var(--ion-color-primary);color:var(--ion-text-color)}enjin-editor .ce-conversion-tool:hover svg{color:var(--ion-text-color)}enjin-editor .ce-inline-toolbar__actions input{background:transparent}enjin-editor textarea.cdx-input{background-color:transparent}enjin-editor .editor-partial{min-height:40px}enjin-editor .ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:12px;line-height:1.6;letter-spacing:-0.2px;color:#a1a7b6;overscroll-behavior:contain}@media (min-width: 651px){enjin-editor .codex-editor--narrow .ce-toolbar__plus{left:-60px}}";export{ju as enjin_editor}