import{r as t,c as n,h as e,a as i,H as r}from"./p-a469560d.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o=function(t,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)};function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var a=function(){return(a=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)};function c(t,n,e,i){return new(e||(e=Promise))((function(r,o){function u(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(u,a)}c((i=i.apply(t,n||[])).next())}))}function s(t,n){var e,i,r,o,u={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,i=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((r=(r=u.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){u.label=o[1];break}if(6===o[0]&&u.label<r[1]){u.label=r[1],r=o;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(o);break}r[2]&&u.ops.pop(),u.trys.pop();continue}o=n.call(t,u)}catch(t){o=[6,t],i=0}finally{e=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,r,o=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(i=o.next()).done;)u.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return u}function h(t,n){for(var e=0,i=n.length,r=t.length;e<i;e++,r++)t[r]=n[e];return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(var e in n)n.hasOwnProperty(e)&&"__proto__"!==e&&(t[e]=d(t[e],n[e]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var v=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(n,e){t.resolve=n,t.reject=e}))}return t.prototype.wrapCallback=function(t){var n=this;return function(e,i){e?n.reject(e):n.resolve(i),"function"==typeof t&&(n.promise.catch((function(){})),1===t.length?t(e):t(e,i))}},t}();function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var b=function(t){function n(e,i,r){var o=t.call(this,i)||this;return o.code=e,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return u(n,t),n}(Error),g=function(){function t(t,n,e){this.service=t,this.serviceName=n,this.errors=e}return t.prototype.create=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var i=n[0]||{},r=this.service+"/"+t,o=this.errors[t],u=o?m(o,i):"Error",a=this.serviceName+": "+u+" ("+r+").",c=new b(r,a,i);return c},t}();function m(t,n){return t.replace(y,(function(t,e){var i=n[e];return null!=i?String(i):"<"+e+"?>"}))}var y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function k(t,n){var e=new x(t,n);return e.subscribe.bind(e)}var x=function(){function t(t,n){var e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(e)})).catch((function(t){e.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(n){n.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(n){n.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,n,e){var i,r=this;if(void 0===t&&void 0===n&&void 0===e)throw new Error("Missing Observer.");void 0===(i=function(t){if("object"!=typeof t||null===t)return!1;for(var n=0,e=["next","error","complete"];n<e.length;n++){var i=e[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:n,complete:e}).next&&(i.next=_),void 0===i.error&&(i.error=_),void 0===i.complete&&(i.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},t.prototype.sendOne=function(t,n){var e=this;this.task.then((function(){if(void 0!==e.observers&&void 0!==e.observers[t])try{n(e.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){n.observers=void 0,n.onNoObservers=void 0})))},t}();function _(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t){return t&&t._delegate?t._delegate:t}var E,S=function(){function t(t,n,e){this.name=t,this.instanceFactory=n,this.type=e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),O=function(){function t(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var e=new v;if(this.instancesDeferred.set(n,e),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&e.resolve(i)}catch(t){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(t){var n=a({identifier:"[DEFAULT]",optional:!1},t),e=n.optional,i=this.normalizeInstanceIdentifier(n.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(e)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(e)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var n,e;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}try{for(var i=f(this.instancesDeferred.entries()),r=i.next();!r.done;r=i.next()){var o=l(r.value,2),u=o[1],a=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService({instanceIdentifier:a});u.resolve(c)}catch(t){}}}catch(t){n={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return c(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(h(h([],l(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),l(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return n.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var n,e;void 0===t&&(t={});var i=t.instanceIdentifier,r=t.options,o=void 0===r?{}:r,u=this.normalizeInstanceIdentifier(void 0===i?"[DEFAULT]":i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:u,options:o});try{for(var c=f(this.instancesDeferred.entries()),s=c.next();!s.done;s=c.next()){var h=l(s.value,2),d=h[1];u===this.normalizeInstanceIdentifier(h[0])&&d.resolve(a)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(a,u),a},t.prototype.onInit=function(t){var n=this;return this.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,n){var e,i;try{for(var r=f(this.onInitCallbacks),o=r.next();!o.done;o=r.next()){var u=o.value;try{u(t,n)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},t.prototype.getOrInitializeService=function(t){var n,e=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,"[DEFAULT]"===n?void 0:n),options:r}),this.instances.set(e,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),T=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new O(t,this);return this.providers.set(t,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function A(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var i=Array(t),r=0;for(n=0;n<e;n++)for(var o=arguments[n],u=0,a=o.length;u<a;u++,r++)i[r]=o[u];return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M,R=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(M||(M={}));var F,C={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},I=M.INFO,B=((E={})[M.DEBUG]="log",E[M.VERBOSE]="log",E[M.INFO]="info",E[M.WARN]="warn",E[M.ERROR]="error",E),z=function(t,n){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];if(!(n<t.logLevel)){var r=(new Date).toISOString(),o=B[n];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+n+")");console[o].apply(console,A(["["+r+"]  "+t.name+":"],e))}},L=function(){function t(t){this.name=t,this._logLevel=I,this._logHandler=z,this._userLogHandler=null,R.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in M))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?C[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,A([this,M.DEBUG],t)),this._logHandler.apply(this,A([this,M.DEBUG],t))},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,A([this,M.VERBOSE],t)),this._logHandler.apply(this,A([this,M.VERBOSE],t))},t.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,A([this,M.INFO],t)),this._logHandler.apply(this,A([this,M.INFO],t))},t.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,A([this,M.WARN],t)),this._logHandler.apply(this,A([this,M.WARN],t))},t.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,A([this,M.ERROR],t)),this._logHandler.apply(this,A([this,M.ERROR],t))},t}();function D(t){R.forEach((function(n){n.setLogLevel(t)}))}var P,N=((F={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",F["bad-app-name"]="Illegal App name: '{$appName}",F["duplicate-app"]="Firebase App named '{$appName}' already exists",F["app-deleted"]="Firebase App named '{$appName}' already deleted",F["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",F["invalid-log-argument"]="First argument to `onLog` must be null or a function.",F),U=new g("app","Firebase",N),H=((P={})["@firebase/app"]="fire-core",P["@firebase/analytics"]="fire-analytics",P["@firebase/app-check"]="fire-app-check",P["@firebase/auth"]="fire-auth",P["@firebase/database"]="fire-rtdb",P["@firebase/functions"]="fire-fn",P["@firebase/installations"]="fire-iid",P["@firebase/messaging"]="fire-fcm",P["@firebase/performance"]="fire-perf",P["@firebase/remote-config"]="fire-rc",P["@firebase/storage"]="fire-gcs",P["@firebase/firestore"]="fire-fst",P["fire-js"]="fire-js",P["firebase-wrapper"]="fire-js-all",P),$=new L("@firebase/app"),V=function(){function t(t,n,e){var i=this;this.firebase_=e,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=d(void 0,t),this.container=new T(n.name),this._addComponent(new S("app",(function(){return i}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return i._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(n){t.checkDestroyed_(),n()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,n){return void 0===n&&(n="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(t,n){void 0===n&&(n="[DEFAULT]"),this.container.getProvider(t).clearInstance(n)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){$.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw U.create("app-deleted",{appName:this.name_})},t}();V.prototype.name&&V.prototype.options||V.prototype.delete||console.log("dc");var W=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var n=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var n={},e=new Map,i={__esModule:!0,initializeApp:function(e,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!=typeof u||!u)throw U.create("bad-app-name",{appName:String(u)});if(w(n,u))throw U.create("duplicate-app",{appName:u});var a=new t(e,o,i);return n[u]=a,a},app:r,registerVersion:function(t,n,e){var i,r=null!==(i=H[t])&&void 0!==i?i:t;e&&(r+="-"+e);var u=r.match(/\s|\//),a=n.match(/\s|\//);if(u||a){var c=['Unable to register library "'+r+'" with version "'+n+'":'];return u&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),u&&a&&c.push("and"),a&&c.push('version name "'+n+'" contains illegal characters (whitespace or "/")'),void $.warn(c.join(" "))}o(new S(r+"-version",(function(){return{library:r,version:n}}),"VERSION"))},setLogLevel:D,onLog:function(t,n){if(null!==t&&"function"!=typeof t)throw U.create("invalid-log-argument");!function(t,n){for(var e=function(e){var i=null;n&&n.level&&(i=C[n.level]),e.userLogHandler=null===t?null:function(n,e){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var u=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");e>=(null!=i?i:n.logLevel)&&t({level:M[e].toLowerCase(),message:u,args:r,type:n.name})}},i=0,r=R;i<r.length;i++)e(r[i])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,n)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete n[t]},components:e,useAsService:function(t,n){return"serverAuth"===n?null:n}}};function r(t){if(!w(n,t=t||"[DEFAULT]"))throw U.create("no-app",{appName:t});return n[t]}function o(o){var u=o.name;if(e.has(u))return $.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?i[u]:null;if(e.set(u,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[u])throw U.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&d(a,o.serviceProps),i[u]=a,t.prototype[u]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}for(var c=0,s=Object.keys(n);c<s.length;c++)n[s[c]]._addComponent(o);return"PUBLIC"===o.type?i[u]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(n).map((function(t){return n[t]}))}}),r.App=t,i}(V);return n.INTERNAL=a(a({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){d(n,t)},createSubscribe:k,ErrorFactory:g,deepExtend:d}),n}(),G=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var n=t.getComponent();return"VERSION"===(null==n?void 0:n.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var n=t.getImmediate();return n.library+"/"+n.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var q=self.firebase.SDK_VERSION;q&&q.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var X=W.initializeApp;W.initializeApp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return p()&&$.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),X.apply(void 0,t)};var Y=W;!function(t){t.INTERNAL.registerComponent(new S("platform-logger",(function(t){return new G(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.21",void 0),t.registerVersion("fire-js","")}(Y),
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Y.registerVersion("firebase","8.5.0","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Z=function(t){function n(e,i){var r=t.call(this,J(e),"Firebase Storage: "+i+" ("+J(e)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,n.prototype),r}return u(n,t),n.prototype._codeEquals=function(t){return J(t)===this.code},Object.defineProperty(n.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),n}(b);function J(t){return"storage/"+t}function K(){return new Z("unknown","An unknown error occurred, please check the error payload for server response.")}function Q(){return new Z("canceled","User canceled the upload/download.")}function tt(){return new Z("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nt(t){return new Z("invalid-argument",t)}function et(){return new Z("app-deleted","The Firebase app was deleted.")}function it(t){return new Z("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rt(t,n){return new Z("invalid-format","String does not match format '"+t+"': "+n)}function ot(t){throw new Z("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},at=function(t,n){this.data=t,this.contentType=n||null};function ct(t,n){switch(t){case ut.RAW:return new at(st(n));case ut.BASE64:case ut.BASE64URL:return new at(ft(t,n));case ut.DATA_URL:return new at((e=new ht(n)).base64?ft(ut.BASE64,e.rest):function(t){var n;try{n=decodeURIComponent(t)}catch(t){throw rt(ut.DATA_URL,"Malformed data URL.")}return st(n)}(e.rest),new ht(n).contentType)}var e;throw K()}function st(t){for(var n=[],e=0;e<t.length;e++){var i=t.charCodeAt(e);if(i<=127)n.push(i);else if(i<=2047)n.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(e<t.length-1&&56320==(64512&t.charCodeAt(e+1))){var r=i,o=t.charCodeAt(++e);n.push(240|(i=65536|(1023&r)<<10|1023&o)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else n.push(239,191,189);else 56320==(64512&i)?n.push(239,191,189):n.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(n)}function ft(t,n){switch(t){case ut.BASE64:var e=-1!==n.indexOf("-"),i=-1!==n.indexOf("_");if(e||i)throw rt(t,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break;case ut.BASE64URL:var r=-1!==n.indexOf("+"),o=-1!==n.indexOf("/");if(r||o)throw rt(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=atob(n)}catch(n){throw rt(t,"Invalid character found")}for(var a=new Uint8Array(u.length),c=0;c<u.length;c++)a[c]=u.charCodeAt(c);return a}var lt,ht=function(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw rt(ut.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var e,i,r=n[1]||null;null!=r&&(this.base64=(e=r).length>=(i=";base64").length&&e.substring(e.length-i.length)===i,this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},dt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vt(t){switch(t){case"running":case"pausing":case"canceling":return dt.RUNNING;case"paused":return dt.PAUSED;case"success":return dt.SUCCESS;case"canceled":return dt.CANCELED;case"error":default:return dt.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(lt||(lt={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pt=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=lt.NO_ERROR,this.sendPromise_=new Promise((function(n){t.xhr_.addEventListener("abort",(function(){t.errorCode_=lt.ABORT,n(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=lt.NETWORK_ERROR,n(t)})),t.xhr_.addEventListener("load",(function(){n(t)}))}))}return t.prototype.send=function(t,n,e,i){if(this.sent_)throw ot("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),void 0!==i)for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==e?this.xhr_.send(e):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ot("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ot("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ot("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),bt=function(){function t(){}return t.prototype.createXhrIo=function(){return new pt},t}(),gt=function(){function t(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(n,e){var i;try{i=t.makeFromUrl(n,e)}catch(e){return new t(n,"")}if(""===i.path)return i;throw new Z("invalid-default-bucket","Invalid default bucket '"+n+"'.")},t.makeFromUrl=function(n,e){var i=null,r="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+r+"(/(.*))?$","i");function u(t){t.path_=decodeURIComponent(t.path)}for(var a=e.replace(/[.]/g,"\\."),c=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===e?"(?:storage.googleapis.com|storage.cloud.google.com)":e)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:u}],s=0;s<c.length;s++){var f=c[s],l=f.regex.exec(n);if(l){var h=l[f.indices.path];h||(h=""),i=new t(l[f.indices.bucket],h),f.postModify(i);break}}if(null==i)throw function(t){return new Z("invalid-url","Invalid URL '"+t+"'.")}(n);return i},t}(),mt=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return"string"==typeof t||t instanceof String}function wt(t){return kt()&&t instanceof Blob}function kt(){return"undefined"!=typeof Blob}function xt(t,n,e,i){if(i<n)throw nt("Invalid value for '"+t+"'. Expected "+n+" or greater.");if(i>e)throw nt("Invalid value for '"+t+"'. Expected "+e+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,n){var e=n.match(/^(\w+):\/\/.+/),i=n;return null==(null==e?void 0:e[1])&&(i="https://"+n),i+"/v0"+t}function jt(t){var n=encodeURIComponent,e="?";for(var i in t)t.hasOwnProperty(i)&&(e=e+(n(i)+"=")+n(t[i])+"&");return e.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et=function(){function t(t,n,e,i,r,o,u,a,c,s,f){var l=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=e,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=u,this.errorCallback_=a,this.progressCallback_=s,this.timeout_=c,this.pool_=f,this.promise_=new Promise((function(t,n){l.resolve_=t,l.reject_=n,l.start_()}))}return t.prototype.start_=function(){var t=this;function n(n,e){var i,r=t.resolve_,o=t.reject_,u=e.xhr;if(e.wasSuccessCode)try{var a=t.callback_(u,u.getResponseText());void 0!==a?r(a):r()}catch(t){o(t)}else null!==u?((i=K()).serverResponse=u.getResponseText(),o(t.errorCallback_?t.errorCallback_(u,i):i)):o(i=e.canceled?t.appDelete_?et():Q():new Z("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?n(0,new St(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(n,e,i){var r=1,o=null,u=!1,a=0;function c(){return 2===a}var s=!1;function f(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,e.apply(null,t))}function l(n){o=setTimeout((function(){o=null,function(n,e){if(e)n(!1,new St(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then((function(e){null!==t.progressCallback_&&e.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(e=e).getErrorCode()===lt.NO_ERROR,o=e.getStatus();if(i&&!t.isRetryStatusCode_(o)){var u=-1!==t.successCodes_.indexOf(o);n(!0,new St(u,e))}else{var a=e.getErrorCode()===lt.ABORT;n(!1,new St(!1,null,a))}}))}function r(n){null!==t.progressCallback_&&t.progressCallback_(n.loaded,n.lengthComputable?n.total:-1)}}(d,c())}),n)}function d(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(!s)if(t)f.call.apply(f,h([null,t],n));else{var i;c()||u?f.call.apply(f,h([null,t],n)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var v=!1;function p(t){v||(v=!0,s||(null!==o?(t||(a=2),clearTimeout(o),l(0)):t||(a=1)))}return l(0),setTimeout((function(){u=!0,p(!0)}),i),p}(0,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,e=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return n||e||i},t}(),St=function(t,n,e){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!e};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ot(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Tt(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Ot();if(void 0!==e){for(var i=new e,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(kt())return new Blob(t);throw new Z("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var At=function(){function t(t,n){var e=0,i="";wt(t)?(this.data_=t,e=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),e=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),e=t.length),this.size_=e,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(n,e){if(wt(this.data_)){var i=(o=n,u=e,(r=this.data_).webkitSlice?r.webkitSlice(o,u):r.mozSlice?r.mozSlice(o,u):r.slice?r.slice(o,u):null);return null===i?null:new t(i)}var r,o,u;return new t(new Uint8Array(this.data_.buffer,n,e-n),!0)},t.getBlob=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(kt()){var i=n.map((function(n){return n instanceof t?n.data_:n}));return new t(Tt.apply(null,i))}var r=n.map((function(t){return yt(t)?ct(ut.RAW,t).data:t.data_})),o=0;r.forEach((function(t){o+=t.byteLength}));var u=new Uint8Array(o),a=0;return r.forEach((function(t){for(var n=0;n<t.length;n++)u[a++]=t[n]})),new t(u,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){var n,e;try{n=JSON.parse(t)}catch(t){return null}return"object"!=typeof(e=n)||Array.isArray(e)?null:n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){var n=t.lastIndexOf("/",t.length-2);return-1===n?t:t.slice(n+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,n){return n}var Ct=function(t,n,e,i){this.server=t,this.local=n||t,this.writable=!!e,this.xform=i||Ft},It=null;function Bt(){if(It)return It;var t=[];t.push(new Ct("bucket")),t.push(new Ct("generation")),t.push(new Ct("metageneration")),t.push(new Ct("name","fullPath",!0));var n=new Ct("name");n.xform=function(t,n){return function(t){return!yt(t)||t.length<2?t:Rt(t)}(n)},t.push(n);var e=new Ct("size");return e.xform=function(t,n){return void 0!==n?Number(n):n},t.push(e),t.push(new Ct("timeCreated")),t.push(new Ct("updated")),t.push(new Ct("md5Hash",null,!0)),t.push(new Ct("cacheControl",null,!0)),t.push(new Ct("contentDisposition",null,!0)),t.push(new Ct("contentEncoding",null,!0)),t.push(new Ct("contentLanguage",null,!0)),t.push(new Ct("contentType",null,!0)),t.push(new Ct("metadata","customMetadata",!0)),It=t}function zt(t,n,e){var i=Mt(n);return null===i?null:function(t,n,e){for(var i={type:"file"},r=e.length,o=0;o<r;o++){var u=e[o];i[u.local]=u.xform(i,n[u.server])}return function(t,n){Object.defineProperty(t,"ref",{get:function(){var e=new gt(t.bucket,t.fullPath);return n._makeStorageReference(e)}})}(i,t),i}(t,i,e)}function Lt(t,n){for(var e={},i=n.length,r=0;r<i;r++){var o=n[r];o.writable&&(e[o.server]=t[o.local])}return JSON.stringify(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt=function(t,n,e,i){this.url=t,this.method=n,this.handler=e,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){if(!t)throw K()}function Nt(t,n){return function(e,i){var r=zt(t,i,n);return Pt(null!==r),r}}function Ut(t){return function(n,e){var i;return(i=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Z("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Z("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?new Z("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===n.getStatus()?new Z("unauthorized","User does not have permission to access '"+t.path+"'."):e).serverResponse=e.serverResponse,i}}function Ht(t){var n=Ut(t);return function(e,i){var r=n(e,i);return 404===e.getStatus()&&(r=new Z("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function $t(t,n,e){var i=_t(n.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new Dt(i,"GET",Nt(t,e),r);return o.errorHandler=Ht(n),o}function Vt(t,n,e,i,r){var o={};o.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);var u=_t(n.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new Dt(u,"GET",function(t,n){return function(e,i){var r=function(t,n,e){var i=Mt(e);return null===i?null:function(t,n,e){var i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e.prefixes)for(var r=0,o=e.prefixes;r<o.length;r++){var u=o[r].replace(/\/$/,""),a=t._makeStorageReference(new gt(n,u));i.prefixes.push(a)}if(e.items)for(var c=0,s=e.items;c<s.length;c++)a=t._makeStorageReference(new gt(n,s[c].name)),i.items.push(a);return i}(t,n,i)}(t,n,i);return Pt(null!==r),r}}(t,n.bucket),a);return c.urlParams=o,c.errorHandler=Ut(n),c}function Wt(t,n,e){var i=Object.assign({},e);return i.fullPath=t.path,i.size=n.size(),i.contentType||(i.contentType=function(t,n){return n&&n.type()||"application/octet-stream"}(0,n)),i}var Gt=function(t,n,e,i){this.current=t,this.total=n,this.finalized=!!e,this.metadata=i||null};function qt(t,n){var e=null;try{e=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Pt(!1)}return Pt(!!e&&-1!==(n||["active"]).indexOf(e)),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xt=function(t,n,e){if("function"==typeof t||null!=n||null!=e)this.next=t,this.error=n,this.complete=e;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];Promise.resolve().then((function(){return t.apply(void 0,n)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt=function(){function t(t,n,e){var i=this;void 0===e&&(e=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=e,this._mappings=Bt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){i._request=void 0,i._chunkMultiplier=1,t._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=t,i._transition("error"))},this._metadataErrorHandler=function(t){i._request=void 0,t._codeEquals("canceled")?i.completeTransitions_():(i._error=t,i._transition("error"))},this._promise=new Promise((function(t,n){i._resolve=t,i._reject=n,i._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(e){return t._updateProgress(n+e)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(e){var i=e[0],r=e[1];switch(n._state){case"running":t(i,r);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(n,e){var i=function(t,n,e,i,r){var o=n.bucketOnlyServerUrl(),u=Wt(n,i,r),a={name:u.fullPath},c=_t(o,t.host),s={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},f=Lt(u,e),l=new Dt(c,"POST",(function(t){var n;qt(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Pt(!1)}return Pt(yt(n)),n}),t.maxUploadRetryTime);return l.urlParams=a,l.headers=s,l.body=f,l.errorHandler=Ut(n),l}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,n,e);t._request=r,r.getPromise().then((function(n){t._request=void 0,t._uploadUrl=n,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken((function(e,i){var r=function(t,n,e,i){var r=new Dt(e,"POST",(function(t){var n=qt(t,["active","final"]),e=null;try{e=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Pt(!1)}e||Pt(!1);var r=Number(e);return Pt(!isNaN(r)),new Gt(r,i.size(),"final"===n)}),t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=Ut(n),r}(t._ref.storage,t._ref._location,n,t._blob),o=t._ref.storage._makeRequest(r,e,i);t._request=o,o.getPromise().then((function(n){n=n,t._request=void 0,t._updateProgress(n.current),t._needToFetchStatus=!1,n.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,n=262144*this._chunkMultiplier,e=new Gt(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((function(r,o){var u;try{u=function(t,n,e,i,r,o,u,a){var c=new Gt(0,0);if(u?(c.current=u.current,c.total=u.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new Z("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var s=c.total-c.current,f=s;r>0&&(f=Math.min(f,r));var l=c.current,h={"X-Goog-Upload-Command":f===s?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},d=i.slice(l,l+f);if(null===d)throw tt();var v=new Dt(e,"POST",(function(t,e){var r,u=qt(t,["active","final"]),a=c.current+f,s=i.size();return r="final"===u?Nt(n,o)(t,e):null,new Gt(a,s,"final"===u,r)}),n.maxUploadRetryTime);return v.headers=h,v.body=d.uploadData(),v.progressCallback=a||null,v.errorHandler=Ut(t),v}(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,e,t._makeProgressCallback())}catch(n){return t._error=n,void t._transition("error")}var a=t._ref.storage._makeRequest(u,r,o);t._request=a,a.getPromise().then((function(n){t._increaseMultiplier(),t._request=void 0,t._updateProgress(n.current),n.finalized?(t._metadata=n.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(n,e){var i=$t(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(i,n,e);t._request=r,r.getPromise().then((function(n){t._request=void 0,t._metadata=n,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(n,e){var i=function(t,n,e,i,r){var o=n.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",n=0;n<2;n++)t+=Math.random().toString().slice(2);return t}();u["Content-Type"]="multipart/related; boundary="+a;var c=Wt(n,i,r),s=Lt(c,e),f=At.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+s+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===f)throw tt();var l={name:c.fullPath},h=_t(o,t.host),d=t.maxUploadRetryTime,v=new Dt(h,"POST",Nt(t,e),d);return v.urlParams=l,v.headers=u,v.body=f.uploadData(),v.errorHandler=Ut(n),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,n,e);t._request=r,r.getPromise().then((function(n){t._request=void 0,t._metadata=n,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var n="paused"===this._state;this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Q(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=vt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,n,e,i){var r=this,o=new Xt(n,e,i);return this._addObserver(o),function(){r._removeObserver(o)}},t.prototype.then=function(t,n){return this._promise.then(t,n)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);-1!==n&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(n){t._notifyObserver(n)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(vt(this._state)){case dt.SUCCESS:Yt(this._resolve.bind(null,this.snapshot))();break;case dt.CANCELED:case dt.ERROR:Yt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(vt(this._state)){case dt.RUNNING:case dt.PAUSED:t.next&&Yt(t.next.bind(t,this.snapshot))();break;case dt.SUCCESS:t.complete&&Yt(t.complete.bind(t))();break;case dt.CANCELED:case dt.ERROR:t.error&&Yt(t.error.bind(t,this._error))();break;default:t.error&&Yt(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Jt=function(){function t(t,n){this._service=t,this._location=n instanceof gt?n:gt.makeFromUrl(n,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(n,e){return new t(n,e)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new gt(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Rt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=function(t){if(0===t.length)return null;var n=t.lastIndexOf("/");return-1===n?"":t.slice(0,n)}(this._location.path);if(null===n)return null;var e=new gt(this._location.bucket,n);return new t(this._service,e)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw it(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){var n={prefixes:[],items:[]};return Qt(t,n).then((function(){return n}))}function Qt(t,n,e){return c(this,void 0,void 0,(function(){var i,r,o;return s(this,(function(u){switch(u.label){case 0:return[4,tn(t,{pageToken:e})];case 1:return i=u.sent(),(r=n.prefixes).push.apply(r,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,Qt(t,n,i.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function tn(t,n){return c(this,void 0,void 0,(function(){var e,i;return s(this,(function(r){switch(r.label){case 0:return null!=n&&"number"==typeof n.maxResults&&xt("options.maxResults",1,1e3,n.maxResults),i=Vt(t.storage,t._location,"/",(e=n||{}).pageToken,e.maxResults),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}}))}))}function nn(t){return c(this,void 0,void 0,(function(){var n;return s(this,(function(e){switch(e.label){case 0:return t._throwIfRoot("getDownloadURL"),n=function(t,n,e){var i=_t(n.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new Dt(i,"GET",function(t,n){return function(e,i){var r=zt(t,i,n);return Pt(null!==r),function(t,n,e){var i=Mt(n);if(null===i)return null;if(!yt(i.downloadTokens))return null;var r=i.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map((function(n){var i=t.fullPath;return _t("/b/"+o(t.bucket)+"/o/"+o(i),e)+jt({alt:"media",token:n})}))[0]}(r,i,t.host)}}(t,e),r);return o.errorHandler=Ht(n),o}(t.storage,t._location,Bt()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,e.sent().getPromise().then((function(t){if(null===t)throw new Z("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function en(t,n){var e=function(t,n){var e=n.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?e:t+"/"+e}(t._location.path,n),i=new gt(t._location.bucket,e);return new Jt(t.storage,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return/^[A-Za-z]+:\/\//.test(t)}function on(t,n){if(t instanceof cn){var e=t;if(null==e._bucket)throw new Z("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new Jt(e,e._bucket);return null!=n?on(i,n):i}if(void 0!==n){if(n.includes(".."))throw nt('`path` param cannot contain ".."');return en(t,n)}return t}function un(t,n){if(n&&rn(n)){if(t instanceof cn)return new Jt(t,n);throw nt("To use ref(service, url), the first argument must be a Storage instance.")}return on(t,n)}function an(t,n){var e=null==n?void 0:n.storageBucket;return null==e?null:gt.makeFromBucketSpec(e,t)}var cn=function(){function t(t,n,e,i,r,o){this.app=t,this._authProvider=n,this._appCheckProvider=e,this._pool=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?gt.makeFromBucketSpec(r,this._host):an(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?gt.makeFromBucketSpec(this._url,t):an(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){xt("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){xt("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return c(this,void 0,void 0,(function(){var t,n;return s(this,(function(e){switch(e.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(n=e.sent()))return[2,n.accessToken];e.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return c(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,n.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Jt(this,t)},t.prototype._makeRequest=function(t,n,e){var i=this;if(this._deleted)return new mt(et());var r=function(t,n,e,i,r,o){var u=jt(t.urlParams),a=t.url+u,c=Object.assign({},t.headers);return function(t,n){n&&(t["X-Firebase-GMPID"]=n)}(c,n),function(t,n){null!==n&&n.length>0&&(t.Authorization="Firebase "+n)}(c,e),function(t,n){t["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(c,o),function(t,n){null!==n&&(t["X-Firebase-AppCheck"]=n)}(c,i),new Et(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,n,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return i._requests.delete(r)}),(function(){return i._requests.delete(r)})),r},t.prototype.makeRequestWithTokens=function(t){return c(this,void 0,void 0,(function(){var n;return s(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=e.sent(),[2,this._makeRequest(t,n[0],n[1])]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,n){return un(t=j(t),n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fn,ln,hn=function(){function t(t,n,e){this._delegate=t,this.task=n,this.ref=e}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),dn=function(){function t(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new hn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,n){var e=this;return this._delegate.then((function(n){if(t)return t(new hn(n,e,e._ref))}),n)},t.prototype.on=function(t,n,e,i){var r=this,o=void 0;return n&&(o="function"==typeof n?function(t){return n(new hn(t,r,r._ref))}:{next:n.next?function(t){return n.next(new hn(t,r,r._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,o,e||void 0,i||void 0)},t}(),vn=function(){function t(t,n){this._delegate=t,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(n){return new pn(n,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(n){return new pn(n,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),pn=function(){function t(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(n){return new t(function(t,n){return en(t,n)}(this._delegate,n),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return null==n?null:new t(n,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,n){return this._throwIfRoot("put"),new dn(function(t,n,e){return function(t,n,e){return t._throwIfRoot("uploadBytesResumable"),new Zt(t,new At(n),e)}(t=j(t),n,e)}(this._delegate,t,n),this)},t.prototype.putString=function(t,n,e){void 0===n&&(n=ut.RAW),this._throwIfRoot("putString");var i=ct(n,t),r=a({},e);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new dn(new Zt(this._delegate,new At(i.data,!0),r),this)},t.prototype.listAll=function(){var t=this;return function(t){return Kt(t=j(t))}(this._delegate).then((function(n){return new vn(n,t.storage)}))},t.prototype.list=function(t){var n=this;return function(t,n){return tn(t=j(t),n)}(this._delegate,t||void 0).then((function(t){return new vn(t,n.storage)}))},t.prototype.getMetadata=function(){return function(t){return function(t){return c(this,void 0,void 0,(function(){var n;return s(this,(function(e){switch(e.label){case 0:return t._throwIfRoot("getMetadata"),n=$t(t.storage,t._location,Bt()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,e.sent().getPromise()]}}))}))}(t=j(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,n){return function(t,n){return c(this,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),e=function(t,n,e,i){var r=_t(n.fullServerUrl(),t.host),o=Lt(e,i),u=t.maxOperationRetryTime,a=new Dt(r,"PATCH",Nt(t,i),u);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Ht(n),a}(t.storage,t._location,n,Bt()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,i.sent().getPromise()]}}))}))}(t=j(t),n)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return nn(t=j(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return c(this,void 0,void 0,(function(){var n;return s(this,(function(e){switch(e.label){case 0:return t._throwIfRoot("deleteObject"),n=function(t,n){var e=_t(n.fullServerUrl(),t.host),i=new Dt(e,"DELETE",(function(){}),t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=Ht(n),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,e.sent().getPromise()]}}))}))}(t=j(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw it(t)},t}(),bn=function(){function t(t,n){var e=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return e._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(rn(t))throw nt("ref() expected a child path but got a URL, use refFromURL instead.");return new pn(sn(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!rn(t))throw nt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gt.makeFromUrl(t,this._delegate.host)}catch(t){throw nt("refFromUrl() expected a valid full URL but got an invalid one.")}return new pn(sn(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,n){!function(t,n,e){t.host="http://"+n+":"+e}(this._delegate,t,n)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln={TaskState:dt,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:ut,Storage:cn,Reference:pn},(fn=Y).INTERNAL.registerComponent(new S("storage",(function(t,n){var e=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new bn(i,new cn(i,r,o,new bt,e,Y.SDK_VERSION))}),"PUBLIC").setServiceProps(ln).setMultipleInstances(!0)),fn.registerVersion("@firebase/storage","0.5.2");var gn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function mn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yn(t,n,e){return t(e={path:n,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}const wn=mn(yn((function(t){
/*! For license information please see editor.js.LICENSE.txt */
window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=183)}([function(t,n,e){var i=e(10),r=e(17),o=e(27),u=e(21),a=e(31),c=function(t,n,e){var s,f,l,h,d=t&c.F,v=t&c.G,p=t&c.P,b=t&c.B,g=v?i:t&c.S?i[n]||(i[n]={}):(i[n]||{}).prototype,m=v?r:r[n]||(r[n]={}),y=m.prototype||(m.prototype={});for(s in v&&(e=n),e)l=((f=!d&&g&&void 0!==g[s])?g:e)[s],h=b&&f?a(l,i):p&&"function"==typeof l?a(Function.call,l):l,g&&u(g,s,l,t&c.U),m[s]!=l&&o(m,s,h),p&&y[s]!=l&&(y[s]=l)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t){function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,n,e){var i=e(110);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}},function(t,n,e){var i=e(80),r=e(368);t.exports=function(t,n){return!n||"object"!==i(n)&&"function"!=typeof n?r(t):n}},function(t,n,e){var i,r,o;r=[n,e(23),e(367),e(24),e(398),e(15)],void 0===(o="function"==typeof(i=function(t,n,i,r,o,u){var a,c=e(1);function s(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"color: inherit";if("console"in window&&window.console[e]){var o=["info","log","warn","error"].includes(e),u=[];switch(s.logLevel){case a.ERROR:if("error"!==e)return;break;case a.WARN:if(!["error","warn"].includes(e))return;break;case a.INFO:if(!o||t)return}i&&u.push(i);var c="Editor.js ".concat("2.21.0");t&&(o?(u.unshift("line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;",r),n="%c".concat(c,"%c ").concat(n)):n="( ".concat(c," )").concat(n));try{if(o)if(i){var f;(f=console)[e].apply(f,["".concat(n," %o")].concat(u))}else{var l;(l=console)[e].apply(l,[n].concat(u))}else console[e](n)}catch(t){}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=function(t){s.logLevel=t},t.typeOf=h,t.isFunction=d,t.isObject=v,t.isString=function(t){return"string"===h(t)},t.isBoolean=function(t){return"boolean"===h(t)},t.isNumber=function(t){return"number"===h(t)},t.isUndefined=p,t.isClass=function(t){return d(t)&&/^\s*class\s+/.test(t.toString())},t.isEmpty=function(t){return!t||0===Object.keys(t).length&&t.constructor===Object},t.isPromise=function(t){return Promise.resolve(t)===t},t.isPrintableKey=function(t){return t>47&&t<58||32===t||13===t||229===t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223},t.sequence=function(t){return b.apply(this,arguments)},t.array=function(t){return Array.prototype.slice.call(t)},t.delay=function(t,n){return function(){var e=this,i=arguments;window.setTimeout((function(){return t.apply(e,i)}),n)}},t.getFileExtension=function(t){return t.name.split(".").pop()},t.isValidMimeType=function(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)},t.debounce=function(t,n,e){var i,r=arguments,o=this;return function(){var u=o,a=r,c=e&&!i;window.clearTimeout(i),i=window.setTimeout((function(){i=null,e||t.apply(u,a)}),n),c&&t.apply(u,a)}},t.copyTextToClipboard=function(t){var n=u.default.make("div","codex-editor-clipboard",{innerHTML:t});document.body.appendChild(n);var e=window.getSelection(),i=document.createRange();i.selectNode(n),window.getSelection().removeAllRanges(),e.addRange(i),document.execCommand("copy"),document.body.removeChild(n)},t.getUserOS=g,t.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)},t.deepMerge=function t(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];if(!r.length)return n;var u=r.shift();if(v(n)&&v(u))for(var a in u)v(u[a])?(n[a]||Object.assign(n,(0,i.default)({},a,{})),t(n[a],u[a])):Object.assign(n,(0,i.default)({},a,u[a]));return t.apply(void 0,[n].concat(r))},t.beautifyShortcut=function(t){var n=g();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),n.mac?t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},t.getValidUrl=function(t){try{return new URL(t).href}catch(t){}return"//"===t.substring(0,2)?window.location.protocol+t:window.location.origin+t},t.generateBlockId=function(){return(0,o.nanoid)(10)},t.openTab=function(t){window.open(t,"_blank")},t.generateId=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(Math.floor(1e8*Math.random()).toString(16))},t.deprecationAssert=function(t,n,e){var i="".concat(n," is deprecated and will be removed in the next major release. Please use the ").concat(e," instead.");t&&l(i,"warn")},t.cacheable=function(t,n,e){var i=e.value?"value":"get",r=e[i],o="#".concat(n,"Cache");if(e[i]=function(){if(void 0===this[o]){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];this[o]=r.apply.apply(r,[this].concat(n))}return this[o]},"get"===i&&e.set){var u=e.set;e.set=function(n){delete t[o],u.apply(this,n)}}return e},t.isTouchSupported=t.logLabeled=t.log=t.mouseButtons=t.keyCodes=t.LogLevels=void 0,n=c(n),i=c(i),r=c(r),u=c(u),t.LogLevels=a,function(t){t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR"}(a||(t.LogLevels=a={})),t.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},t.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},s.logLevel=a.VERBOSE;var f=s.bind(window,!1);t.log=f;var l=s.bind(window,!0);function h(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function d(t){return"function"===h(t)}function v(t){return"object"===h(t)}function p(t){return"undefined"===h(t)}function b(){return(b=(0,r.default)(n.default.mark((function t(e){var i,o,u,a,c=arguments;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){return(a=(0,r.default)(n.default.mark((function t(e,i,r){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.function(e.data);case 3:return t.next=5,i(p(e.data)?{}:e.data);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(p(e.data)?{}:e.data);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)},u=function(t,n,e){return a.apply(this,arguments)},i=c.length>1&&void 0!==c[1]?c[1]:function(){},o=c.length>2&&void 0!==c[2]?c[2]:function(){},t.abrupt("return",e.reduce(function(){var t=(0,r.default)(n.default.mark((function t(e,r){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return t.abrupt("return",u(r,i,o));case 3:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){var t={win:!1,mac:!1,x11:!1,linux:!1},n=Object.keys(t).find((function(t){return-1!==navigator.appVersion.toLowerCase().indexOf(t)}));return n?(t[n]=!0,t):t}t.logLabeled=l;var m="ontouchstart"in document.documentElement;t.isTouchSupported=m})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i=e(80);function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=r();if(n&&n.has(t))return n.get(t);var e={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var a=o?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(e,u,a):e[u]=t[u]}return e.default=t,n&&n.set(t,e),e}},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(374)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var s=function(){function t(n){var e=this,i=n.config,o=n.eventsDispatcher;if((0,r.default)(this,t),this.nodes={},this.listeners=new u.default,this.readOnlyMutableListeners={on:function(t,n,i){e.mutableListenerIds.push(e.listeners.on(t,n,i,arguments.length>3&&void 0!==arguments[3]&&arguments[3]))},clearAll:function(){var t,n=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,n){if(t){if("string"==typeof t)return c(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,n):void 0}}(t))){var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}(e.mutableListenerIds);try{for(n.s();!(t=n.n()).done;)e.listeners.offById(t.value)}catch(t){n.e(t)}finally{n.f()}e.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof t?this.constructor:void 0)===t)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=i,this.eventsDispatcher=o}return(0,o.default)(t,[{key:"removeAllNodes",value:function(){for(var t in this.nodes){var n=this.nodes[t];n instanceof HTMLElement&&n.remove()}}},{key:"state",set:function(t){this.Editor=t}},{key:"isRtl",get:function(){return"rtl"===this.config.i18n.direction}}]),t}();i.default=s,s.displayName="Module",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var i=e(13);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){var i=e(68)("wks"),r=e(44),o=e(10).Symbol,u="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=u&&o[t]||(u?o:r)("Symbol."+t))}).store=i},function(t,n,e){var i,r,o;r=[n,e(42),e(2),e(3),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u,a){var c=e(8),s=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=s(r),o=s(o),u=s(u),a=c(a);var f=function(){function t(){(0,o.default)(this,t)}return(0,u.default)(t,null,[{key:"isSingleTag",value:function(t){return t.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}},{key:"isLineBreakTag",value:function(t){return t&&t.tagName&&["BR","WBR"].includes(t.tagName)}},{key:"make",value:function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(t);for(var u in Array.isArray(e)?(n=o.classList).add.apply(n,(0,r.default)(e)):e&&o.classList.add(e),i)Object.prototype.hasOwnProperty.call(i,u)&&(o[u]=i[u]);return o}},{key:"text",value:function(t){return document.createTextNode(t)}},{key:"svg",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:14,i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.classList.add("icon","icon--"+t),i.setAttribute("width",n+"px"),i.setAttribute("height",e+"px"),i.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(t,'"></use>'),i}},{key:"append",value:function(t,n){Array.isArray(n)?n.forEach((function(n){return t.appendChild(n)})):t.appendChild(n)}},{key:"prepend",value:function(t,n){Array.isArray(n)?(n=n.reverse()).forEach((function(n){return t.prepend(n)})):t.prepend(n)}},{key:"swap",value:function(t,n){var e=document.createElement("div"),i=t.parentNode;i.insertBefore(e,t),i.insertBefore(t,n),i.insertBefore(n,e),i.removeChild(e)}},{key:"find",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelector(arguments.length>1?arguments[1]:void 0)}},{key:"get",value:function(t){return document.getElementById(t)}},{key:"findAll",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(arguments.length>1?arguments[1]:void 0)}},{key:"findAllInputs",value:function(n){return a.array(n.querySelectorAll(t.allInputsSelector)).reduce((function(n,e){return t.isNativeInput(e)||t.containsOnlyInlineElements(e)?[].concat((0,r.default)(n),[e]):[].concat((0,r.default)(n),(0,r.default)(t.getDeepestBlockElements(e)))}),[])}},{key:"getDeepestNode",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(n&&n.nodeType===Node.ELEMENT_NODE&&n[i]){var o=n[i];if(t.isSingleTag(o)&&!t.isNativeInput(o)&&!t.isLineBreakTag(o))if(o[r])o=o[r];else{if(!o.parentNode[r])return o.parentNode;o=o.parentNode[r]}return this.getDeepestNode(o,e)}return n}},{key:"isElement",value:function(t){return!a.isNumber(t)&&t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(t){return!a.isNumber(t)&&t&&t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(t){return"true"===t.contentEditable}},{key:"isNativeInput",value:function(t){return!(!t||!t.tagName)&&["INPUT","TEXTAREA"].includes(t.tagName)}},{key:"canSetCaret",value:function(n){var e=!0;if(t.isNativeInput(n))switch(n.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1}else e=t.isContentEditable(n);return e}},{key:"isNodeEmpty",value:function(t){return!(this.isSingleTag(t)&&!this.isLineBreakTag(t))&&0===(this.isElement(t)&&this.isNativeInput(t)?t.value:t.textContent.replace("","")).trim().length}},{key:"isLeaf",value:function(t){return!!t&&0===t.childNodes.length}},{key:"isEmpty",value:function(t){t.normalize();for(var n=[t];n.length>0;)if(t=n.shift()){if(this.isLeaf(t)&&!this.isNodeEmpty(t))return!1;t.childNodes&&n.push.apply(n,(0,r.default)(Array.from(t.childNodes)))}return!0}},{key:"isHTMLString",value:function(n){var e=t.make("div");return e.innerHTML=n,e.childElementCount>0}},{key:"getContentLength",value:function(n){return t.isNativeInput(n)?n.value.length:n.nodeType===Node.TEXT_NODE?n.length:n.textContent.length}},{key:"containsOnlyInlineElements",value:function(n){var e;return a.isString(n)?(e=document.createElement("div")).innerHTML=n:e=n,Array.from(e.children).every((function n(e){return!t.blockElements.includes(e.tagName.toLowerCase())&&Array.from(e.children).every(n)}))}},{key:"getDeepestBlockElements",value:function(n){return t.containsOnlyInlineElements(n)?[n]:Array.from(n.children).reduce((function(n,e){return[].concat((0,r.default)(n),(0,r.default)(t.getDeepestBlockElements(e)))}),[])}},{key:"getHolder",value:function(t){return a.isString(t)?document.getElementById(t):t}},{key:"isExtensionNode",value:function(t){return t&&["GRAMMARLY-EXTENSION"].includes(t.nodeName)}},{key:"isAnchor",value:function(t){return"a"===t.tagName.toLowerCase()}},{key:"allInputsSelector",get:function(){return"[contenteditable], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((function(t){return'input[type="'.concat(t,'"]')})).join(", ")}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),t}();i.default=f,f.displayName="Dom",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i=e(33),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,n,e){t.exports=!e(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,e){var i=e(12),r=e(112),o=e(40),u=Object.defineProperty;n.f=e(18)?Object.defineProperty:function(t,n,e){if(i(t),n=o(n,!0),i(e),r)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var i=e(38);t.exports=function(t){return Object(i(t))}},function(t,n,e){var i=e(10),r=e(27),o=e(26),u=e(44)("src"),a=e(188),c=(""+a).split("toString");e(17).inspectSource=function(t){return a.call(t)},(t.exports=function(t,n,e,a){var s="function"==typeof e;s&&(o(e,"name")||r(e,"name",n)),t[n]!==e&&(s&&(o(e,u)||r(e,u,t[n]?""+t[n]:c.join(String(n)))),t===i?t[n]=e:a?t[n]?t[n]=e:r(t,n,e):(delete t[n],r(t,n,e)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[u]||a.call(this)}))},function(t,n,e){var i=e(0),r=e(11),o=e(38),u=/"/g,a=function(t,n,e,i){var r=String(o(t)),a="<"+n;return""!==e&&(a+=" "+e+'="'+String(i).replace(u,"&quot;")+'"'),a+">"+r+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(a),i(i.P+i.F*r((function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3})),"String",e)}},function(t,n,e){t.exports=e(143)},function(t){function n(t,n,e,i,r,o,u){try{var a=t[o](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var u=t.apply(e,i);function a(t){n(u,r,o,a,c,"next",t)}function c(t){n(u,r,o,a,c,"throw",t)}a(void 0)}))}}},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(7),e(15)],void 0===(o="function"==typeof(i=function(i,r,o,u,a){var c=e(8),s=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=s(r),o=s(o),u=c(u),a=s(a);var f=function(){function t(){(0,r.default)(this,t),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,o.default)(t,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=t.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(t.focusNode),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}},{key:"findParentTag",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=window.getSelection(),r=null;return i&&i.anchorNode&&i.focusNode?([i.anchorNode,i.focusNode].forEach((function(i){for(var o=e;o>0&&i.parentNode&&(i.tagName!==t||(r=i,n&&i.classList&&!i.classList.contains(n)&&(r=null),!r));)i=i.parentNode,o--})),r):null}},{key:"expandToTag",value:function(t){var n=window.getSelection();n.removeAllRanges();var e=document.createRange();e.selectNodeContents(t),n.addRange(e)}}],[{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=document.createRange(),i=window.getSelection();if(a.default.isNativeInput(t)){if(!a.default.canSetCaret(t))return;return t.focus(),t.selectionStart=t.selectionEnd=n,t.getBoundingClientRect()}return e.setStart(t,n),e.setEnd(t,n),i.removeAllRanges(),i.addRange(e),e.getBoundingClientRect()}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var t=window.getSelection();return t?t.anchorNode:null}},{key:"anchorElement",get:function(){var t=window.getSelection();if(!t)return null;var n=t.anchorNode;return n?a.default.isElement(n)?n:n.parentElement:null}},{key:"anchorOffset",get:function(){var t=window.getSelection();return t?t.anchorOffset:null}},{key:"isCollapsed",get:function(){var t=window.getSelection();return t?t.isCollapsed:null}},{key:"isAtEditor",get:function(){var n=t.get(),e=n.anchorNode||n.focusNode;e&&e.nodeType===Node.TEXT_NODE&&(e=e.parentNode);var i=null;return e&&e instanceof Element&&(i=e.closest(".".concat(t.CSS.editorZone))),i&&i.nodeType===Node.ELEMENT_NODE}},{key:"isSelectionExists",get:function(){return!!t.get().anchorNode}},{key:"range",get:function(){var t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}},{key:"rect",get:function(){var t,n=document.selection,e={x:0,y:0,width:0,height:0};if(n&&"Control"!==n.type)return t=(n=n).createRange(),e.x=t.boundingLeft,e.y=t.boundingTop,e.width=t.boundingWidth,e.height=t.boundingHeight,e;if(!window.getSelection)return u.log("Method window.getSelection is not supported","warn"),e;if(null===(n=window.getSelection()).rangeCount||isNaN(n.rangeCount))return u.log("Method SelectionUtils.rangeCount is not supported","warn"),e;if(0===n.rangeCount)return e;if((t=n.getRangeAt(0).cloneRange()).getBoundingClientRect&&(e=t.getBoundingClientRect()),0===e.x&&0===e.y){var i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("")),t.insertNode(i),e=i.getBoundingClientRect();var r=i.parentNode;r.removeChild(i),r.normalize()}}return e}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),t}();i.default=f,f.displayName="SelectionUtils",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,n,e){var i=e(19),r=e(43);t.exports=e(18)?function(t,n,e){return i.f(t,n,r(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var i=e(62),r=e(38);t.exports=function(t){return i(r(t))}},function(t,n,e){var i=e(11);t.exports=function(t,n){return!!t&&i((function(){n?t.call(null,(function(){}),1):t.call(null)}))}},function(t,n,e){var i=e(357),r=e(358),o=e(144),u=e(359);t.exports=function(t,n){return i(t)||r(t,n)||o(t,n)||u()}},function(t,n,e){var i=e(32);t.exports=function(t,n,e){if(i(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,i){return t.call(n,e,i)};case 3:return function(e,i,r){return t.call(n,e,i,r)}}return function(){return t.apply(n,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t){var n=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:n)(t)}},function(t,n,e){var i=e(63),r=e(43),o=e(28),u=e(40),a=e(26),c=e(112),s=Object.getOwnPropertyDescriptor;n.f=e(18)?s:function(t,n){if(t=o(t),n=u(n,!0),c)try{return s(t,n)}catch(t){}if(a(t,n))return r(!i.f.call(t,n),t[n])}},function(t,n,e){var i=e(0),r=e(17),o=e(11);t.exports=function(t,n){var e=(r.Object||{})[t]||Object[t],u={};u[t]=n(e),i(i.S+i.F*o((function(){e(1)})),"Object",u)}},function(t,n,e){var i=e(31),r=e(62),o=e(20),u=e(16),a=e(128);t.exports=function(t,n){var e=1==t,c=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l,d=n||a;return function(n,a,v){for(var p,b,g=o(n),m=r(g),y=i(a,v,3),w=u(m.length),k=0,x=e?d(n,w):c?d(n,0):void 0;w>k;k++)if((h||k in m)&&(b=y(p=m[k],k,g),t))if(e)x[k]=b;else if(b)switch(t){case 3:return!0;case 5:return p;case 6:return k;case 2:x.push(p)}else if(f)return!1;return l?-1:s||f?f:x}}},function(t){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){if(e(18)){var i=e(45),r=e(10),o=e(11),u=e(0),a=e(79),c=e(109),s=e(31),f=e(57),l=e(43),h=e(27),d=e(58),v=e(33),p=e(16),b=e(139),g=e(47),m=e(40),y=e(26),w=e(64),k=e(13),x=e(20),_=e(101),j=e(48),E=e(50),S=e(49).f,O=e(103),T=e(44),A=e(14),M=e(36),R=e(69),F=e(65),C=e(105),I=e(55),B=e(72),z=e(56),L=e(104),D=e(130),P=e(19),N=e(34),U=P.f,H=N.f,$=r.RangeError,V=r.TypeError,W=r.Uint8Array,G=Array.prototype,q=c.ArrayBuffer,X=c.DataView,Y=M(0),Z=M(2),J=M(3),K=M(4),Q=M(5),tt=M(6),nt=R(!0),et=R(!1),it=C.values,rt=C.keys,ot=C.entries,ut=G.lastIndexOf,at=G.reduce,ct=G.reduceRight,st=G.join,ft=G.sort,lt=G.slice,ht=G.toString,dt=G.toLocaleString,vt=A("iterator"),pt=A("toStringTag"),bt=T("typed_constructor"),gt=T("def_constructor"),mt=a.CONSTR,yt=a.TYPED,wt=a.VIEW,kt=M(1,(function(t,n){return St(F(t,t[gt]),n)})),xt=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),_t=!!W&&!!W.prototype.set&&o((function(){new W(1).set({})})),jt=function(t,n){var e=v(t);if(e<0||e%n)throw $("Wrong offset!");return e},Et=function(t){if(k(t)&&yt in t)return t;throw V(t+" is not a typed array!")},St=function(t,n){if(!k(t)||!(bt in t))throw V("It is not a typed array constructor!");return new t(n)},Ot=function(t,n){return Tt(F(t,t[gt]),n)},Tt=function(t,n){for(var e=0,i=n.length,r=St(t,i);i>e;)r[e]=n[e++];return r},At=function(t,n,e){U(t,n,{get:function(){return this._d[e]}})},Mt=function(t){var n,e,i,r,o,u,a=x(t),c=arguments.length,f=c>1?arguments[1]:void 0,l=void 0!==f,h=O(a);if(null!=h&&!_(h)){for(u=h.call(a),i=[],n=0;!(o=u.next()).done;n++)i.push(o.value);a=i}for(l&&c>2&&(f=s(f,arguments[2],2)),n=0,e=p(a.length),r=St(this,e);e>n;n++)r[n]=l?f(a[n],n):a[n];return r},Rt=function(){for(var t=0,n=arguments.length,e=St(this,n);n>t;)e[t]=arguments[t++];return e},Ft=!!W&&o((function(){dt.call(new W(1))})),Ct=function(){return dt.apply(Ft?lt.call(Et(this)):Et(this),arguments)},It={copyWithin:function(t,n){return D.call(Et(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return K(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(){return L.apply(Et(this),arguments)},filter:function(t){return Ot(this,Z(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(){return st.apply(Et(this),arguments)},lastIndexOf:function(){return ut.apply(Et(this),arguments)},map:function(t){return kt(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(){return at.apply(Et(this),arguments)},reduceRight:function(){return ct.apply(Et(this),arguments)},reverse:function(){for(var t,n=Et(this).length,e=Math.floor(n/2),i=0;i<e;)t=this[i],this[i++]=this[--n],this[n]=t;return this},some:function(t){return J(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(Et(this),t)},subarray:function(t,n){var e=Et(this),i=e.length,r=g(t,i);return new(F(e,e[gt]))(e.buffer,e.byteOffset+r*e.BYTES_PER_ELEMENT,p((void 0===n?i:g(n,i))-r))}},Bt=function(t,n){return Ot(this,lt.call(Et(this),t,n))},zt=function(t){Et(this);var n=jt(arguments[1],1),e=this.length,i=x(t),r=p(i.length),o=0;if(r+n>e)throw $("Wrong length!");for(;o<r;)this[n+o]=i[o++]},Lt={entries:function(){return ot.call(Et(this))},keys:function(){return rt.call(Et(this))},values:function(){return it.call(Et(this))}},Dt=function(t,n){return k(t)&&t[yt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Pt=function(t,n){return Dt(t,n=m(n,!0))?l(2,t[n]):H(t,n)},Nt=function(t,n,e){return!(Dt(t,n=m(n,!0))&&k(e)&&y(e,"value"))||y(e,"get")||y(e,"set")||e.configurable||y(e,"writable")&&!e.writable||y(e,"enumerable")&&!e.enumerable?U(t,n,e):(t[n]=e.value,t)};mt||(N.f=Pt,P.f=Nt),u(u.S+u.F*!mt,"Object",{getOwnPropertyDescriptor:Pt,defineProperty:Nt}),o((function(){ht.call({})}))&&(ht=dt=function(){return st.call(this)});var Ut=d({},It);d(Ut,Lt),h(Ut,vt,Lt.values),d(Ut,{slice:Bt,set:zt,constructor:function(){},toString:ht,toLocaleString:Ct}),At(Ut,"buffer","b"),At(Ut,"byteOffset","o"),At(Ut,"byteLength","l"),At(Ut,"length","e"),U(Ut,pt,{get:function(){return this[yt]}}),t.exports=function(t,n,e,c){var s=t+((c=!!c)?"Clamped":"")+"Array",l="get"+t,d="set"+t,v=r[s],g=v||{},m=v&&E(v),y={},x=v&&v.prototype,_=function(t,e){U(t,e,{get:function(){return function(t,e){var i=t._d;return i.v[l](e*n+i.o,xt)}(this,e)},set:function(t){return function(t,e,i){var r=t._d;c&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[d](e*n+r.o,i,xt)}(this,e,t)},enumerable:!0})};v&&a.ABV?o((function(){v(1)}))&&o((function(){new v(-1)}))&&B((function(t){new v,new v(null),new v(1.5),new v(t)}),!0)||(v=e((function(t,e,i,r){var o;return f(t,v,s),k(e)?e instanceof q||"ArrayBuffer"==(o=w(e))||"SharedArrayBuffer"==o?void 0!==r?new g(e,jt(i,n),r):void 0!==i?new g(e,jt(i,n)):new g(e):yt in e?Tt(v,e):Mt.call(v,e):new g(b(e))})),Y(m!==Function.prototype?S(g).concat(S(m)):S(g),(function(t){t in v||h(v,t,g[t])})),v.prototype=x,i||(x.constructor=v)):(v=e((function(t,e,i,r){f(t,v,s,"_d");var o,u,a,c,l=0,d=0;if(k(e)){if(!(e instanceof q||"ArrayBuffer"==(c=w(e))||"SharedArrayBuffer"==c))return yt in e?Tt(v,e):Mt.call(v,e);o=e,d=jt(i,n);var g=e.byteLength;if(void 0===r){if(g%n)throw $("Wrong length!");if((u=g-d)<0)throw $("Wrong length!")}else if((u=p(r)*n)+d>g)throw $("Wrong length!");a=u/n}else a=b(e),o=new q(u=a*n);for(h(t,"_d",{b:o,o:d,l:u,e:a,v:new X(o)});l<a;)_(t,l++)})),x=v.prototype=j(Ut),h(x,"constructor",v));var O=x[vt],T=!!O&&("values"==O.name||null==O.name),A=Lt.values;h(v,bt,!0),h(x,yt,s),h(x,wt,!0),h(x,gt,v),(c?new v(1)[pt]==s:pt in x)||U(x,pt,{get:function(){return s}}),y[s]=v,u(u.G+u.W+u.F*(v!=g),y),u(u.S,s,{BYTES_PER_ELEMENT:n}),u(u.S+u.F*o((function(){g.of.call(v,1)})),s,{from:Mt,of:Rt}),"BYTES_PER_ELEMENT"in x||h(x,"BYTES_PER_ELEMENT",n),u(u.P,s,It),z(s),u(u.P+u.F*_t,s,{set:zt}),u(u.P+u.F*!T,s,Lt),i||x.toString==ht||(x.toString=ht),u(u.P+u.F*o((function(){new v(1).slice()})),s,{slice:Bt}),u(u.P+u.F*(o((function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()}))||!o((function(){x.toLocaleString.call([1,2])}))),s,{toLocaleString:Ct}),I[s]=T?O:A,i||T||h(x,vt,A)}}else t.exports=function(){}},function(t,n,e){var i=e(13);t.exports=function(t,n){if(!i(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!i(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!i(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!i(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var i=e(44)("meta"),r=e(13),o=e(26),u=e(19).f,a=0,c=Object.isExtensible||function(){return!0},s=!e(11)((function(){return c(Object.preventExtensions({}))})),f=function(t){u(t,i,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:i,NEED:!1,fastKey:function(t,n){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!n)return"E";f(t)}return t[i].i},getWeak:function(t,n){if(!o(t,i)){if(!c(t))return!0;if(!n)return!1;f(t)}return t[i].w},onFreeze:function(t){return s&&l.NEED&&c(t)&&!o(t,i)&&f(t),t}}},function(t,n,e){var i=e(364),r=e(365),o=e(144),u=e(366);t.exports=function(t){return i(t)||r(t)||o(t)||u()}},function(t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t){var n=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+e).toString(36))}},function(t){t.exports=!1},function(t,n,e){var i=e(114),r=e(88);t.exports=Object.keys||function(t){return i(t,r)}},function(t,n,e){var i=e(33),r=Math.max,o=Math.min;t.exports=function(t,n){return(t=i(t))<0?r(t+n,0):o(t,n)}},function(t,n,e){var i=e(12),r=e(115),o=e(88),u=e(87)("IE_PROTO"),a=function(){},c=function(){var t,n=e(85)("iframe"),i=o.length;for(n.style.display="none",e(89).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[o[i]];return c()};t.exports=Object.create||function(t,n){var e;return null!==t?(a.prototype=i(t),e=new a,a.prototype=null,e[u]=t):e=c(),void 0===n?e:r(e,n)}},function(t,n,e){var i=e(114),r=e(88).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,n,e){var i=e(26),r=e(20),o=e(87)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var i=e(14)("unscopables"),r=Array.prototype;null==r[i]&&e(27)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,n,e){var i=e(13);t.exports=function(t,n){if(!i(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},function(t,n,e){var i=e(19).f,r=e(26),o=e(14)("toStringTag");t.exports=function(t,n,e){t&&!r(t=e?t:t.prototype,o)&&i(t,o,{configurable:!0,value:n})}},function(t,n,e){var i=e(0),r=e(38),o=e(11),u=e(91),a="["+u+"]",c=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),f=function(t,n,e){var r={},a=o((function(){return!!u[t]()||""!=""[t]()})),c=r[t]=a?n(l):u[t];e&&(r[e]=c),i(i.P+i.F*a,"String",r)},l=f.trim=function(t,n){return t=String(r(t)),1&n&&(t=t.replace(c,"")),2&n&&(t=t.replace(s,"")),t};t.exports=f},function(t){t.exports={}},function(t,n,e){var i=e(10),r=e(19),o=e(18),u=e(14)("species");t.exports=function(t){var n=i[t];o&&n&&!n[u]&&r.f(n,u,{configurable:!0,get:function(){return this}})}},function(t){t.exports=function(t,n,e,i){if(!(t instanceof n)||void 0!==i&&i in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var i=e(21);t.exports=function(t,n,e){for(var r in n)i(t,r,n[r],e);return t}},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(146)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,null,[{key:"ui",value:function(n,e){return t._t(n,e)}},{key:"t",value:function(n,e){return t._t(n,e)}},{key:"setDictionary",value:function(n){t.currentDictionary=n}},{key:"_t",value:function(n,e){var i=t.getNamespace(n);return i&&i[e]?i[e]:e}},{key:"getNamespace",value:function(n){return n.split(".").reduce((function(t,n){return t&&Object.keys(t).length?t[n]:{}}),t.currentDictionary)}}]),t}();i.default=c,c.displayName="I18n",c.currentDictionary=u.default,t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(379),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u,a){var c=e(8),s=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=s(r),o=s(o),u=s(u),a=c(a);var f=function(){function t(n){var e=this;(0,r.default)(this,t),this.iterator=null,this.activated=!1,this.allowArrows=!0,this.onKeyDown=function(n){if(e.isEventReadyForHandling(n))switch(t.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case a.keyCodes.TAB:e.handleTabPress(n);break;case a.keyCodes.LEFT:case a.keyCodes.UP:e.flipLeft();break;case a.keyCodes.RIGHT:case a.keyCodes.DOWN:e.flipRight();break;case a.keyCodes.ENTER:e.handleEnterPress(n)}},this.allowArrows=!a.isBoolean(n.allowArrows)||n.allowArrows,this.iterator=new u.default(n.items,n.focusedItemClass),this.activateCallback=n.activateCallback}return(0,o.default)(t,[{key:"activate",value:function(t){this.activated=!0,t&&this.iterator.setItems(t),document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous()}},{key:"flipRight",value:function(){this.iterator.next()}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(t){var n=[a.keyCodes.TAB,a.keyCodes.ENTER],e=this.iterator.currentItem==document.activeElement;return this.allowArrows&&!e&&n.push(a.keyCodes.LEFT,a.keyCodes.RIGHT,a.keyCodes.UP,a.keyCodes.DOWN),this.activated&&-1!==n.indexOf(t.keyCode)}},{key:"handleTabPress",value:function(t){switch(t.shiftKey?u.default.directions.LEFT:u.default.directions.RIGHT){case u.default.directions.RIGHT:this.flipRight();break;case u.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(t){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),a.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem),t.preventDefault(),t.stopPropagation())}},{key:"currentItem",get:function(){return this.iterator.currentItem}}],[{key:"usedKeys",get:function(){return[a.keyCodes.TAB,a.keyCodes.LEFT,a.keyCodes.RIGHT,a.keyCodes.ENTER,a.keyCodes.UP,a.keyCodes.DOWN]}}]),t}();i.default=f,f.displayName="Flipper",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(30),e(42),e(23),e(24),e(2),e(3),e(15),e(7),e(150),e(25)],void 0===(o="function"==typeof(i=function(t,n,i,r,o,u,a,c,s,f,l){var h,d=e(8),v=e(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockToolAPI=void 0,n=v(n),i=v(i),r=v(r),o=v(o),u=v(u),a=v(a),c=v(c),s=d(s),f=v(f),l=v(l),t.BlockToolAPI=h,function(t){t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste"}(h||(t.BlockToolAPI=h={}));var p=function(){function t(n){var e=this,i=n.id,r=void 0===i?s.generateBlockId():i,o=n.data,a=n.tool,c=n.api,l=n.readOnly,d=n.tunesData;(0,u.default)(this,t),this.cachedInputs=[],this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.modificationDebounceTimer=450,this.didMutated=s.debounce((function(){e.cachedInputs=[],e.updateCurrentInput(),e.call(h.UPDATED)}),this.modificationDebounceTimer),this.handleFocus=function(){e.cachedInputs=[],e.updateCurrentInput()},this.name=a.name,this.id=r,this.settings=a.settings,this.config=a.settings.config||{},this.api=c,this.blockAPI=new f.default(this),this.mutationObserver=new MutationObserver(this.didMutated),this.tool=a,this.toolInstance=a.create(o,this.blockAPI,l),this.tunes=a.tunes,this.composeTunes(d),this.holder=this.compose()}var e,d,v;return(0,a.default)(t,[{key:"call",value:function(t,n){if(s.isFunction(this.toolInstance[t])){t===h.APPEND_CALLBACK&&s.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[t].call(this.toolInstance,n)}catch(n){s.log("Error during '".concat(t,"' call: ").concat(n.message),"error")}}}},{key:"mergeWith",value:(v=(0,o.default)(r.default.mark((function t(n){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toolInstance.merge(n);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"save",value:(d=(0,o.default)(r.default.mark((function t(){var e,o,u,a,c=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toolInstance.save(this.pluginsContent);case 2:return e=t.sent,o=this.unavailableTunesData,[].concat((0,i.default)(this.tunesInstances.entries()),(0,i.default)(this.defaultTunesInstances.entries())).forEach((function(t){var e=(0,n.default)(t,2),i=e[0],r=e[1];if(s.isFunction(r.save))try{o[i]=r.save()}catch(t){s.log("Tune ".concat(r.constructor.name," save method throws an Error %o"),"warn",t)}})),u=window.performance.now(),t.abrupt("return",Promise.resolve(e).then((function(t){return a=window.performance.now(),{id:c.id,tool:c.name,data:t,tunes:o,time:a-u}})).catch((function(t){s.log("Saving proccess for ".concat(c.name," tool failed due to the ").concat(t),"log","red")})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"validate",value:(e=(0,o.default)(r.default.mark((function t(n){var e;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!0,!(this.toolInstance.validate instanceof Function)){t.next=5;break}return t.next=4,this.toolInstance.validate(n);case 4:e=t.sent;case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"renderTunes",value:function(){var t=document.createDocumentFragment(),n=document.createDocumentFragment();return this.tunesInstances.forEach((function(n){c.default.append(t,n.render())})),this.defaultTunesInstances.forEach((function(t){c.default.append(n,t.render())})),[t,n]}},{key:"updateCurrentInput",value:function(){this.currentInput=c.default.isNativeInput(document.activeElement)||!l.default.anchorNode?document.activeElement:l.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"destroy",value:function(){s.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"renderSettings",value:function(){if(s.isFunction(this.toolInstance.renderSettings))return this.toolInstance.renderSettings()}},{key:"compose",value:function(){var n=c.default.make("div",t.CSS.wrapper),e=c.default.make("div",t.CSS.content),r=this.toolInstance.render();e.appendChild(r);var o=e;return[].concat((0,i.default)(this.tunesInstances.values()),(0,i.default)(this.defaultTunesInstances.values())).forEach((function(t){if(s.isFunction(t.wrap))try{o=t.wrap(o)}catch(n){s.log("Tune ".concat(t.constructor.name," wrap method throws an Error %o"),"warn",n)}})),n.appendChild(o),n}},{key:"composeTunes",value:function(t){var e=this;Array.from(this.tunes.values()).forEach((function(n){(n.isInternal?e.defaultTunesInstances:e.tunesInstances).set(n.name,n.create(t[n.name],e.blockAPI))})),Object.entries(t).forEach((function(t){var i=(0,n.default)(t,2),r=i[0],o=i[1];e.tunesInstances.has(r)||(e.unavailableTunesData[r]=o)}))}},{key:"addInputEvents",value:function(){var t=this;this.inputs.forEach((function(n){n.addEventListener("focus",t.handleFocus)}))}},{key:"removeInputEvents",value:function(){var t=this;this.inputs.forEach((function(n){n.removeEventListener("focus",t.handleFocus)}))}},{key:"inputs",get:function(){if(0!==this.cachedInputs.length)return this.cachedInputs;var t=c.default.findAllInputs(this.holder);return this.inputIndex>t.length-1&&(this.inputIndex=t.length-1),this.cachedInputs=t,t}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(t){var n=this.inputs.findIndex((function(n){return n===t||n.contains(t)}));-1!==n&&(this.inputIndex=n)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var t=this.inputs;return t[t.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then((function(t){return t&&!s.isEmpty(t.data)?t.data:{}}))}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return s.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){return c.default.isEmpty(this.pluginsContent)&&!this.hasMedia}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(n){this.holder.classList.toggle(t.CSS.focused,n)},get:function(){return this.holder.classList.contains(t.CSS.focused)}},{key:"selected",set:function(n){n?this.holder.classList.add(t.CSS.selected):this.holder.classList.remove(t.CSS.selected)},get:function(){return this.holder.classList.contains(t.CSS.selected)}},{key:"stretched",set:function(n){this.holder.classList.toggle(t.CSS.wrapperStretched,n)},get:function(){return this.holder.classList.contains(t.CSS.wrapperStretched)}},{key:"dropTarget",set:function(n){this.holder.classList.toggle(t.CSS.dropTarget,n)}},{key:"pluginsContent",get:function(){var n=this.holder.querySelector(".".concat(t.CSS.content));if(n&&n.childNodes.length)for(var e=n.childNodes.length-1;e>=0;e--){var i=n.childNodes[e];if(!c.default.isExtensionNode(i))return i}return null}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),t}();t.default=p,p.displayName="Block"})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i=e(37);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var i=e(37),r=e(14)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var n,e,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),r))?e:o?i(n):"Object"==(u=i(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,e){var i=e(12),r=e(32),o=e(14)("species");t.exports=function(t,n){var e,u=i(t).constructor;return void 0===u||null==(e=i(u)[o])?n:r(e)}},function(t,n,e){var i,r,o;r=[n,e(7),e(377)],void 0===(o="function"==typeof(i=function(t,n,i){var r=e(1),o=e(8);function u(t){return new i.default({tags:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}).clean(t)}function a(t,e){return Array.isArray(t)?(o=e,t.map((function(t){return a(t,o)}))):n.isObject(t)?function(t,e){var i,r={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=t[o],c=n.isObject(i=e[o])||n.isBoolean(i)||n.isFunction(i)?e[o]:e;r[o]=a(u,c)}return r}(t,e):n.isString(t)?(i=t,n.isObject(r=e)?u(i,r):!1===r?u(i,{}):i):t;var i,r,o}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeBlocks=function(t,e){return t.map((function(t){var i=n.isFunction(e)?e(t.tool):e;return n.isEmpty(i)||(t.data=a(t.data,i)),t}))},t.clean=u,n=o(n),i=r(i)})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(7)],void 0===(o="function"==typeof(i=function(t,n,i,r){var o,u,a,c,s,f,l=e(8),h=e(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InternalTuneSettings=t.InternalInlineToolSettings=t.InternalBlockToolSettings=t.CommonInternalSettings=t.UserSettings=t.ToolType=void 0,n=h(n),i=h(i),r=l(r),t.ToolType=o,function(t){t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune"}(o||(t.ToolType=o={})),t.UserSettings=u,function(t){t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config"}(u||(t.UserSettings=u={})),t.CommonInternalSettings=a,function(t){t.Shortcut="shortcut",t.SanitizeConfig="sanitize"}(a||(t.CommonInternalSettings=a={})),t.InternalBlockToolSettings=c,function(t){t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig"}(c||(t.InternalBlockToolSettings=c={})),t.InternalInlineToolSettings=s,function(t){t.IsInline="isInline",t.Title="title"}(s||(t.InternalInlineToolSettings=s={})),t.InternalTuneSettings=f,function(t){t.IsTune="isTune"}(f||(t.InternalTuneSettings=f={}));var d=function(){function t(e){var i=e.name,r=e.constructable,o=e.config,u=e.api,a=e.isDefault,c=e.isInternal,s=void 0!==c&&c,f=e.defaultPlaceholder;(0,n.default)(this,t),this.api=u,this.name=i,this.constructable=r,this.config=o,this.isDefault=a,this.isInternal=s,this.defaultPlaceholder=f}return(0,i.default)(t,[{key:"reset",value:function(){if(r.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(r.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"isInline",value:function(){return this.type===o.Inline}},{key:"isBlock",value:function(){return this.type===o.Block}},{key:"isTune",value:function(){return this.type===o.Tune}},{key:"settings",get:function(){var t=this.config[u.Config]||{};return this.isDefault&&!("placeholder"in t)&&this.defaultPlaceholder&&(t.placeholder=this.defaultPlaceholder),t}},{key:"shortcut",get:function(){return this.config[u.Shortcut]||this.constructable[a.Shortcut]}},{key:"sanitizeConfig",get:function(){return this.constructable[a.SanitizeConfig]||{}}}]),t}();t.default=d,d.displayName="BaseTool"})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i=e(17),r=e(10),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:i.version,mode:e(45)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,e){var i=e(28),r=e(16),o=e(47);t.exports=function(t){return function(n,e,u){var a,c=i(n),s=r(c.length),f=o(u,s);if(t&&e!=e){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===e)return t||f||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var i=e(37);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,n,e){var i=e(14)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!r)return!1;var e=!1;try{var o=[7],u=o[i]();u.next=function(){return{done:e=!0}},o[i]=function(){return u},t(o)}catch(t){}return e}},function(t,n,e){var i=e(12);t.exports=function(){var t=i(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,e){var i=e(64),r=RegExp.prototype.exec;t.exports=function(t,n){var e=t.exec;if("function"==typeof e){var o=e.call(t,n);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,n)}},function(t,n,e){e(132);var i=e(21),r=e(27),o=e(11),u=e(38),a=e(14),c=e(106),s=a("species"),f=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,n,e){var h=a(t),d=!o((function(){var n={};return n[h]=function(){return 7},7!=""[t](n)})),v=d?!o((function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[s]=function(){return e}),e[h](""),!n})):void 0;if(!d||!v||"replace"===t&&!f||"split"===t&&!l){var p=/./[h],b=e(u,h,""[t],(function(t,n,e,i,r){return n.exec===c?d&&!r?{done:!0,value:p.call(n,e,i)}:{done:!0,value:t.call(e,n,i)}:{done:!1}})),g=b[1];i(String.prototype,t,b[0]),r(RegExp.prototype,h,2==n?function(t,n){return g.call(t,this,n)}:function(t){return g.call(t,this)})}}},function(t,n,e){var i=e(31),r=e(127),o=e(101),u=e(12),a=e(16),c=e(103),s={},f={};(n=t.exports=function(t,n,e,l,h){var d,v,p,b,g=h?function(){return t}:c(t),m=i(e,l,n?2:1),y=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=a(t.length);d>y;y++)if((b=n?m(u(v=t[y])[0],v[1]):m(t[y]))===s||b===f)return b}else for(p=g.call(t);!(v=p.next()).done;)if((b=r(p,m,v.value,n))===s||b===f)return b}).BREAK=s,n.RETURN=f},function(t,n,e){var i=e(10).navigator;t.exports=i&&i.userAgent||""},function(t,n,e){var i=e(10),r=e(0),o=e(21),u=e(58),a=e(41),c=e(76),s=e(57),f=e(13),l=e(11),h=e(72),d=e(53),v=e(92);t.exports=function(t,n,e,p,b,g){var m=i[t],y=m,w=b?"set":"add",k=y&&y.prototype,x={},_=function(t){var n=k[t];o(k,t,"delete"==t||"has"==t?function(t){return!(g&&!f(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof y&&(g||k.forEach&&!l((function(){(new y).entries().next()})))){var j=new y,E=j[w](g?{}:-0,1)!=j,S=l((function(){j.has(1)})),O=h((function(t){new y(t)})),T=!g&&l((function(){for(var t=new y,n=5;n--;)t[w](n,n);return!t.has(-0)}));O||((y=n((function(n,e){s(n,y,t);var i=v(new m,n,y);return null!=e&&c(e,b,i[w],i),i}))).prototype=k,k.constructor=y),(S||T)&&(_("delete"),_("has"),b&&_("get")),(T||E)&&_(w),g&&k.clear&&delete k.clear}else y=p.getConstructor(n,t,b,w),u(y.prototype,e),a.NEED=!0;return d(y,t),x[t]=y,r(r.G+r.W+r.F*(y!=m),x),g||p.setStrong(y,t,b),y}},function(t,n,e){for(var i,r=e(10),o=e(27),u=e(44),a=u("typed_array"),c=u("view"),s=!(!r.ArrayBuffer||!r.DataView),f=s,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(i=r[h[l++]])?(o(i.prototype,a,!0),o(i.prototype,c,!0)):f=!1;t.exports={ABV:s,CONSTR:f,TYPED:a,VIEW:c}},function(t){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=f(a),c=f(c);var h=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(l()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"getMethodsForTool",value:function(t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(t)})}},{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods}}}]),i}((s=f(s)).default);i.default=h,h.displayName="API",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(378)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(){(0,r.default)(this,t),this.lib=new u.default}return(0,o.default)(t,[{key:"destroy",value:function(){this.lib.destroy()}},{key:"show",value:function(t,n,e){this.lib.show(t,n,e)}},{key:"hide",value:function(){this.lib.hide()}},{key:"onHover",value:function(t,n,e){this.lib.onHover(t,n,e)}}]),t}();i.default=c,c.displayName="Tooltip",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(59),e(84),e(82)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v){var p=e(8),b=e(1);function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=b(r),o=b(o),u=b(u),a=b(a),c=b(c),s=b(s),f=b(f),l=p(l),h=b(h),v=b(v);var m=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(g()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(t){var n,o=t.config,u=t.eventsDispatcher;return(0,r.default)(this,i),(n=e.call(this,{config:o,eventsDispatcher:u})).tooltip=new v.default,n}return(0,o.default)(i,[{key:"toggleReadOnly",value:function(t){t?(this.destroy(),this.Editor.Toolbox.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"move",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var t=this.Editor.BlockManager.currentBlock.holder;if(t){var n=t.offsetHeight,e=t.offsetTop;if(this.Editor.UI.isMobile)e+=n;else{var i=Math.floor(n/2);this.nodes.plusButton.style.transform="translate3d(0, calc(".concat(i,"px - 50%), 0)"),this.Editor.Toolbox.nodes.toolbox.style.transform="translate3d(0, calc(".concat(i,"px - 50%), 0)")}this.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(e),"px, 0)")}}},{key:"open",value:function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l.delay((function(){t.move(e),t.nodes.wrapper.classList.add(t.CSS.toolbarOpened),n?t.blockActions.show():t.blockActions.hide()}),50)()}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.Editor.Toolbox.close(),this.Editor.BlockSettings.close()}},{key:"make",value:function(){var t=this;this.nodes.wrapper=f.default.make("div",this.CSS.toolbar),["content","actions"].forEach((function(n){t.nodes[n]=f.default.make("div",t.CSS[n])})),f.default.append(this.nodes.wrapper,this.nodes.content),f.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=f.default.make("div",this.CSS.plusButton),f.default.append(this.nodes.plusButton,f.default.svg("plus",14,14)),f.default.append(this.nodes.content,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",(function(){t.plusButtonClicked()}),!1);var n=f.default.make("div");n.appendChild(document.createTextNode(h.default.ui(d.I18nInternalNS.ui.toolbar.toolbox,"Add"))),n.appendChild(f.default.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,n),this.nodes.blockActionsButtons=f.default.make("div",this.CSS.blockActionsButtons),this.nodes.settingsToggler=f.default.make("span",this.CSS.settingsToggler);var e=f.default.svg("dots",8,8);f.default.append(this.nodes.settingsToggler,e),f.default.append(this.nodes.blockActionsButtons,this.nodes.settingsToggler),f.default.append(this.nodes.actions,this.nodes.blockActionsButtons),this.tooltip.onHover(this.nodes.settingsToggler,h.default.ui(d.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{placement:"top"}),f.default.append(this.nodes.content,this.Editor.Toolbox.nodes.toolbox),f.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),f.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"plusButtonClicked",value:function(){this.Editor.Toolbox.toggle()}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"click",(function(){t.settingsTogglerClicked()}))}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open()}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.Editor.Toolbox.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes(),this.tooltip.destroy()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",plusButtonHidden:"ce-toolbar__plus--hidden",blockActionsButtons:"ce-toolbar__actions-buttons",settingsToggler:"ce-toolbar__settings-btn"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"plusButton",get:function(){var t=this;return{hide:function(){return t.nodes.plusButton.classList.add(t.CSS.plusButtonHidden)},show:function(){t.Editor.Toolbox.isEmpty||t.nodes.plusButton.classList.remove(t.CSS.plusButtonHidden)}}}},{key:"blockActions",get:function(){var t=this;return{hide:function(){t.nodes.actions.classList.remove(t.CSS.actionsOpened)},show:function(){t.nodes.actions.classList.add(t.CSS.actionsOpened)}}}}]),i}(s.default);i.default=m,m.displayName="Toolbar",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(30),e(146),e(7)],void 0===(o="function"==typeof(i=function(t,n,i,r){var o=e(1);Object.defineProperty(t,"__esModule",{value:!0}),t.I18nInternalNS=void 0,n=o(n);var u=function t(e,i){var o={};return Object.entries(e).forEach((function(e){var u=(0,n.default)(e,2),a=u[0],c=u[1];if((0,r.isObject)(c)){var s=i?"".concat(i,".").concat(a):a,f=Object.values(c).every((function(t){return(0,r.isString)(t)}));o[a]=f?s:t(c,s)}else o[a]=c})),o}((i=o(i)).default);t.I18nInternalNS=u})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i=e(13),r=e(10).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,n,e){n.f=e(14)},function(t,n,e){var i=e(68)("keys"),r=e(44);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var i=e(10).document;t.exports=i&&i.documentElement},function(t,n,e){var i=e(13),r=e(12),o=function(t,n){if(r(t),!i(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=e(31)(Function.call,e(34).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:o}},function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,n,e){var i=e(13),r=e(90).set;t.exports=function(t,n,e){var o,u=n.constructor;return u!==e&&"function"==typeof u&&(o=u.prototype)!==e.prototype&&i(o)&&r&&r(t,o),t}},function(t,n,e){var i=e(33),r=e(38);t.exports=function(t){var n=String(r(this)),e="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(e+=n);return e}},function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,n,e){var i=e(33),r=e(38);t.exports=function(t){return function(n,e){var o,u,a=String(r(n)),c=i(e),s=a.length;return c<0||c>=s?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===s||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):o:t?a.slice(c,c+2):u-56320+(o-55296<<10)+65536}}},function(t,n,e){var i=e(45),r=e(0),o=e(21),u=e(27),a=e(55),c=e(126),s=e(53),f=e(50),l=e(14)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,n,e,v,p,b,g){c(e,n,v);var m,y,w,k=function(t){if(!h&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},x=n+" Iterator",_="values"==p,j=!1,E=t.prototype,S=E[l]||E["@@iterator"]||p&&E[p],O=S||k(p),T=p?_?k("entries"):O:void 0,A="Array"==n&&E.entries||S;if(A&&(w=f(A.call(new t)))!==Object.prototype&&w.next&&(s(w,x,!0),i||"function"==typeof w[l]||u(w,l,d)),_&&S&&"values"!==S.name&&(j=!0,O=function(){return S.call(this)}),i&&!g||!h&&!j&&E[l]||u(E,l,O),a[n]=O,a[x]=d,p)if(m={values:_?O:k("values"),keys:b?O:k("keys"),entries:T},g)for(y in m)y in E||o(E,y,m[y]);else r(r.P+r.F*(h||j),n,m);return m}},function(t,n,e){var i=e(99),r=e(38);t.exports=function(t,n,e){if(i(n))throw TypeError("String#"+e+" doesn't accept regex!");return String(r(t))}},function(t,n,e){var i=e(13),r=e(37),o=e(14)("match");t.exports=function(t){var n;return i(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==r(t))}},function(t,n,e){var i=e(14)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[i]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,e){var i=e(55),r=e(14)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,n,e){var i=e(19),r=e(43);t.exports=function(t,n,e){n in t?i.f(t,n,r(0,e)):t[n]=e}},function(t,n,e){var i=e(64),r=e(14)("iterator"),o=e(55);t.exports=e(17).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,n,e){var i=e(20),r=e(47),o=e(16);t.exports=function(t){for(var n=i(this),e=o(n.length),u=arguments.length,a=r(u>1?arguments[1]:void 0,e),c=u>2?arguments[2]:void 0,s=void 0===c?e:r(c,e);s>a;)n[a++]=t;return n}},function(t,n,e){var i=e(51),r=e(131),o=e(55),u=e(28);t.exports=e(97)(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,r(1)):r(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,n,e){var i,r,o=e(73),u=RegExp.prototype.exec,a=String.prototype.replace,c=u,s=(r=/b*/g,u.call(i=/a/,"a"),u.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),f=void 0!==/()??/.exec("")[1];(s||f)&&(c=function(t){var n,e,i,r,c=this;return f&&(e=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),s&&(n=c.lastIndex),i=u.call(c,t),s&&i&&(c.lastIndex=c.global?i.index+i[0].length:n),f&&i&&i.length>1&&a.call(i[0],e,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=c},function(t,n,e){var i=e(96)(!0);t.exports=function(t,n,e){return n+(e?i(t,n).length:1)}},function(t,n,e){var i,r,o,u=e(31),a=e(120),c=e(89),s=e(85),f=e(10),l=f.process,h=f.setImmediate,d=f.clearImmediate,v=f.MessageChannel,p=f.Dispatch,b=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},y=function(t){m.call(t.data)};h&&d||(h=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return g[++b]=function(){a("function"==typeof t?t:Function(t),n)},i(b),b},d=function(t){delete g[t]},"process"==e(37)(l)?i=function(t){l.nextTick(u(m,t,1))}:p&&p.now?i=function(t){p.now(u(m,t,1))}:v?(o=(r=new v).port2,r.port1.onmessage=y,i=u(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(i=function(t){f.postMessage(t+"","*")},f.addEventListener("message",y,!1)):i="onreadystatechange"in s("script")?function(t){c.appendChild(s("script")).onreadystatechange=function(){c.removeChild(this),m.call(t)}}:function(t){setTimeout(u(m,t,1),0)}),t.exports={set:h,clear:d}},function(t,n,e){var i=e(10),r=e(18),o=e(45),u=e(79),a=e(27),c=e(58),s=e(11),f=e(57),l=e(33),h=e(16),d=e(139),v=e(49).f,p=e(19).f,b=e(104),g=e(53),m=i.ArrayBuffer,y=i.DataView,w=i.Math,k=i.RangeError,x=i.Infinity,_=m,j=w.abs,E=w.pow,S=w.floor,O=w.log,T=w.LN2,A=r?"_b":"buffer",M=r?"_l":"byteLength",R=r?"_o":"byteOffset";function F(t,n,e){var i,r,o,u=new Array(e),a=8*e-n-1,c=(1<<a)-1,s=c>>1,f=23===n?E(2,-24)-E(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=j(t))!=t||t===x?(r=t!=t?1:0,i=c):(i=S(O(t)/T),t*(o=E(2,-i))<1&&(i--,o*=2),(t+=i+s>=1?f/o:f*E(2,1-s))*o>=2&&(i++,o/=2),i+s>=c?(r=0,i=c):i+s>=1?(r=(t*o-1)*E(2,n),i+=s):(r=t*E(2,s-1)*E(2,n),i=0));n>=8;u[l++]=255&r,r/=256,n-=8);for(i=i<<n|r,a+=n;a>0;u[l++]=255&i,i/=256,a-=8);return u[--l]|=128*h,u}function C(t,n,e){var i,r=8*e-n-1,o=(1<<r)-1,u=o>>1,a=r-7,c=e-1,s=t[c--],f=127&s;for(s>>=7;a>0;f=256*f+t[c],c--,a-=8);for(i=f&(1<<-a)-1,f>>=-a,a+=n;a>0;i=256*i+t[c],c--,a-=8);if(0===f)f=1-u;else{if(f===o)return i?NaN:s?-x:x;i+=E(2,n),f-=u}return(s?-1:1)*i*E(2,f-n)}function I(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function B(t){return[255&t]}function z(t){return[255&t,t>>8&255]}function L(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function D(t){return F(t,52,8)}function P(t){return F(t,23,4)}function N(t,n,e){p(t.prototype,n,{get:function(){return this[e]}})}function U(t,n,e,i){var r=d(+e);if(r+n>t[M])throw k("Wrong index!");var o=r+t[R],u=t[A]._b.slice(o,o+n);return i?u:u.reverse()}function H(t,n,e,i,r,o){var u=d(+e);if(u+n>t[M])throw k("Wrong index!");for(var a=t[A]._b,c=u+t[R],s=i(+r),f=0;f<n;f++)a[c+f]=s[o?f:n-f-1]}if(u.ABV){if(!s((function(){m(1)}))||!s((function(){new m(-1)}))||s((function(){return new m,new m(1.5),new m(NaN),"ArrayBuffer"!=m.name}))){for(var $,V=(m=function(t){return f(this,m),new _(d(t))}).prototype=_.prototype,W=v(_),G=0;W.length>G;)($=W[G++])in m||a(m,$,_[$]);o||(V.constructor=m)}var q=new y(new m(2)),X=y.prototype.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||c(y.prototype,{setInt8:function(t,n){X.call(this,t,n<<24>>24)},setUint8:function(t,n){X.call(this,t,n<<24>>24)}},!0)}else m=function(t){f(this,m,"ArrayBuffer");var n=d(t);this._b=b.call(new Array(n),0),this[M]=n},y=function(t,n,e){f(this,y,"DataView"),f(t,m,"DataView");var i=t[M],r=l(n);if(r<0||r>i)throw k("Wrong offset!");if(r+(e=void 0===e?i-r:h(e))>i)throw k("Wrong length!");this[A]=t,this[R]=r,this[M]=e},r&&(N(m,"byteLength","_l"),N(y,"buffer","_b"),N(y,"byteLength","_l"),N(y,"byteOffset","_o")),c(y.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var n=U(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=U(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return I(U(this,4,t,arguments[1]))},getUint32:function(t){return I(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return C(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return C(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){H(this,1,t,B,n)},setUint8:function(t,n){H(this,1,t,B,n)},setInt16:function(t,n){H(this,2,t,z,n,arguments[2])},setUint16:function(t,n){H(this,2,t,z,n,arguments[2])},setInt32:function(t,n){H(this,4,t,L,n,arguments[2])},setUint32:function(t,n){H(this,4,t,L,n,arguments[2])},setFloat32:function(t,n){H(this,4,t,P,n,arguments[2])},setFloat64:function(t,n){H(this,8,t,D,n,arguments[2])}});g(m,"ArrayBuffer"),g(y,"DataView"),a(y.prototype,u.VIEW,!0),n.ArrayBuffer=m,n.DataView=y},function(t){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},n(e,i)}t.exports=n},function(t,n,e){var i,r,o;r=[n,e(42),e(2),e(3),e(381)],void 0===(o="function"==typeof(i=function(i,r,o,u,a){var c=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=c(r),o=c(o),u=c(u),a=c(a);var s=function(){function t(){(0,o.default)(this,t),this.registeredShortcuts=new Map}return(0,u.default)(t,[{key:"add",value:function(t){if(this.findShortcut(t.on,t.name))throw Error("Shortcut ".concat(t.name," is already registered for ").concat(t.on,". Please remove it before add a new handler."));var n=new a.default({name:t.name,on:t.on,callback:t.handler}),e=this.registeredShortcuts.get(t.on)||[];this.registeredShortcuts.set(t.on,[].concat((0,r.default)(e),[n]))}},{key:"remove",value:function(t,n){var e=this.findShortcut(t,n);if(e){e.remove();var i=this.registeredShortcuts.get(t);this.registeredShortcuts.set(t,i.filter((function(t){return t!==e})))}}},{key:"findShortcut",value:function(t,n){return(this.registeredShortcuts.get(t)||[]).find((function(t){return t.name===n}))}}]),t}();s.displayName="Shortcuts";var f=new s;i.default=f,t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){t.exports=!e(18)&&!e(11)((function(){return 7!=Object.defineProperty(e(85)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,e){var i=e(10),r=e(17),o=e(45),u=e(86),a=e(19).f;t.exports=function(t){var n=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in n||a(n,t,{value:u.f(t)})}},function(t,n,e){var i=e(26),r=e(28),o=e(69)(!1),u=e(87)("IE_PROTO");t.exports=function(t,n){var e,a=r(t),c=0,s=[];for(e in a)e!=u&&i(a,e)&&s.push(e);for(;n.length>c;)i(a,e=n[c++])&&(~o(s,e)||s.push(e));return s}},function(t,n,e){var i=e(19),r=e(12),o=e(46);t.exports=e(18)?Object.defineProperties:function(t,n){r(t);for(var e,u=o(n),a=u.length,c=0;a>c;)i.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var i=e(28),r=e(49).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return u.slice()}}(t):r(i(t))}},function(t,n,e){var i=e(18),r=e(46),o=e(70),u=e(63),a=e(20),c=e(62),s=Object.assign;t.exports=!s||e(11)((function(){var t={},n={},e=Symbol(),i="abcdefghijklmnopqrst";return t[e]=7,i.split("").forEach((function(t){n[t]=t})),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=i}))?function(t,n){for(var e=a(t),s=arguments.length,f=1,l=o.f,h=u.f;s>f;)for(var d,v=c(arguments[f++]),p=l?r(v).concat(l(v)):r(v),b=p.length,g=0;b>g;)d=p[g++],i&&!h.call(v,d)||(e[d]=v[d]);return e}:s},function(t){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,e){var i=e(32),r=e(13),o=e(120),u=[].slice,a={},c=function(t,n,e){if(!(n in a)){for(var i=[],r=0;r<n;r++)i[r]="a["+r+"]";a[n]=Function("F,a","return new F("+i.join(",")+")")}return a[n](t,e)};t.exports=Function.bind||function(t){var n=i(this),e=u.call(arguments,1),a=function(){var i=e.concat(u.call(arguments));return this instanceof a?c(n,i.length,i):o(n,i,t)};return r(n.prototype)&&(a.prototype=n.prototype),a}},function(t){t.exports=function(t,n,e){var i=void 0===e;switch(n.length){case 0:return i?t():t.call(e);case 1:return i?t(n[0]):t.call(e,n[0]);case 2:return i?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return i?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return i?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var i=e(10).parseInt,r=e(54).trim,o=e(91),u=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,n){var e=r(String(t),3);return i(e,n>>>0||(u.test(e)?16:10))}:i},function(t,n,e){var i=e(10).parseFloat,r=e(54).trim;t.exports=1/i(e(91)+"-0")!=-1/0?function(t){var n=r(String(t),3),e=i(n);return 0===e&&"-"==n.charAt(0)?-0:e}:i},function(t,n,e){var i=e(37);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(n);return+t}},function(t,n,e){var i=e(13),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,e){var i=e(48),r=e(43),o=e(53),u={};e(27)(u,e(14)("iterator"),(function(){return this})),t.exports=function(t,n,e){t.prototype=i(u,{next:r(1,e)}),o(t,n+" Iterator")}},function(t,n,e){var i=e(12);t.exports=function(t,n,e,r){try{return r?n(i(e)[0],e[1]):n(e)}catch(n){var o=t.return;throw void 0!==o&&i(o.call(t)),n}}},function(t,n,e){var i=e(278);t.exports=function(t,n){return new(i(t))(n)}},function(t,n,e){var i=e(32),r=e(20),o=e(62),u=e(16);t.exports=function(t,n,e,a,c){i(n);var s=r(t),f=o(s),l=u(s.length),h=c?l-1:0,d=c?-1:1;if(e<2)for(;;){if(h in f){a=f[h],h+=d;break}if(h+=d,c?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:l>h;h+=d)h in f&&(a=n(a,f[h],h,s));return a}},function(t,n,e){var i=e(20),r=e(47),o=e(16);t.exports=[].copyWithin||function(t,n){var e=i(this),u=o(e.length),a=r(t,u),c=r(n,u),s=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===s?u:r(s,u))-c,u-a),l=1;for(c<a&&a<c+f&&(l=-1,c+=f-1,a+=f-1);f-- >0;)c in e?e[a]=e[c]:delete e[a],a+=l,c+=l;return e}},function(t){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var i=e(106);e(0)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,n,e){e(18)&&"g"!=/./g.flags&&e(19).f(RegExp.prototype,"flags",{configurable:!0,get:e(73)})},function(t,n,e){var i,r,o,u,a=e(45),c=e(10),s=e(31),f=e(64),l=e(0),h=e(13),d=e(32),v=e(57),p=e(76),b=e(65),g=e(108).set,m=e(298)(),y=e(135),w=e(299),k=e(77),x=e(136),_=c.TypeError,j=c.process,E=j&&j.versions,S=E&&E.v8||"",O=c.Promise,T="process"==f(j),A=function(){},M=r=y.f,R=!!function(){try{var t=O.resolve(1),n=(t.constructor={})[e(14)("species")]=function(t){t(A,A)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof n&&0!==S.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),F=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},C=function(t,n){if(!t._n){t._n=!0;var e=t._c;m((function(){for(var i=t._v,r=1==t._s,o=0,u=function(n){var e,o,u,a=r?n.ok:n.fail,c=n.resolve,s=n.reject,f=n.domain;try{a?(r||(2==t._h&&z(t),t._h=1),!0===a?e=i:(f&&f.enter(),e=a(i),f&&(f.exit(),u=!0)),e===n.promise?s(_("Promise-chain cycle")):(o=F(e))?o.call(e,c,s):c(e)):s(i)}catch(t){f&&!u&&f.exit(),s(t)}};e.length>o;)u(e[o++]);t._c=[],t._n=!1,n&&!t._h&&I(t)}))}},I=function(t){g.call(c,(function(){var n,e,i,r=t._v,o=B(t);if(o&&(n=w((function(){T?j.emit("unhandledRejection",r,t):(e=c.onunhandledrejection)?e({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=T||B(t)?2:1),t._a=void 0,o&&n.e)throw n.v}))},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},z=function(t){g.call(c,(function(){var n;T?j.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})}))},L=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),C(n,!0))},D=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw _("Promise can't be resolved itself");(n=F(t))?m((function(){var i={_w:e,_d:!1};try{n.call(t,s(D,i,1),s(L,i,1))}catch(t){L.call(i,t)}})):(e._v=t,e._s=1,C(e,!1))}catch(t){L.call({_w:e,_d:!1},t)}}};R||(O=function(t){v(this,O,"Promise","_h"),d(t),i.call(this);try{t(s(D,this,1),s(L,this,1))}catch(t){L.call(this,t)}},(i=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(58)(O.prototype,{then:function(t,n){var e=M(b(this,O));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=T?j.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&C(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=s(D,t,1),this.reject=s(L,t,1)},y.f=M=function(t){return t===O||t===u?new o(t):r(t)}),l(l.G+l.W+l.F*!R,{Promise:O}),e(53)(O,"Promise"),e(56)("Promise"),u=e(17).Promise,l(l.S+l.F*!R,"Promise",{reject:function(t){var n=M(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(a||!R),"Promise",{resolve:function(t){return x(a&&this===u?O:this,t)}}),l(l.S+l.F*!(R&&e(72)((function(t){O.all(t).catch(A)}))),"Promise",{all:function(t){var n=this,e=M(n),i=e.resolve,r=e.reject,o=w((function(){var e=[],o=0,u=1;p(t,!1,(function(t){var a=o++,c=!1;e.push(void 0),u++,n.resolve(t).then((function(t){c||(c=!0,e[a]=t,--u||i(e))}),r)})),--u||i(e)}));return o.e&&r(o.v),e.promise},race:function(t){var n=this,e=M(n),i=e.reject,r=w((function(){p(t,!1,(function(t){n.resolve(t).then(e.resolve,i)}))}));return r.e&&i(r.v),e.promise}})},function(t,n,e){var i=e(32);function r(t){var n,e;this.promise=new t((function(t,i){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=i})),this.resolve=i(n),this.reject=i(e)}t.exports.f=function(t){return new r(t)}},function(t,n,e){var i=e(12),r=e(13),o=e(135);t.exports=function(t,n){if(i(t),r(n)&&n.constructor===t)return n;var e=o.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){var i=e(19).f,r=e(48),o=e(58),u=e(31),a=e(57),c=e(76),s=e(97),f=e(131),l=e(56),h=e(18),d=e(41).fastKey,v=e(52),p=h?"_s":"size",b=function(t,n){var e,i=d(n);if("F"!==i)return t._i[i];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,s){var f=t((function(t,i){a(t,f,n,"_i"),t._t=n,t._i=r(null),t._f=void 0,t._l=void 0,t[p]=0,null!=i&&c(i,e,t[s],t)}));return o(f.prototype,{clear:function(){for(var t=v(this,n),e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var e=v(this,n),i=b(e,t);if(i){var r=i.n,o=i.p;delete e._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),e._f==i&&(e._f=r),e._l==i&&(e._l=o),e[p]--}return!!i},forEach:function(t){v(this,n);for(var e,i=u(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!b(v(this,n),t)}}),h&&i(f.prototype,"size",{get:function(){return v(this,n)[p]}}),f},def:function(t,n,e){var i,r,o=b(t,n);return o?o.v=e:(t._l=o={i:r=d(n,!0),k:n,v:e,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[p]++,"F"!==r&&(t._i[r]=o)),t},getEntry:b,setStrong:function(t,n,e){s(t,n,(function(t,e){this._t=v(t,n),this._k=e,this._l=void 0}),(function(){for(var t=this._k,n=this._l;n&&n.r;)n=n.p;return this._t&&(this._l=n=n?n.n:this._t._f)?f(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this._t=void 0,f(1))}),e?"entries":"values",!e,!0),l(n)}}},function(t,n,e){var i=e(58),r=e(41).getWeak,o=e(12),u=e(13),a=e(57),c=e(76),s=e(36),f=e(26),l=e(52),h=s(5),d=s(6),v=0,p=function(t){return t._l||(t._l=new b)},b=function(){this.a=[]},g=function(t,n){return h(t.a,(function(t){return t[0]===n}))};b.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var e=g(this,t);e?e[1]=n:this.a.push([t,n])},delete:function(t){var n=d(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,e,o){var s=t((function(t,i){a(t,s,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=i&&c(i,e,t[o],t)}));return i(s.prototype,{delete:function(t){if(!u(t))return!1;var e=r(t);return!0===e?p(l(this,n)).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=r(t);return!0===e?p(l(this,n)).has(t):e&&f(e,this._i)}}),s},def:function(t,n,e){var i=r(o(n),!0);return!0===i?p(t).set(n,e):i[t._i]=e,t},ufstore:p}},function(t,n,e){var i=e(33),r=e(16);t.exports=function(t){if(void 0===t)return 0;var n=i(t),e=r(n);if(n!==e)throw RangeError("Wrong length!");return e}},function(t,n,e){var i=e(49),r=e(70),o=e(12),u=e(10).Reflect;t.exports=u&&u.ownKeys||function(t){var n=i.f(o(t)),e=r.f;return e?n.concat(e(t)):n}},function(t,n,e){var i=e(16),r=e(93),o=e(38);t.exports=function(t,n,e,u){var a=String(o(t)),c=a.length,s=void 0===e?" ":String(e),f=i(n);if(f<=c||""==s)return a;var l=f-c,h=r.call(s,Math.ceil(l/s.length));return h.length>l&&(h=h.slice(0,l)),u?h+a:a+h}},function(t,n,e){var i=e(18),r=e(46),o=e(28),u=e(63).f;t.exports=function(t){return function(n){for(var e,a=o(n),c=r(a),s=c.length,f=0,l=[];s>f;)e=c[f++],i&&!u.call(a,e)||l.push(t?[e,a[e]]:a[e]);return l}}},function(t){var n=function(t){var n=Object.prototype,e=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function a(t,n,e,i){var r=Object.create((n&&n.prototype instanceof f?n:f).prototype),o=new x(i||[]);return r._invoke=function(t,n,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(e.method=r,e.arg=o;;){var u=e.delegate;if(u){var a=y(u,e);if(a){if(a===s)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var f=c(t,n,e);if("normal"===f.type){if(i=e.done?"completed":"suspendedYield",f.arg===s)continue;return{value:f.arg,done:e.done}}"throw"===f.type&&(i="completed",e.method="throw",e.arg=f.arg)}}}(t,e,o),r}function c(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var s={};function f(){}function l(){}function h(){}var d={};d[r]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(_([])));p&&p!==n&&e.call(p,r)&&(d=p);var b=h.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function m(t,n){var i;this._invoke=function(r,o){function u(){return new n((function(i,u){!function i(r,o,u,a){var s=c(t[r],t,o);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&e.call(l,"__await")?n.resolve(l.__await).then((function(t){i("next",t,u,a)}),(function(t){i("throw",t,u,a)})):n.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return i("throw",t,u,a)}))}a(s.arg)}(r,o,i,u)}))}return i=i?i.then(u,u):u()}}function y(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,y(t,n),"throw"===n.method))return s;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var i=c(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,s;var r=i.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,s):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,s)}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function k(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(e.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return l.prototype=b.constructor=h,h.constructor=l,h[u]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===l||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(m.prototype),m.prototype[o]=function(){return this},t.AsyncIterator=m,t.async=function(n,e,i,r,o){void 0===o&&(o=Promise);var u=new m(a(n,e,i,r),o);return t.isGeneratorFunction(e)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},g(b),b[u]="Generator",b[r]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=_,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(e,i){return u.type="throw",u.arg=t,n.next=e,i&&(n.method="next",n.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),s},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),s}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var i=e.completion;if("throw"===i.type){var r=i.arg;k(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,n,e){var i=e(145);t.exports=function(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}},function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}},function(t){t.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(t,n,e){var i,r,o;r=[n,e(2),e(5),e(6),e(4),e(148)],void 0===(o="function"==typeof(i=function(t,n,i,r,o,u){var a=e(1);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.CriticalError=void 0,n=a(n),i=a(i),r=a(r),o=a(o);var s=function(t){(0,i.default)(a,t);var e,u=(e=a,function(){var t,n=(0,o.default)(e);if(c()){var i=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,r.default)(this,t)});function a(){return(0,n.default)(this,a),u.apply(this,arguments)}return a}((0,(u=a(u)).default)(Error));t.CriticalError=s,s.displayName="CriticalError"})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i=e(4),r=e(110),o=e(369),u=e(370);function a(n){var e="function"==typeof Map?new Map:void 0;return t.exports=a=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return u(t,arguments,i(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r(n,t)},a(n)}t.exports=a},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(7),e(150),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l){var h=e(8),d=e(1);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=d(r),o=d(o),u=d(u),a=d(a),c=d(c),s=h(s),f=d(f);var p=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(v()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){var t;return(0,r.default)(this,i),(t=e.apply(this,arguments)).insert=function(){t.Editor.BlockManager.insert({tool:arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.config.defaultBlock,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},index:arguments.length>3?arguments[3]:void 0,needToFocus:arguments.length>4?arguments[4]:void 0})},t}return(0,o.default)(i,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockByIndex",value:function(t){var n=this.Editor.BlockManager.getBlockByIndex(t);if(void 0!==n)return new f.default(n);s.logLabeled("There is no block at index `"+t+"`","warn")}},{key:"getById",value:function(t){var n=this.Editor.BlockManager.getBlockById(t);return void 0===n?(s.logLabeled("There is no block with id `"+t+"`","warn"),null):new f.default(n)}},{key:"swap",value:function(t,n){s.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(t,n),this.Editor.Toolbar.move(!1)}},{key:"move",value:function(t,n){this.Editor.BlockManager.move(t,n),this.Editor.Toolbar.move(!1)}},{key:"delete",value:function(t){try{this.Editor.BlockManager.removeBlock(t)}catch(t){return void s.logLabeled(t,"warn")}0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(t){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(t.blocks)}},{key:"renderFromHTML",value:function(t){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(t,!0)}},{key:"stretchBlock",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var e=this.Editor.BlockManager.getBlockByIndex(t);e&&(e.stretched=n)}},{key:"insertNewBlock",value:function(){s.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var t=this;return{clear:function(){return t.clear()},render:function(n){return t.render(n)},renderFromHTML:function(n){return t.renderFromHTML(n)},delete:function(n){return t.delete(n)},swap:function(n,e){return t.swap(n,e)},move:function(n,e){return t.move(n,e)},getBlockByIndex:function(n){return t.getBlockByIndex(n)},getById:function(n){return t.getById(n)},getCurrentBlockIndex:function(){return t.getCurrentBlockIndex()},getBlocksCount:function(){return t.getBlocksCount()},stretchBlock:function(n){return t.stretchBlock(n,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])},insertNewBlock:function(){return t.insertNewBlock()},insert:this.insert}}}]),i}((l=d(l)).default);i.default=p,p.displayName="BlocksAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n){var e,i;void 0===(i="function"==typeof(e=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(n){t.stretched=n},get stretched(){return t.stretched},call:function(n,e){return t.call(n,e)},save:function(){return t.save()},validate:function(n){return t.validate(n)}})},t.exports=n.default})?e.apply(n,[n]):e)||(t.exports=i)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=f(a),c=f(c);var h=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(l()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){var t;return(0,r.default)(this,i),(t=e.apply(this,arguments)).setToFirstBlock=function(){return!!t.Editor.BlockManager.firstBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.firstBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToLastBlock=function(){return!!t.Editor.BlockManager.lastBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.lastBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToPreviousBlock=function(){return!!t.Editor.BlockManager.previousBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.previousBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToNextBlock=function(){return!!t.Editor.BlockManager.nextBlock&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.nextBlock,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Editor.Caret.positions.DEFAULT,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),!0)},t.setToBlock=function(n){return!!t.Editor.BlockManager.blocks[n]&&(t.Editor.Caret.setToBlock(t.Editor.BlockManager.blocks[n],arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.Editor.Caret.positions.DEFAULT,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),!0)},t.focus=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.setToLastBlock(t.Editor.Caret.positions.END):t.setToFirstBlock(t.Editor.Caret.positions.START)},t}return(0,o.default)(i,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),i}((s=f(s)).default);i.default=h,h.displayName="CaretAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=f(a),c=f(c);var h=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(l()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"on",value:function(t,n){this.eventsDispatcher.on(t,n)}},{key:"emit",value:function(t,n){this.eventsDispatcher.emit(t,n)}},{key:"off",value:function(t,n){this.eventsDispatcher.off(t,n)}},{key:"methods",get:function(){var t=this;return{emit:function(n,e){return t.emit(n,e)},off:function(n,e){return t.off(n,e)},on:function(n,e){return t.on(n,e)}}}}]),i}((s=f(s)).default);i.default=h,h.displayName="EventsAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(59),e(7),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l){var h=e(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=h(r),o=h(o),u=h(u),a=h(a),c=h(c),s=h(s);var v=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(d()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"getMethodsForTool",value:function(t){return Object.assign(this.methods,{t:function(n){return s.default.t(i.getNamespace(t),n)}})}},{key:"methods",get:function(){return{t:function(){(0,f.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}}],[{key:"getNamespace",value:function(t){return t.isTune?"blockTunes.".concat(t.name):"tools.".concat(t.name)}}]),i}((l=h(l)).default);i.default=v,v.displayName="I18nAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=f(a),c=f(c);var h=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(l()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var t=this;return{close:function(){return t.close()},open:function(){return t.open()}}}}]),i}((s=f(s)).default);i.default=h,h.displayName="InlineToolbarAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=f(a),c=f(c);var h=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(l()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"on",value:function(t,n,e,i){this.listeners.on(t,n,e,i)}},{key:"off",value:function(t,n,e,i){this.listeners.off(t,n,e,i)}},{key:"methods",get:function(){var t=this;return{on:function(n,e,i,r){return t.on(n,e,i,r)},off:function(n,e,i,r){return t.off(n,e,i,r)}}}}]),i}((s=f(s)).default);i.default=h,h.displayName="ListenersAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(375),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f){var l=e(1);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=l(r),o=l(o),u=l(u),a=l(a),c=l(c),s=l(s);var d=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(h()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(t){var n,o=t.config,u=t.eventsDispatcher;return(0,r.default)(this,i),(n=e.call(this,{config:o,eventsDispatcher:u})).notifier=new s.default,n}return(0,o.default)(i,[{key:"show",value:function(t){return this.notifier.show(t)}},{key:"methods",get:function(){var t=this;return{show:function(n){return t.show(n)}}}}]),i}((f=l(f)).default);i.default=d,d.displayName="NotifierAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=f(a),c=f(c);var h=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(l()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"toggle",value:function(t){return this.Editor.ReadOnly.toggle(t)}},{key:"methods",get:function(){var t=this;return{toggle:function(n){return t.toggle(n)}}}}]),i}((s=f(s)).default);i.default=h,h.displayName="ReadOnlyAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(66)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f){var l=e(1);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=l(r),o=l(o),u=l(u),a=l(a),c=l(c);var d=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(h()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"clean",value:function(t,n){return(0,f.clean)(t,n)}},{key:"methods",get:function(){var t=this;return{clean:function(n,e){return t.clean(n,e)}}}}]),i}((s=l(s)).default);i.default=d,d.displayName="SanitizerAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(7),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f){var l=e(8),h=e(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=h(r),o=h(o),u=h(u),a=h(a),c=h(c),s=l(s);var v=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(d()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"save",value:function(){var t="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(s.logLabeled(t,"warn"),Promise.reject(new Error(t))):this.Editor.Saver.save()}},{key:"methods",get:function(){var t=this;return{save:function(){return t.save()}}}}]),i}((f=h(f)).default);i.default=v,v.displayName="SaverAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(25),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f){var l=e(1);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=l(r),o=l(o),u=l(u),a=l(a),c=l(c),s=l(s);var d=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(h()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"findParentTag",value:function(t,n){return(new s.default).findParentTag(t,n)}},{key:"expandToTag",value:function(t){(new s.default).expandToTag(t)}},{key:"methods",get:function(){var t=this;return{findParentTag:function(n,e){return t.findParentTag(n,e)},expandToTag:function(n){return t.expandToTag(n)}}}}]),i}((f=l(f)).default);i.default=d,d.displayName="SelectionAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(1);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=f(a),c=f(c);var h=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(l()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),i}((s=f(s)).default);i.default=h,h.displayName="StylesAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f){var l=e(8),h=e(1);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=h(r),o=h(o),u=h(u),a=h(a),c=h(c),s=h(s),f=l(f);var v=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(d()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"open",value:function(){this.Editor.Toolbar.open()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(t){-1!==this.Editor.BlockManager.currentBlockIndex?t!==this.Editor.BlockSettings.opened&&((null!=t?t:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()):f.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}},{key:"methods",get:function(){var t=this;return{close:function(){return t.close()},open:function(){return t.open()},toggleBlockSettings:function(n){return t.toggleBlockSettings(n)}}}}]),i}(s.default);i.default=v,v.displayName="ToolbarAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(82)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f){var l=e(1);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=l(r),o=l(o),u=l(u),a=l(a),c=l(c),s=l(s),f=l(f);var d=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(h()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(t){var n,o=t.config,u=t.eventsDispatcher;return(0,r.default)(this,i),(n=e.call(this,{config:o,eventsDispatcher:u})).tooltip=new f.default,n}return(0,o.default)(i,[{key:"destroy",value:function(){this.tooltip.destroy()}},{key:"show",value:function(t,n,e){this.tooltip.show(t,n,e)}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"onHover",value:function(t,n,e){this.tooltip.onHover(t,n,e)}},{key:"methods",get:function(){var t=this;return{show:function(n,e,i){return t.show(n,e,i)},hide:function(){return t.hide()},onHover:function(n,e,i){return t.onHover(n,e,i)}}}}]),i}(s.default);i.default=d,d.displayName="TooltipAPI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(25),e(60)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h){var d=e(8),v=e(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=v(r),o=v(o),u=v(u),a=v(a),c=v(c),s=v(s),f=d(f),l=v(l),h=v(h);var b=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(p()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"keydown",value:function(t){switch(this.beforeKeydownProcessing(t),t.keyCode){case f.keyCodes.BACKSPACE:this.backspace(t);break;case f.keyCodes.ENTER:this.enter(t);break;case f.keyCodes.DOWN:case f.keyCodes.RIGHT:this.arrowRightAndDown(t);break;case f.keyCodes.UP:case f.keyCodes.LEFT:this.arrowLeftAndUp(t);break;case f.keyCodes.TAB:this.tabPressed(t)}}},{key:"beforeKeydownProcessing",value:function(t){this.needToolbarClosing(t)&&f.isPrintableKey(t.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(t)))}},{key:"keyup",value:function(t){t.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(t){this.Editor.BlockSelection.clearSelection(t);var n=this.Editor,e=n.BlockManager.currentBlock;if(e){var i=!e.isEmpty&&n.ConversionToolbar.opened,r=!e.isEmpty&&!l.default.isCollapsed&&n.InlineToolbar.opened;e.tool.isDefault&&e.isEmpty?this.activateToolbox():i||r||this.activateBlockSettings()}}},{key:"dragOver",value:function(t){this.Editor.BlockManager.getBlockByChildNode(t.target).dropTarget=!0}},{key:"dragLeave",value:function(t){this.Editor.BlockManager.getBlockByChildNode(t.target).dropTarget=!1}},{key:"handleCommandC",value:function(t){var n=this.Editor.BlockSelection;n.anyBlockSelected&&n.copySelectedBlocks(t)}},{key:"handleCommandX",value:function(t){var n=this.Editor,e=n.BlockSelection,i=n.BlockManager,r=n.Caret;e.anyBlockSelected&&e.copySelectedBlocks(t).then((function(){var n=i.removeSelectedBlocks(),o=i.insertDefaultBlockAtIndex(n,!0);r.setToBlock(o,r.positions.START),e.clearSelection(t)}))}},{key:"enter",value:function(t){var n=this.Editor,e=n.UI;if(!n.BlockManager.currentBlock.tool.isLineBreaksEnabled&&!(e.someToolbarOpened&&e.someFlipperButtonFocused||t.shiftKey)){var i=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),i.tool.isDefault&&i.isEmpty&&(this.Editor.Toolbar.open(!1),this.Editor.Toolbar.plusButton.show()),t.preventDefault()}}},{key:"backspace",value:function(t){var n=this.Editor,e=n.BlockManager,i=n.BlockSelection,r=n.Caret,o=e.currentBlock,u=o.tool;if(o.selected||o.isEmpty&&o.currentInput===o.firstInput){t.preventDefault();var a=e.currentBlockIndex;return e.previousBlock&&0===e.previousBlock.inputs.length?e.removeBlock(a-1):e.removeBlock(),r.setToBlock(e.currentBlock,a?r.positions.END:r.positions.START),this.Editor.Toolbar.close(),void i.clearSelection(t)}u.isLineBreaksEnabled&&!r.isAtStart||r.isAtStart&&l.default.isCollapsed&&o.currentInput===o.firstInput&&0!==e.currentBlockIndex&&(t.preventDefault(),this.mergeBlocks())}},{key:"mergeBlocks",value:function(){var t=this.Editor,n=t.BlockManager,e=t.Caret,i=t.Toolbar,r=n.previousBlock,o=n.currentBlock;if(o.name!==r.name||!r.mergeable)return 0===r.inputs.length||r.isEmpty?(n.removeBlock(n.currentBlockIndex-1),e.setToBlock(n.currentBlock),void i.close()):void(e.navigatePrevious()&&i.close());e.createShadow(r.pluginsContent),n.mergeBlocks(r,o).then((function(){e.restoreCaret(r.pluginsContent),r.pluginsContent.normalize(),i.close()}))}},{key:"arrowRightAndDown",value:function(t){var n=this,e=h.default.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===f.keyCodes.TAB);this.Editor.UI.someToolbarOpened&&e||(this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close(),t.shiftKey&&t.keyCode===f.keyCodes.DOWN&&(this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected)?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((t.keyCode===f.keyCodes.DOWN||t.keyCode===f.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?t.preventDefault():f.delay((function(){n.Editor.BlockManager.currentBlock&&n.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(t)))}},{key:"arrowLeftAndUp",value:function(t){var n=this;if(this.Editor.UI.someToolbarOpened){if(h.default.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===f.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close(),t.shiftKey&&t.keyCode===f.keyCodes.UP&&(this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected)?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((t.keyCode===f.keyCodes.UP||t.keyCode===f.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?t.preventDefault():f.delay((function(){n.Editor.BlockManager.currentBlock&&n.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(t))}},{key:"needToolbarClosing",value:function(t){return!(t.shiftKey||t.keyCode===f.keyCodes.TAB||t.keyCode===f.keyCodes.ENTER&&this.Editor.Toolbox.opened||t.keyCode===f.keyCodes.ENTER&&this.Editor.BlockSettings.opened||t.keyCode===f.keyCodes.ENTER&&this.Editor.InlineToolbar.opened||t.keyCode===f.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!1,!1),this.Editor.Toolbar.plusButton.show()),this.Editor.Toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),i}(s.default);i.default=b,b.displayName="BlockEvents",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(61),e(9),e(15),e(7),e(380)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v,p){var b=e(8),g=e(1);function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=g(r),o=g(o),u=g(u),a=g(a),c=g(c),s=g(s),f=g(f),l=b(l),h=g(h),d=g(d),v=b(v),p=g(p);var y=function(t){(0,c.default)(b,t);var n,e,i,h=(n=b,function(){var t,e=(0,f.default)(n);if(m()){var i=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,s.default)(this,t)});function b(){var t;return(0,u.default)(this,b),(t=h.apply(this,arguments))._currentBlockIndex=-1,t._blocks=null,t}return(0,a.default)(b,[{key:"prepare",value:function(){var t=this,n=new p.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(n,{set:p.default.set,get:p.default.get}),this.listeners.on(document,"copy",(function(n){return t.Editor.BlockEvents.handleCommandC(n)}))}},{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(t){var n=t.data,e=void 0===n?{}:n,i=t.id,r=void 0===i?void 0:i,o=t.tunes,u=void 0===o?{}:o,a=this.Editor.ReadOnly.isEnabled,c=this.Editor.Tools.blockTools.get(t.tool),s=new l.default({id:r,data:e,tool:c,api:this.Editor.API,readOnly:a,tunesData:u});return a||this.bindBlockEvents(s),s}},{key:"insert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,e=t.tool,i=t.data,r=t.needToFocus,o=void 0===r||r,u=t.replace,a=void 0!==u&&u,c=t.tunes,s=t.index;void 0===s&&(s=this.currentBlockIndex+(a?0:1));var f=this.composeBlock({id:void 0===n?void 0:n,tool:void 0===e?this.config.defaultBlock:e,data:void 0===i?{}:i,tunes:void 0===c?{}:c});return this._blocks.insert(s,f,a),o?this.currentBlockIndex=s:s<=this.currentBlockIndex&&this.currentBlockIndex++,f}},{key:"replace",value:function(t){var n=t.tool,e=t.data;return this.insert({tool:void 0===n?this.config.defaultBlock:n,data:void 0===e?{}:e,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(t,n){var e=this.insert({tool:t,replace:arguments.length>2&&void 0!==arguments[2]&&arguments[2]});try{e.call(l.BlockToolAPI.ON_PASTE,n)}catch(n){v.log("".concat(t,": onPaste callback call is failed"),"error",n)}return e}},{key:"insertDefaultBlockAtIndex",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[t]=e,n?this.currentBlockIndex=t:t<=this.currentBlockIndex&&this.currentBlockIndex++,e}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(i=(0,o.default)(r.default.mark((function t(n,e){var i,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this._blocks.indexOf(e),!e.isEmpty){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.data;case 5:if(v.isEmpty(o=t.sent)){t.next=9;break}return t.next=9,n.mergeWith(o);case 9:this.removeBlock(i),this.currentBlockIndex=this._blocks.indexOf(n);case 11:case"end":return t.stop()}}),t,this)}))),function(t,n){return i.apply(this,arguments)})},{key:"removeBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(t))throw new Error("Can't find a Block to remove");this._blocks.remove(t),this.currentBlockIndex>=t&&this.currentBlockIndex--,this.blocks.length?0===t&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var t,n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(n),t=n);return t}},{key:"removeAllBlocks",value:function(){for(var t=this.blocks.length-1;t>=0;t--)this._blocks.remove(t);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var t=this.Editor.Caret.extractFragmentFromCaretPosition(),n=d.default.make("div");n.appendChild(t);var e={text:d.default.isEmpty(n)?"":n.innerHTML};return this.insert({data:e})}},{key:"getBlockByIndex",value:function(t){return this._blocks[t]}},{key:"getBlockById",value:function(t){return this._blocks.array.find((function(n){return n.id===t}))}},{key:"getBlock",value:function(t){d.default.isElement(t)||(t=t.parentNode);var n=this._blocks.nodes,e=t.closest(".".concat(l.default.CSS.wrapper)),i=n.indexOf(e);if(i>=0)return this._blocks[i]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach((function(t){t.focused=!1}))}},{key:"setCurrentBlockByChildNode",value:function(t){d.default.isElement(t)||(t=t.parentNode);var n=t.closest(".".concat(l.default.CSS.wrapper));if(n){var e=n.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(null==e?void 0:e.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(t){d.default.isElement(t)||(t=t.parentNode);var n=t.closest(".".concat(l.default.CSS.wrapper));return this.blocks.find((function(t){return t.holder===n}))}},{key:"swap",value:function(t,n){this._blocks.swap(t,n),this.currentBlockIndex=n}},{key:"move",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentBlockIndex;isNaN(t)||isNaN(n)?v.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(t)&&this.validateIndex(n)?(this._blocks.move(t,n),this.currentBlockIndex=t):v.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._blocks.removeAll(),this.dropPointer(),t&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(e=(0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.blocks.map((function(t){return t.destroy()})));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"bindBlockEvents",value:function(t){var n=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(t.holder,"keydown",(function(t){n.keydown(t)})),this.readOnlyMutableListeners.on(t.holder,"keyup",(function(t){n.keyup(t)})),this.readOnlyMutableListeners.on(t.holder,"dragover",(function(t){n.dragOver(t)})),this.readOnlyMutableListeners.on(t.holder,"dragleave",(function(t){n.dragLeave(t)}))}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(document,"cut",(function(n){return t.Editor.BlockEvents.handleCommandX(n)})),this.blocks.forEach((function(n){t.bindBlockEvents(n)}))}},{key:"validateIndex",value:function(t){return!(t<0||t>=this._blocks.length)}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(t){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[t]&&this._blocks[t].willSelect(),this._currentBlockIndex=t}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find((function(t){return!!t.inputs.length}))}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((function(t){return!!t.inputs.length}))}},{key:"previousBlock",get:function(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every((function(t){return t.isEmpty}))}}]),b}(h.default);i.default=y,y.displayName="BlockManager",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(15),e(111),e(25),e(66)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v){var p=e(8),b=e(1);function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=b(r),o=b(o),u=b(u),a=b(a),c=b(c),s=b(s),f=p(f),l=b(l),h=b(h),d=b(d);var m=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(g()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){var t;return(0,r.default)(this,i),(t=e.apply(this,arguments)).anyBlockSelectedCache=null,t.needToSelectAll=!1,t.nativeInputSelected=!1,t.readyToBlockSelection=!1,t}return(0,o.default)(i,[{key:"prepare",value:function(){var t=this;this.selection=new d.default,h.default.add({name:"CMD+A",handler:function(n){var e=t.Editor,i=e.BlockManager;if(e.ReadOnly.isEnabled)return n.preventDefault(),void t.selectAllBlocks();i.currentBlock&&t.handleCommandA(n)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(){d.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(t){var n=this.Editor.BlockManager;(isNaN(t)?n.currentBlock:n.getBlockByIndex(t)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=this.Editor,i=e.BlockManager,r=e.Caret,o=e.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var u=t&&t instanceof KeyboardEvent,a=u&&f.isPrintableKey(t.keyCode);if(this.anyBlockSelected&&u&&a&&!d.default.isSelectionExists){var c=i.removeSelectedBlocks();i.insertDefaultBlockAtIndex(c,!0),r.setToBlock(i.currentBlock),f.delay((function(){var n=t.key;r.insertContentAtCaretPosition(n.length>1?"":n)}),20)()}this.Editor.CrossBlockSelection.clear(t),this.anyBlockSelected&&!o.isRectActivated()?(n&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(t){var n=this;t.preventDefault();var e=l.default.make("div");this.selectedBlocks.forEach((function(t){var i=(0,v.clean)(t.holder.innerHTML,n.sanitizerConfig),r=l.default.make("p");r.innerHTML=i,e.appendChild(r)}));var i=Array.from(e.childNodes).map((function(t){return t.textContent})).join("\n\n"),r=e.innerHTML;return t.clipboardData.setData("text/plain",i),t.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map((function(t){return t.save()}))).then((function(e){try{t.clipboardData.setData(n.Editor.Paste.MIME_TYPE,JSON.stringify(e))}catch(t){}}))}},{key:"selectBlockByIndex",value:function(t){var n,e=this.Editor.BlockManager;e.clearFocused(),n=isNaN(t)?e.currentBlock:e.getBlockByIndex(t),this.selection.save(),d.default.get().removeAllRanges(),n.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){h.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(t){if(this.Editor.RectangleSelection.clearSelection(),!l.default.isNativeInput(t.target)||this.readyToBlockSelection){var n=this.Editor.BlockManager.getBlock(t.target).inputs;n.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==n.length||this.needToSelectAll?this.needToSelectAll?(t.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(t.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),d.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every((function(t){return!0===t.selected}))},set:function(t){this.Editor.BlockManager.blocks.forEach((function(n){n.selected=t})),this.clearCache()}},{key:"anyBlockSelected",get:function(){return null===this.anyBlockSelectedCache&&(this.anyBlockSelectedCache=this.Editor.BlockManager.blocks.some((function(t){return!0===t.selected}))),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter((function(t){return t.selected}))}}]),i}(s.default);i.default=m,m.displayName="BlockSelection",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(25),e(9),e(15),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h){var d=e(8),v=e(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=v(r),o=v(o),u=v(u),a=v(a),c=v(c),s=v(s),f=v(f),l=v(l),h=d(h);var b=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(p()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return(0,o.default)(i,[{key:"setToBlock",value:function(t){var n,e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.Editor.BlockManager;switch(i){case this.positions.START:n=t.firstInput;break;case this.positions.END:n=t.lastInput;break;default:n=t.currentInput}if(n){var u=l.default.getDeepestNode(n,i===this.positions.END),a=l.default.getContentLength(u);switch(!0){case i===this.positions.START:r=0;break;case i===this.positions.END:case r>a:r=a}h.delay((function(){e.set(u,r)}),20)(),o.setCurrentBlockByChildNode(t.holder),o.currentBlock.currentInput=n}}},{key:"setToInput",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.Editor.BlockManager.currentBlock,r=l.default.getDeepestNode(t);switch(n){case this.positions.START:this.set(r,0);break;case this.positions.END:this.set(r,l.default.getContentLength(r));break;default:e&&this.set(r,e)}i.currentInput=t}},{key:"set",value:function(t){var n=s.default.setCursor(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),e=n.top,i=n.bottom,r=window.innerHeight;e<0&&window.scrollBy(0,e),i>r&&window.scrollBy(0,i-r)}},{key:"setToTheLastBlock",value:function(){var t=this.Editor.BlockManager.lastBlock;if(t)if(t.tool.isDefault&&t.isEmpty)this.setToBlock(t);else{var n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}},{key:"extractFragmentFromCaretPosition",value:function(){var t=s.default.get();if(t.rangeCount){var n=t.getRangeAt(0),e=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),e){if(l.default.isNativeInput(e)){var i=e,r=document.createDocumentFragment(),o=i.value.substring(0,i.selectionStart),u=i.value.substring(i.selectionStart);return r.textContent=u,i.value=o,r}var a=n.cloneRange();return a.selectNodeContents(e),a.setStart(n.endContainer,n.endOffset),a.extractContents()}}}},{key:"navigateNext",value:function(){var t=this.Editor.BlockManager,n=t.currentBlock,e=n.nextInput,i=this.isAtEnd,r=t.nextContentfulBlock;if(!r&&!e){if(n.tool.isDefault||!i)return!1;r=t.insertAtEnd()}return!!i&&(e?this.setToInput(e,this.positions.START):this.setToBlock(r,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var t=this.Editor.BlockManager,n=t.currentBlock,e=t.previousContentfulBlock;if(!n)return!1;var i=n.previousInput;return!(!e&&!i||!this.isAtStart||(i?this.setToInput(i,this.positions.END):this.setToBlock(e,this.positions.END),0))}},{key:"createShadow",value:function(t){var n=document.createElement("span");n.classList.add(i.CSS.shadowCaret),t.insertAdjacentElement("beforeend",n)}},{key:"restoreCaret",value:function(t){var n=t.querySelector(".".concat(i.CSS.shadowCaret));n&&((new s.default).expandToTag(n),setTimeout((function(){var t=document.createRange();t.selectNode(n),t.extractContents()}),50))}},{key:"insertContentAtCaretPosition",value:function(t){var n=document.createDocumentFragment(),e=document.createElement("div"),i=s.default.get(),r=s.default.range;e.innerHTML=t,Array.from(e.childNodes).forEach((function(t){return n.appendChild(t)})),0===n.childNodes.length&&n.appendChild(new Text);var o=n.lastChild;r.deleteContents(),r.insertNode(n);var u=document.createRange();u.setStart(o,o.textContent.length),i.removeAllRanges(),i.addRange(u)}},{key:"getHigherLevelSiblings",value:function(t,n){for(var e=t,i=[];e.parentNode&&"true"!==e.parentNode.contentEditable;)e=e.parentNode;for(var r="left"===n?"previousSibling":"nextSibling";e[r];)i.push(e=e[r]);return i}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var t=s.default.get(),n=l.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),e=t.focusNode;if(l.default.isNativeInput(n))return 0===n.selectionEnd;if(!t.anchorNode)return!1;var i=e.textContent.search(/\S/);-1===i&&(i=0);var r=t.focusOffset;return e.nodeType!==Node.TEXT_NODE&&e.childNodes.length&&(e.childNodes[r]?(e=e.childNodes[r],r=0):r=(e=e.childNodes[r-1]).textContent.length),!(!l.default.isLineBreakTag(n)&&!l.default.isEmpty(n)||!this.getHigherLevelSiblings(e,"left").every((function(t){var n=l.default.isLineBreakTag(t),e=1===t.children.length&&l.default.isLineBreakTag(t.children[0]),i=n||e;return l.default.isEmpty(t)&&!i}))||r!==i)||null===n||e===n&&r<=i}},{key:"isAtEnd",get:function(){var t=s.default.get(),n=t.focusNode,e=l.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(l.default.isNativeInput(e))return e.selectionEnd===e.value.length;if(!t.focusNode)return!1;var i=t.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[i-1]?i=(n=n.childNodes[i-1]).textContent.length:(n=n.childNodes[0],i=0)),l.default.isLineBreakTag(e)||l.default.isEmpty(e)){var r=this.getHigherLevelSiblings(n,"right");if(r.every((function(t,n){return n===r.length-1&&l.default.isLineBreakTag(t)||l.default.isEmpty(t)&&!l.default.isLineBreakTag(t)}))&&i===n.textContent.length)return!0}var o=e.textContent.replace(/\s+$/,"");return n===e&&i>=o.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),i}(f.default);i.default=b,b.displayName="Caret",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(25),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d){var v=e(8),p=e(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=p(r),o=p(o),u=p(u),a=p(a),c=p(c),s=p(s),f=p(f),l=p(l),h=p(h),d=v(d);var g=function(t){(0,c.default)(l,t);var n,e,i=(n=l,function(){var t,e=(0,f.default)(n);if(b()){var i=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,s.default)(this,t)});function l(){var t;return(0,u.default)(this,l),(t=i.apply(this,arguments)).onMouseUp=function(){t.listeners.off(document,"mouseover",t.onMouseOver),t.listeners.off(document,"mouseup",t.onMouseUp)},t.onMouseOver=function(n){var e=t.Editor,i=e.BlockManager,r=e.BlockSelection,o=i.getBlockByChildNode(n.relatedTarget)||t.lastSelectedBlock,u=i.getBlockByChildNode(n.target);if(o&&u&&u!==o){if(o===t.firstSelectedBlock)return h.default.get().removeAllRanges(),o.selected=!0,u.selected=!0,void r.clearCache();if(u===t.firstSelectedBlock)return o.selected=!1,u.selected=!1,void r.clearCache();t.Editor.InlineToolbar.close(),t.toggleBlocksSelectedState(o,u),t.lastSelectedBlock=u}},t}return(0,a.default)(l,[{key:"prepare",value:(e=(0,o.default)(r.default.mark((function t(){var n=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.listeners.on(document,"mousedown",(function(t){n.enableCrossBlockSelection(t)}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"watchSelection",value:function(t){t.button===d.mouseButtons.LEFT&&(this.firstSelectedBlock=this.Editor.BlockManager.getBlock(t.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp))}},{key:"toggleBlockSelectedState",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.Editor,e=n.BlockManager,i=n.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=e.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,i.clearCache(),h.default.get().removeAllRanges());var r=e.blocks.indexOf(this.lastSelectedBlock)+(t?1:-1),o=e.blocks[r];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,i.clearCache()):(this.lastSelectedBlock.selected=!1,i.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(t){var n=this.Editor,e=n.BlockManager,i=n.BlockSelection,r=n.Caret,o=e.blocks.indexOf(this.firstSelectedBlock),u=e.blocks.indexOf(this.lastSelectedBlock);if(i.anyBlockSelected&&o>-1&&u>-1)if(t&&t instanceof KeyboardEvent)switch(t.keyCode){case d.keyCodes.DOWN:case d.keyCodes.RIGHT:r.setToBlock(e.blocks[Math.max(o,u)],r.positions.END);break;case d.keyCodes.UP:case d.keyCodes.LEFT:r.setToBlock(e.blocks[Math.min(o,u)],r.positions.START);break;default:r.setToBlock(e.blocks[Math.max(o,u)],r.positions.END)}else r.setToBlock(e.blocks[Math.max(o,u)],r.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(t){var n=this.Editor.UI;h.default.isCollapsed||this.Editor.BlockSelection.clearSelection(t),n.nodes.redactor.contains(t.target)?this.watchSelection(t):this.Editor.BlockSelection.clearSelection(t)}},{key:"toggleBlocksSelectedState",value:function(t,n){for(var e=this.Editor,i=e.BlockManager,r=e.BlockSelection,o=i.blocks.indexOf(t),u=i.blocks.indexOf(n),a=t.selected!==n.selected,c=Math.min(o,u);c<=Math.max(o,u);c++){var s=i.blocks[c];s!==this.firstSelectedBlock&&s!==(a?t:n)&&(i.blocks[c].selected=!i.blocks[c].selected,r.clearCache())}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}}]),l}(l.default);i.default=g,g.displayName="CrossBlockSelection",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(25),e(9)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h){var d=e(1);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=d(r),o=d(o),u=d(u),a=d(a),c=d(c),s=d(s),f=d(f),l=d(l);var p=function(t){(0,c.default)(h,t);var n,e,i=(n=h,function(){var t,e=(0,f.default)(n);if(v()){var i=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,s.default)(this,t)});function h(){var t;return(0,u.default)(this,h),(t=i.apply(this,arguments)).isStartedAtEditor=!1,t}return(0,a.default)(h,[{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var t=this,n=this.Editor.UI;this.readOnlyMutableListeners.on(n.nodes.holder,"drop",function(){var n=(0,o.default)(r.default.mark((function n(e){return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.processDrop(e);case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(n.nodes.holder,"dragstart",(function(){t.processDragStart()})),this.readOnlyMutableListeners.on(n.nodes.holder,"dragover",(function(n){t.processDragOver(n)}),!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(e=(0,o.default)(r.default.mark((function t(n){var e,i,o,u,a,c;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(e=this.Editor).BlockManager,o=e.Caret,u=e.Paste,n.preventDefault(),i.blocks.forEach((function(t){t.dropTarget=!1})),l.default.isAtEditor&&!l.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(a=i.setCurrentBlockByChildNode(n.target))?this.Editor.Caret.setToBlock(a,o.positions.END):(c=i.setCurrentBlockByChildNode(i.lastBlock.holder),this.Editor.Caret.setToBlock(c,o.positions.END)),t.next=9,u.processDataTransfer(n.dataTransfer,!0);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"processDragStart",value:function(){l.default.isAtEditor&&!l.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(t){t.preventDefault()}}]),h}((h=d(h)).default);i.default=p,p.displayName="DragNDrop",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(61)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l){var h=e(8),d=e(1);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=d(r),o=d(o),u=d(u),a=d(a),c=d(c),s=d(s),f=h(f),l=d(l);var p=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(v()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){var t;return(0,r.default)(this,i),(t=e.apply(this,arguments)).disabled=!1,t.mutationDebouncer=f.debounce((function(){t.updateNativeInputs(),f.isFunction(t.config.onChange)&&t.config.onChange(t.Editor.API.methods)}),i.DebounceTimer),t.nativeInputs=[],t}return(0,o.default)(i,[{key:"destroy",value:function(){var t=this;this.mutationDebouncer=null,this.observer&&this.observer.disconnect(),this.observer=null,this.nativeInputs.forEach((function(n){return t.listeners.off(n,"input",t.mutationDebouncer)})),this.mutationDebouncer=null}},{key:"toggleReadOnly",value:function(t){t?this.disableModule():this.enableModule()}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"setObserver",value:function(){var t=this,n=this.Editor.UI;this.observer=new MutationObserver((function(n,e){t.mutationHandler(n,e)})),this.observer.observe(n.nodes.redactor,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:"mutationHandler",value:function(t){if(!this.disabled){var n=!1;t.forEach((function(t){switch(t.type){case"childList":case"characterData":n=!0;break;case"attributes":t.target.classList.contains(l.default.CSS.wrapper)||(n=!0)}})),n&&this.mutationDebouncer()}}},{key:"updateNativeInputs",value:function(){var t=this;this.nativeInputs&&this.nativeInputs.forEach((function(n){t.listeners.off(n,"input")})),this.nativeInputs=Array.from(this.Editor.UI.nodes.redactor.querySelectorAll("textarea, input, select")),this.nativeInputs.forEach((function(n){return t.listeners.on(n,"input",t.mutationDebouncer)}))}},{key:"enableModule",value:function(){var t=this;window.setTimeout((function(){t.setObserver(),t.updateNativeInputs(),t.enable()}),1e3)}},{key:"disableModule",value:function(){this.disable()}}]),i}(s.default);i.default=p,p.displayName="ModificationsObserver",p.DebounceTimer=450,t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(42),e(30),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(66)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v,p,b){var g=e(8),m=e(1);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=m(r),o=m(o),u=m(u),a=m(a),c=m(c),s=m(s),f=m(f),l=m(l),h=m(h),d=m(d),v=m(v),p=g(p);var w=function(t){(0,f.default)(j,t);var n,e,i,d,g,m,w,k,x,_=(n=j,function(){var t,e=(0,h.default)(n);if(y()){var i=(0,h.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,l.default)(this,t)});function j(){var t;return(0,c.default)(this,j),(t=_.apply(this,arguments)).MIME_TYPE="application/x-editor-js",t.toolsTags={},t.tagsByTool={},t.toolsPatterns=[],t.toolsFiles={},t.exceptionList=[],t.processTool=function(n){try{var e=n.create({},{},!1);if(!1===n.pasteConfig)return void t.exceptionList.push(n.name);if(!p.isFunction(e.onPaste))return;t.getTagsConfig(n),t.getFilesConfig(n),t.getPatternsConfig(n)}catch(t){p.log("Paste handling for ".concat(n.name," Tool hasn't been set up because of the error"),"warn",t)}},t.handlePasteEvent=function(){var n=(0,a.default)(u.default.mark((function n(e){var i,r,o;return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(i=t.Editor).Toolbar,(r=i.BlockManager).currentBlock&&(!t.isNativeBehaviour(e.target)||e.clipboardData.types.includes("Files"))){n.next=3;break}return n.abrupt("return");case 3:if(!r.currentBlock||!t.exceptionList.includes(r.currentBlock.name)){n.next=5;break}return n.abrupt("return");case 5:e.preventDefault(),t.processDataTransfer(e.clipboardData),r.clearFocused(),o.close();case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t}return(0,s.default)(j,[{key:"prepare",value:(x=(0,a.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.processTools();case 1:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"toggleReadOnly",value:function(t){t?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(k=(0,a.default)(u.default.mark((function t(n){var e,i,r,o,a,c,s,f,l,h=arguments;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=h.length>1&&void 0!==h[1]&&h[1],i=this.Editor.Tools,!((r=n.types).includes?r.includes("Files"):r.contains("Files"))){t.next=8;break}return t.next=7,this.processFiles(n.files);case 7:return t.abrupt("return");case 8:if(o=n.getData(this.MIME_TYPE),a=n.getData("text/plain"),c=n.getData("text/html"),!o){t.next=19;break}return t.prev=12,this.insertEditorJSData(JSON.parse(o)),t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(12);case 19:if(e&&a.trim()&&c.trim()&&(c="<p>"+(c.trim()?c:a)+"</p>"),s=Object.keys(this.toolsTags).reduce((function(t,n){return t[n.toLowerCase()]=!0,t}),{}),f=Object.assign({},s,i.getAllInlineToolsSanitizeConfig(),{br:{}}),(l=(0,b.clean)(c,f)).trim()&&l.trim()!==a&&v.default.isHTMLString(l)){t.next=28;break}return t.next=26,this.processText(a);case 26:t.next=30;break;case 28:return t.next=30,this.processText(l,!0);case 30:case"end":return t.stop()}}),t,this,[[12,17]])}))),function(t){return k.apply(this,arguments)})},{key:"processText",value:(w=(0,a.default)(u.default.mark((function t(n){var e,i,r,o,c,s=this,f=arguments;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(e=this.Editor).Caret,r=e.BlockManager,(o=f.length>1&&void 0!==f[1]&&f[1]?this.processHTML(n):this.processPlain(n)).length){t.next=5;break}return t.abrupt("return");case 5:if(1!==o.length){t.next=8;break}return o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop()),t.abrupt("return");case 8:c=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty,o.map(function(){var t=(0,a.default)(u.default.mark((function t(n,e){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.insertBlock(n,0===e&&c));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()),r.currentBlock&&i.setToBlock(r.currentBlock,i.positions.END);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){Array.from(this.Editor.Tools.blockTools.values()).forEach(this.processTool)}},{key:"getTagsConfig",value:function(t){var n=this,e=t.pasteConfig.tags||[];e.forEach((function(e){Object.prototype.hasOwnProperty.call(n.toolsTags,e)?p.log("Paste handler for ".concat(t.name," Tool on ").concat(e," tag is skipped ")+"because it is already used by ".concat(n.toolsTags[e].tool.name," Tool."),"warn"):n.toolsTags[e.toUpperCase()]={tool:t}})),this.tagsByTool[t.name]=e.map((function(t){return t.toUpperCase()}))}},{key:"getFilesConfig",value:function(t){var n=t.pasteConfig.files,e=void 0===n?{}:n,i=e.extensions,r=e.mimeTypes;(i||r)&&(i&&!Array.isArray(i)&&(p.log("extensions property of the onDrop config for ".concat(t.name," Tool should be an array")),i=[]),r&&!Array.isArray(r)&&(p.log("mimeTypes property of the onDrop config for ".concat(t.name," Tool should be an array")),r=[]),r&&(r=r.filter((function(n){return!!p.isValidMimeType(n)||(p.log("MIME type value ".concat(n," for the ").concat(t.name," Tool is not a valid MIME type"),"warn"),!1)}))),this.toolsFiles[t.name]={extensions:i||[],mimeTypes:r||[]})}},{key:"getPatternsConfig",value:function(t){var n=this;t.pasteConfig.patterns&&!p.isEmpty(t.pasteConfig.patterns)&&Object.entries(t.pasteConfig.patterns).forEach((function(e){var i=(0,o.default)(e,2),r=i[0],u=i[1];u instanceof RegExp||p.log("Pattern ".concat(u," for ").concat(t.name," Tool is skipped because it should be a Regexp instance."),"warn"),n.toolsPatterns.push({key:r,pattern:u,tool:t})}))}},{key:"isNativeBehaviour",value:function(t){return v.default.isNativeInput(t)}},{key:"processFiles",value:(m=(0,a.default)(u.default.mark((function t(n){var e,i,r,o=this;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Editor.BlockManager,t.next=3,Promise.all(Array.from(n).map((function(t){return o.processFile(t)})));case 3:i=(i=t.sent).filter((function(t){return!!t})),r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,i.forEach((function(t,n){e.paste(t.type,t.event,0===n&&r)}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"processFile",value:(g=(0,a.default)(u.default.mark((function t(n){var e,i,r,a,c;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p.getFileExtension(n),i=Object.entries(this.toolsFiles).find((function(t){var i=(0,o.default)(t,2)[1],r=i.mimeTypes,u=i.extensions,a=n.type.split("/"),c=(0,o.default)(a,2),s=c[0],f=c[1],l=u.find((function(t){return t.toLowerCase()===e.toLowerCase()})),h=r.find((function(t){var n=t.split("/"),e=(0,o.default)(n,2),i=e[1];return e[0]===s&&(i===f||"*"===i)}));return!!l||!!h}))){t.next=4;break}return t.abrupt("return");case 4:return r=(0,o.default)(i,1),a=r[0],c=this.composePasteEvent("file",{file:n}),t.abrupt("return",{event:c,type:a});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"processHTML",value:function(t){var n=this,e=this.Editor.Tools,i=v.default.make("DIV");return i.innerHTML=t,this.getNodes(i).map((function(t){var i,r=e.defaultTool,o=!1;switch(t.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(i=v.default.make("div")).appendChild(t);break;case Node.ELEMENT_NODE:o=!0,n.toolsTags[(i=t).tagName]&&(r=n.toolsTags[i.tagName].tool)}var u=r.pasteConfig.tags.reduce((function(t,n){return t[n.toLowerCase()]={},t}),{}),a=Object.assign({},u,r.baseSanitizeConfig);i.innerHTML=(0,b.clean)(i.innerHTML,a);var c=n.composePasteEvent("tag",{data:i});return{content:i,isBlock:o,tool:r.name,event:c}})).filter((function(t){return!v.default.isNodeEmpty(t.content)||v.default.isSingleTag(t.content)}))}},{key:"processPlain",value:function(t){var n=this;if(!t)return[];var e=this.config.defaultBlock;return t.split(/\r?\n/).filter((function(t){return t.trim()})).map((function(t){var i=v.default.make("div");i.textContent=t;var r=n.composePasteEvent("tag",{data:i});return{content:i,tool:e,isBlock:!1,event:r}}))}},{key:"processSingleBlock",value:(d=(0,a.default)(u.default.mark((function t(n){var e,i,r;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(e=this.Editor).Caret,(r=e.BlockManager.currentBlock)&&n.tool===r.name&&v.default.containsOnlyInlineElements(n.content.innerHTML)){t.next=5;break}return this.insertBlock(n,(null==r?void 0:r.tool.isDefault)&&r.isEmpty),t.abrupt("return");case 5:i.insertContentAtCaretPosition(n.content.innerHTML);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"processInlinePaste",value:(i=(0,a.default)(u.default.mark((function t(n){var e,i,r,o,a,c;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(e=this.Editor).Caret,o=n.content,!((i=e.BlockManager).currentBlock&&i.currentBlock.tool.isDefault&&o.textContent.length<j.PATTERN_PROCESSING_MAX_LENGTH)){t.next=12;break}return t.next=6,this.processPattern(o.textContent);case 6:if(!(a=t.sent)){t.next=12;break}return c=i.paste(a.tool,a.event,i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty),r.setToBlock(c,r.positions.END),t.abrupt("return");case 12:i.currentBlock&&i.currentBlock.currentInput?document.execCommand("insertHTML",!1,(0,b.clean)(o.innerHTML,i.currentBlock.tool.sanitizeConfig)):this.insertBlock(n);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"processPattern",value:(e=(0,a.default)(u.default.mark((function t(n){var e,i;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.toolsPatterns.find((function(t){var e=t.pattern.exec(n);return!!e&&n===e.shift()}))){t.next=3;break}return t.abrupt("return");case 3:return i=this.composePasteEvent("pattern",{key:e.key,data:n}),t.abrupt("return",{event:i,tool:e.tool.name});case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"insertBlock",value:function(t){var n,e=this.Editor,i=e.BlockManager,r=e.Caret,o=i.currentBlock;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o&&o.isEmpty)return n=i.paste(t.tool,t.event,!0),void r.setToBlock(n,r.positions.END);n=i.paste(t.tool,t.event),r.setToBlock(n,r.positions.END)}},{key:"insertEditorJSData",value:function(t){var n=this.Editor,e=n.BlockManager,i=n.Caret,r=n.Tools;(0,b.sanitizeBlocks)(t,(function(t){return r.blockTools.get(t).sanitizeConfig})).forEach((function(t,n){var r=!1;0===n&&(r=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);var o=e.insert({tool:t.tool,data:t.data,replace:r});i.setToBlock(o,i.positions.END)}))}},{key:"processElementNode",value:function(t,n,e){var i=Object.keys(this.toolsTags),o=t,u=(this.toolsTags[o.tagName]||{}).tool,a=this.tagsByTool[null==u?void 0:u.name]||[],c=i.includes(o.tagName),s=v.default.blockElements.includes(o.tagName.toLowerCase()),f=Array.from(o.children).some((function(t){var n=t.tagName;return i.includes(n)&&!a.includes(n)})),l=Array.from(o.children).some((function(t){return v.default.blockElements.includes(t.tagName.toLowerCase())}));return s||c||f?c&&!f||s&&!l&&!f?[].concat((0,r.default)(n),[e,o]):void 0:(e.appendChild(o),[].concat((0,r.default)(n),[e]))}},{key:"getNodes",value:function(t){var n,e=this;return Array.from(t.childNodes).reduce((function t(i,o){if(v.default.isEmpty(o)&&!v.default.isSingleTag(o))return i;var u=i[i.length-1],a=new DocumentFragment;switch(u&&v.default.isFragment(u)&&(a=i.pop()),o.nodeType){case Node.ELEMENT_NODE:if(n=e.processElementNode(o,i,a))return n;break;case Node.TEXT_NODE:return a.appendChild(o),[].concat((0,r.default)(i),[a]);default:return[].concat((0,r.default)(i),[a])}return[].concat((0,r.default)(i),(0,r.default)(Array.from(o.childNodes).reduce(t,[])))}),[])}},{key:"composePasteEvent",value:function(t,n){return new CustomEvent(t,{detail:n})}}]),j}(d.default);i.default=w,w.displayName="Paste",w.PATTERN_PROCESSING_MAX_LENGTH=450,t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(23),e(30),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(147)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d){var v=e(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=v(r),o=v(o),u=v(u),a=v(a),c=v(c),s=v(s),f=v(f),l=v(l);var b=function(t){(0,s.default)(v,t);var n,e,i,h=(n=v,function(){var t,e=(0,l.default)(n);if(p()){var i=(0,l.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,f.default)(this,t)});function v(){var t;return(0,a.default)(this,v),(t=h.apply(this,arguments)).toolsDontSupportReadOnly=[],t.readOnlyEnabled=!1,t}return(0,c.default)(v,[{key:"prepare",value:(i=(0,u.default)(r.default.mark((function t(){var n;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],Array.from(this.Editor.Tools.blockTools.entries()).forEach((function(t){var e=(0,o.default)(t,2);e[1].isReadOnlySupported||n.push(e[0])})),this.toolsDontSupportReadOnly=n,this.config.readOnly&&n.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"toggle",value:(e=(0,u.default)(r.default.mark((function t(){var n,e,i,o,u=arguments;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=u.length>0&&void 0!==u[0]?u[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),e=this.readOnlyEnabled,this.readOnlyEnabled=n,t.t0=r.default.keys(this.Editor);case 5:if((t.t1=t.t0()).done){t.next=12;break}if(this.Editor[i=t.t1.value].toggleReadOnly){t.next=9;break}return t.abrupt("continue",5);case 9:this.Editor[i].toggleReadOnly(n),t.next=5;break;case 12:if(e!==n){t.next=14;break}return t.abrupt("return",this.readOnlyEnabled);case 14:return t.next=16,this.Editor.Saver.save();case 16:return o=t.sent,t.next=19,this.Editor.BlockManager.clear();case 19:return t.next=21,this.Editor.Renderer.render(o.blocks);case 21:return t.abrupt("return",this.readOnlyEnabled);case 22:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new d.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return this.readOnlyEnabled}}]),v}((h=v(h)).default);i.default=b,b.displayName="ReadOnly",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(25),e(61)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h){var d=e(1);function v(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,n){if(t){if("string"==typeof t)return p(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,n):void 0}}(t))){var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=d(r),o=d(o),u=d(u),a=d(a),c=d(c),s=d(s),f=d(f),l=d(l),h=d(h);var g=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(b()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){var t;return(0,r.default)(this,i),(t=e.apply(this,arguments)).isRectSelectionActivated=!1,t.SCROLL_SPEED=3,t.HEIGHT_OF_SCROLL_ZONE=40,t.BOTTOM_SCROLL_ZONE=1,t.TOP_SCROLL_ZONE=2,t.MAIN_MOUSE_BUTTON=0,t.mousedown=!1,t.isScrolling=!1,t.inScrollZone=null,t.startX=0,t.startY=0,t.mouseX=0,t.mouseY=0,t.stackOfSelected=[],t.listenerIds=[],t}return(0,o.default)(i,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(t,n){var e=document.elementFromPoint(t-window.pageXOffset,n-window.pageYOffset);e.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var i=[".".concat(h.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],r=e.closest("."+this.Editor.UI.CSS.editorWrapper),o=i.some((function(t){return!!e.closest(t)}));r&&!o&&(this.mousedown=!0,this.startX=t,this.startY=n)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var t=this,n=this.genHTML().container;this.listeners.on(n,"mousedown",(function(n){t.processMouseDown(n)}),!1),this.listeners.on(document.body,"mousemove",(function(n){t.processMouseMove(n)}),!1),this.listeners.on(document.body,"mouseleave",(function(){t.processMouseLeave()})),this.listeners.on(window,"scroll",(function(n){t.processScroll(n)}),!1),this.listeners.on(document.body,"mouseup",(function(){t.processMouseUp()}),!1)}},{key:"processMouseDown",value:function(t){t.button===this.MAIN_MOUSE_BUTTON&&this.startSelection(t.pageX,t.pageY)}},{key:"processMouseMove",value:function(t){this.changingRectangle(t),this.scrollByZones(t.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(t){this.changingRectangle(t)}},{key:"processMouseUp",value:function(){this.endSelection()}},{key:"scrollByZones",value:function(t){this.inScrollZone=null,t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var t=this.Editor.UI,n=t.nodes.holder.querySelector("."+t.CSS.editorWrapper),e=f.default.make("div",i.CSS.overlay,{}),r=f.default.make("div",i.CSS.overlayContainer,{}),o=f.default.make("div",i.CSS.rect,{});return r.appendChild(o),e.appendChild(r),n.appendChild(e),this.overlayRectangle=o,{container:n,overlay:e}}},{key:"scrollVertical",value:function(t){var n=this;if(this.inScrollZone&&this.mousedown){var e=window.pageYOffset;window.scrollBy(0,t),this.mouseY+=window.pageYOffset-e,setTimeout((function(){n.scrollVertical(t)}),0)}}},{key:"changingRectangle",value:function(t){if(this.mousedown){void 0!==t.pageY&&(this.mouseX=t.pageX,this.mouseY=t.pageY);var n=this.genInfoForMouseSelection(),e=n.rightPos,i=n.leftPos,r=n.index;this.rectCrossesBlocks=!(this.startX>e&&this.mouseX>e||this.startX<i&&this.mouseX<i),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),void 0!==r&&(this.trySelectNextBlock(r),this.inverseSelection(),l.default.get().removeAllRanges(),t.preventDefault())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var t=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!t){var n,e=v(this.stackOfSelected);try{for(e.s();!(n=e.n()).done;)this.Editor.BlockSelection.selectBlockByIndex(n.value)}catch(t){e.e(t)}finally{e.f()}}if(!this.rectCrossesBlocks&&t){var i,r=v(this.stackOfSelected);try{for(r.s();!(i=r.n()).done;)this.Editor.BlockSelection.unSelectBlockByIndex(i.value)}catch(t){r.e(t)}finally{r.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var t,n=document.body.offsetWidth/2,e=this.mouseY-window.pageYOffset,i=document.elementFromPoint(n,e),r=this.Editor.BlockManager.getBlockByChildNode(i);void 0!==r&&(t=this.Editor.BlockManager.blocks.findIndex((function(t){return t.holder===r.holder})));var o=this.Editor.BlockManager.lastBlock.holder.querySelector("."+h.default.CSS.content),u=Number.parseInt(window.getComputedStyle(o).width,10)/2;return{index:t,leftPos:n-u,rightPos:n+u}}},{key:"addBlockInSelection",value:function(t){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(t),this.stackOfSelected.push(t)}},{key:"trySelectNextBlock",value:function(t){var n=this,e=this.stackOfSelected.length;if(this.stackOfSelected[this.stackOfSelected.length-1]!==t){var i=0;e>1&&(i=this.stackOfSelected[e-1]-this.stackOfSelected[e-2]>0?1:-1);var r=!(t>this.stackOfSelected[e-1]&&1===i||t<this.stackOfSelected[e-1]&&-1===i||0===i);if(r||!(t>this.stackOfSelected[e-1]||void 0===this.stackOfSelected[e-1])){if(!r&&t<this.stackOfSelected[e-1])for(var o=this.stackOfSelected[e-1]-1;o>=t;o--)this.addBlockInSelection(o);else if(r){var u,a=e-1;for(u=t>this.stackOfSelected[e-1]?function(){return t>n.stackOfSelected[a]}:function(){return t<n.stackOfSelected[a]};u();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[a]),this.stackOfSelected.pop(),a--}}else for(var c=this.stackOfSelected[e-1]+1||t;c<=t;c++)this.addBlockInSelection(c)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),i}(s.default);i.default=g,g.displayName="RectangleSelection",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h){var d=e(8),v=e(1);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=v(r),o=v(o),u=v(u),a=v(a),c=v(c),s=v(s),f=v(f),l=v(l),h=d(h);var b=function(t){(0,c.default)(d,t);var n,e,i,l=(n=d,function(){var t,e=(0,f.default)(n);if(p()){var i=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,s.default)(this,t)});function d(){return(0,u.default)(this,d),l.apply(this,arguments)}return(0,a.default)(d,[{key:"render",value:(i=(0,o.default)(r.default.mark((function t(n){var e,i,o=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.map((function(t){return{function:function(){return o.insertBlock(t)}}})),t.next=3,h.sequence(e);case 3:return i=t.sent,this.Editor.UI.checkEmptiness(),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"insertBlock",value:(e=(0,o.default)(r.default.mark((function t(n){var e,i,o,u,a,c,s,f,l;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(e=this.Editor).BlockManager,a=n.data,c=n.tunes,s=n.id,!(i=e.Tools).available.has(u=n.type)){t.next=13;break}t.prev=3,o.insert({id:s,tool:u,data:a,tunes:c}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(3),h.log("Block ".concat(u," skipped because of plugins error"),"warn",a),Error(t.t0);case 11:t.next=18;break;case 13:f={savedData:{id:s,type:u,data:a},title:u},i.unavailable.has(u)&&(l=i.unavailable.get(u).toolbox,f.title=(null==l?void 0:l.title)||f.title),o.insert({id:s,tool:i.stubTool,data:f}).stretched=!0,h.log("Tool ".concat(u," is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return t.stop()}}),t,this,[[3,7]])}))),function(t){return e.apply(this,arguments)})}]),d}(l.default);i.default=b,b.displayName="Renderer",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(66)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d){var v=e(8),p=e(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=p(r),o=p(o),u=p(u),a=p(a),c=p(c),s=p(s),f=p(f),l=p(l),h=v(h);var g=function(t){(0,c.default)(v,t);var n,e,i,l=(n=v,function(){var t,e=(0,f.default)(n);if(b()){var i=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,s.default)(this,t)});function v(){return(0,u.default)(this,v),l.apply(this,arguments)}return(0,a.default)(v,[{key:"save",value:(i=(0,o.default)(r.default.mark((function t(){var n,e,i,o,u,a,c=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=this.Editor).Tools,o=n.BlockManager.blocks,u=[],(e=n.ModificationsObserver).disable(),t.prev=3,o.forEach((function(t){u.push(c.getSavedData(t))})),t.next=7,Promise.all(u);case 7:return a=t.sent,t.next=10,(0,d.sanitizeBlocks)(a,(function(t){return i.blockTools.get(t).sanitizeConfig}));case 10:return t.abrupt("return",this.makeOutput(t.sent));case 12:return t.prev=12,e.enable(),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[3,,12,15]])}))),function(){return i.apply(this,arguments)})},{key:"getSavedData",value:(e=(0,o.default)(r.default.mark((function t(n){var e,i;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.save();case 2:if(t.t0=e=t.sent,!t.t0){t.next=8;break}return t.next=7,n.validate(e.data);case 7:t.t0=t.sent;case 8:return i=t.t0,t.abrupt("return",Object.assign(Object.assign({},e),{isValid:i}));case 10:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"makeOutput",value:function(t){var n=this,e=0,i=[];return h.log("[Editor.js saving]:","groupCollapsed"),t.forEach((function(t){var r=t.id,o=t.tool,u=t.data,a=t.tunes,c=t.isValid;if(e+=t.time,h.log("".concat(o.charAt(0).toUpperCase()+o.slice(1)),"group"),!c)return h.log("Block ".concat(o," skipped because saved data is invalid")),void h.log(void 0,"groupEnd");if(h.log(u),h.log(void 0,"groupEnd"),o!==n.Editor.Tools.stubTool){var s=Object.assign({id:r,type:o,data:u},!h.isEmpty(a)&&{tunes:a});i.push(s)}else i.push(u)})),h.log("Total","log",e),h.log(void 0,"groupEnd"),{time:+new Date,blocks:i,version:"2.21.0"}}}]),v}(l.default);i.default=g,g.displayName="Saver",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(60),e(7),e(25)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v){var p=e(8),b=e(1);function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=b(r),o=b(o),u=b(u),a=b(a),c=b(c),s=b(s),f=b(f),l=b(l),h=b(h),d=p(d),v=b(v);var m=function(t){(0,a.default)(i,t);var n,e=(n=i,function(){var t,e=(0,s.default)(n);if(g()){var i=(0,s.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,c.default)(this,t)});function i(){var t;return(0,o.default)(this,i),(t=e.apply(this,arguments)).buttons=[],t.flipper=null,t.selection=new v.default,t}return(0,u.default)(i,[{key:"make",value:function(){this.nodes.wrapper=l.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=l.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=l.default.make("div",this.CSS.defaultSettings),l.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"open",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.selection.save(),this.Editor.BlockManager.currentBlock.selected=!0,this.Editor.BlockSelection.clearCache(),this.addToolSettings(),this.addTunes(),this.eventsDispatcher.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),v.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.eventsDispatcher.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(){var t=this.Editor.BlockManager.currentBlock.renderSettings();t&&l.default.append(this.nodes.toolSettings,t)}},{key:"addTunes",value:function(){var t=this.Editor.BlockManager.currentBlock.renderTunes(),n=(0,r.default)(t,2),e=n[1];l.default.append(this.nodes.toolSettings,n[0]),l.default.append(this.nodes.defaultSettings,e)}},{key:"enableFlipper",value:function(){var t=this;this.flipper=new h.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(n){n&&l.default.canSetCaret(n)?t.close():d.delay((function(){t.Editor.Caret.setToBlock(t.Editor.BlockManager.currentBlock)}),50)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var t=this;if(0!==this.buttons.length)return this.buttons;var n=this.nodes.toolSettings.querySelectorAll(".".concat(this.Editor.StylesAPI.classes.settingsButton,", ").concat(l.default.allInputsSelector)),e=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return n.forEach((function(n){t.buttons.push(n)})),e.forEach((function(n){t.buttons.push(n)})),this.buttons}}]),i}(f.default);i.default=m,m.displayName="BlockSettings",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(30),e(23),e(24),e(42),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(60),e(59),e(84),e(66)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v,p,b,g,m,y){var w=e(8),k=e(1);function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=k(r),o=k(o),u=k(u),a=k(a),c=k(c),s=k(s),f=k(f),l=k(l),h=k(h),d=k(d),v=k(v),p=w(p),b=k(b),g=k(g);var _=function(t){(0,f.default)(d,t);var n,e,i=(n=d,function(){var t,e=(0,h.default)(n);if(x()){var i=(0,h.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,l.default)(this,t)});function d(){var t;return(0,c.default)(this,d),(t=i.apply(this,arguments)).opened=!1,t.tools={},t.flipper=null,t.togglingCallback=null,t}return(0,s.default)(d,[{key:"make",value:function(){this.nodes.wrapper=v.default.make("div",[d.CSS.conversionToolbarWrapper].concat((0,a.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=v.default.make("div",d.CSS.conversionToolbarTools);var t=v.default.make("div",d.CSS.conversionToolbarLabel,{textContent:g.default.ui(m.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),v.default.append(this.nodes.wrapper,t),v.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(t){this.opened?this.close():this.open(),p.isFunction(t)&&(this.togglingCallback=t)}},{key:"open",value:function(){var t=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(d.CSS.conversionToolbarShowed),setTimeout((function(){t.flipper.activate(Object.values(t.tools).filter((function(t){return!t.classList.contains(d.CSS.conversionToolHidden)}))),t.flipper.focusFirst(),p.isFunction(t.togglingCallback)&&t.togglingCallback(!0)}),50)}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(d.CSS.conversionToolbarShowed),p.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){var t=Object.keys(this.tools);return!(1===t.length&&t.shift()===this.config.defaultBlock)}},{key:"replaceWithBlock",value:(e=(0,u.default)(o.default.mark((function t(n){var e,i,r,u,a,c,s,f,l,h=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Editor.BlockManager.currentBlock.tool,i=this.Editor.BlockManager.currentBlock.name,t.next=4,this.Editor.BlockManager.currentBlock.save();case 4:if(r=t.sent.data,i===n&&(n=this.config.defaultBlock),u=this.Editor.Tools.blockTools.get(n),a="",!p.isFunction(c=e.conversionConfig.export)){t.next=14;break}a=c(r),t.next=20;break;case 14:if(!p.isString(c)){t.next=18;break}a=r[c],t.next=20;break;case 18:return p.log("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),t.abrupt("return");case 20:if(s=(0,y.clean)(a,u.sanitizeConfig),f={},!p.isFunction(l=u.conversionConfig.import)){t.next=27;break}f=l(s),t.next=33;break;case 27:if(!p.isString(l)){t.next=31;break}f[l]=s,t.next=33;break;case 31:return p.log("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),t.abrupt("return");case 33:this.Editor.BlockManager.replace({tool:n,data:f}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),p.delay((function(){h.Editor.Caret.setToBlock(h.Editor.BlockManager.currentBlock)}),10)();case 38:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"addTools",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.entries()).forEach((function(n){var e=(0,r.default)(n,2),i=e[0],o=e[1],u=o.toolbox,a=o.conversionConfig;!p.isEmpty(u)&&u.icon&&a&&a.import&&t.addTool(i,u.icon,u.title)}))}},{key:"addTool",value:function(t,n,e){var i=this,r=v.default.make("div",[d.CSS.conversionTool]),a=v.default.make("div",[d.CSS.conversionToolIcon]);r.dataset.tool=t,a.innerHTML=n,v.default.append(r,a),v.default.append(r,v.default.text(g.default.t(m.I18nInternalNS.toolNames,e||p.capitalize(t)))),v.default.append(this.nodes.tools,r),this.tools[t]=r,this.listeners.on(r,"click",(0,u.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.replaceWithBlock(t);case 2:case"end":return n.stop()}}),n)}))))}},{key:"filterTools",value:function(){var t=this.Editor.BlockManager.currentBlock;Object.entries(this.tools).forEach((function(n){var e=(0,r.default)(n,2),i=e[0],o=e[1];o.hidden=!1,o.classList.toggle(d.CSS.conversionToolHidden,i===t.name)}))}},{key:"enableFlipper",value:function(){this.flipper=new b.default({focusedItemClass:d.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),d}(d.default);i.default=_,_.displayName="ConversionToolbar",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(42),e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(25),e(7),e(60),e(59),e(84),e(111),e(82),e(67)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v,p,b,g,m,y,w){var k=e(8),x=e(1);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=x(r),o=x(o),u=x(u),a=x(a),c=x(c),s=x(s),f=x(f),l=x(l),h=x(h),d=x(d),v=k(v),p=x(p),b=x(b),m=x(m),y=x(y);var j=function(t){(0,c.default)(i,t);var n,e=(n=i,function(){var t,e=(0,f.default)(n);if(_()){var i=(0,f.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,s.default)(this,t)});function i(t){var n,r=t.config,o=t.eventsDispatcher;return(0,u.default)(this,i),(n=e.call(this,{config:r,eventsDispatcher:o})).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},n.opened=!1,n.toolbarVerticalMargin=5,n.buttonsList=null,n.width=0,n.flipper=null,n.tooltip=new y.default,n}return(0,a.default)(i,[{key:"toggleReadOnly",value:function(t){t?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.allowedToShow()?(this.move(),this.open(),this.Editor.Toolbar.close()):t&&this.close()}},{key:"move",value:function(){var t=d.default.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),e={x:t.x-n.left,y:t.y+t.height-n.top+this.toolbarVerticalMargin};t.width&&(e.x+=Math.floor(t.width/2));var i=e.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,e.x-this.width/2<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,i>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(e.x)+"px",this.nodes.wrapper.style.top=Math.floor(e.y)+"px"}},{key:"close",value:function(){var t=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach((function(n){var e=(0,o.default)(n,2),i=e[1],r=t.getToolShortcut(e[0]);r&&m.default.remove(t.Editor.UI.nodes.redactor,r),v.isFunction(i.clear)&&i.clear()})),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var t=Array.from(this.buttonsList);t.unshift(this.nodes.conversionToggler),t=t.filter((function(t){return!t.hidden})),this.flipper.activate(t)}}},{key:"containsNode",value:function(t){return this.nodes.wrapper.contains(t)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}},{key:"make",value:function(){var t=this;this.nodes.wrapper=h.default.make("div",[this.CSS.inlineToolbar].concat((0,r.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=h.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=h.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=h.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",(function(n){n.target.closest(".".concat(t.CSS.actionsWrapper))||n.preventDefault()})),h.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),h.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),h.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var t=d.default.get();if(!t||!t.anchorNode)return!1;if(t.isCollapsed||d.default.text.length<1)return!1;var n=h.default.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(t&&["IMG","INPUT"].includes(n.tagName))return!1;if(null===n.closest('[contenteditable="true"]'))return!1;var e=this.Editor.BlockManager.getBlock(t.anchorNode);return!!e&&0!==e.tool.inlineTools.size}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var t=this;this.nodes.conversionToggler=h.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=h.default.make("div",this.CSS.conversionTogglerContent);var n=h.default.svg("toggler-down",13,13);this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(n),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",(function(){t.Editor.ConversionToolbar.toggle((function(n){!n&&t.opened?t.flipper.activate():t.opened&&t.flipper.deactivate()}))})),this.tooltip.onHover(this.nodes.conversionToggler,b.default.ui(g.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:function(){var t=this.Editor.BlockManager.currentBlock,n=t.name,e=t.tool.conversionConfig,i=e&&e.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);var r=t.tool.toolbox||{};this.nodes.conversionTogglerContent.innerHTML=r.icon||r.title||v.capitalize(n)}},{key:"prepareConversionToolbar",value:function(){var t=this.Editor.ConversionToolbar.make();h.default.append(this.nodes.wrapper,t)}},{key:"addToolsFiltered",value:function(){var t=this,n=d.default.get(),e=this.Editor.BlockManager.getBlock(n.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(e.tool.inlineTools.values()).forEach((function(n){t.addTool(n)})),this.recalculateWidth()}},{key:"addTool",value:function(t){var n=this,e=t.create(),i=e.render();if(i){if(i.dataset.tool=t.name,this.nodes.buttons.appendChild(i),this.toolsInstances.set(t.name,e),v.isFunction(e.renderActions)){var r=e.renderActions();this.nodes.actions.appendChild(r)}this.listeners.on(i,"click",(function(t){n.toolClicked(e),t.preventDefault()}));var o=this.getToolShortcut(t.name);if(o)try{this.enableShortcuts(e,o)}catch(t){}var u=h.default.make("div"),a=b.default.t(g.I18nInternalNS.toolNames,t.title||v.capitalize(t.name));u.appendChild(h.default.text(a)),o&&u.appendChild(h.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:v.beautifyShortcut(o)})),this.tooltip.onHover(i,u,{placement:"top",hidingDelay:100}),e.checkState(d.default.get())}else v.log("Render method must return an instance of Node","warn",t.name)}},{key:"getToolShortcut",value:function(t){var n=this.Editor.Tools,e=n.inlineTools.get(t);return Array.from(n.internal.inlineTools.keys()).includes(t)?this.inlineTools[t][w.CommonInternalSettings.Shortcut]:e.shortcut}},{key:"enableShortcuts",value:function(t,n){var e=this;m.default.add({name:n,handler:function(n){var i=e.Editor.BlockManager.currentBlock;i&&i.tool.enabledInlineTools&&(n.preventDefault(),e.toolClicked(t))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(t){t.surround(d.default.range),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach((function(t){t.checkState(d.default.get())}))}},{key:"enableFlipper",value:function(){this.flipper=new p.default({focusedItemClass:this.CSS.focusedButton,allowArrows:!1})}},{key:"inlineTools",get:function(){var t={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach((function(n){var e=(0,o.default)(n,2);t[e[0]]=e[1].create()})),t}}]),i}(l.default);i.default=j,j.displayName="InlineToolbar",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(60),e(61),e(59),e(84),e(111),e(82)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v,p,b,g){var m=e(8),y=e(1);function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=y(r),o=y(o),u=y(u),a=y(a),c=y(c),s=y(s),f=y(f),l=m(l),h=y(h),v=y(v),b=y(b),g=y(g);var k=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(w()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(t){var n,o=t.config,u=t.eventsDispatcher;return(0,r.default)(this,i),(n=e.call(this,{config:o,eventsDispatcher:u})).nodes={toolbox:null,buttons:[]},n.opened=!1,n.displayedToolsCount=0,n.flipper=null,n.tooltip=new g.default,n}return(0,o.default)(i,[{key:"make",value:function(){this.nodes.toolbox=f.default.make("div",this.CSS.toolbox),this.addTools(),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.removeAllShortcuts(),this.tooltip.destroy()}},{key:"toolButtonActivate",value:function(t,n){this.insertNewBlock(n)}},{key:"open",value:function(){this.isEmpty||(this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolbarHolderModifier),this.nodes.toolbox.classList.add(this.CSS.toolboxOpened),this.opened=!0,this.flipper.activate())}},{key:"close",value:function(){this.nodes.toolbox.classList.remove(this.CSS.toolboxOpened),this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolbarHolderModifier),this.opened=!1,this.flipper.deactivate()}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"addTools",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.values()).forEach((function(n){return t.addTool(n)}))}},{key:"addTool",value:function(t){var n=this,e=t.toolbox;if(e)if(!e||e.icon){var i=f.default.make("li",[this.CSS.toolboxButton]);i.dataset.tool=t.name,i.innerHTML=e.icon,f.default.append(this.nodes.toolbox,i),this.nodes.toolbox.appendChild(i),this.nodes.buttons.push(i),this.listeners.on(i,"click",(function(e){n.toolButtonActivate(e,t.name)}));var r=this.drawTooltip(t);this.tooltip.onHover(i,r,{placement:"bottom",hidingDelay:200});var o=t.shortcut;o&&this.enableShortcut(t.name,o),this.displayedToolsCount++}else l.log("Toolbar icon is missed. Tool %o skipped","warn",t.name)}},{key:"drawTooltip",value:function(t){var n=v.default.t(p.I18nInternalNS.toolNames,(t.toolbox||{}).title||t.name),e=t.shortcut,i=f.default.make("div",this.CSS.buttonTooltip),r=document.createTextNode(l.capitalize(n));return i.appendChild(r),e&&(e=l.beautifyShortcut(e),i.appendChild(f.default.make("div",this.CSS.buttonShortcut,{textContent:e}))),i}},{key:"enableShortcut",value:function(t,n){var e=this;b.default.add({name:n,handler:function(n){n.preventDefault(),e.insertNewBlock(t)},on:this.Editor.UI.nodes.redactor})}},{key:"removeAllShortcuts",value:function(){var t=this;Array.from(this.Editor.Tools.blockTools.values()).forEach((function(n){var e=n.shortcut;e&&b.default.remove(t.Editor.UI.nodes.redactor,e)}))}},{key:"enableFlipper",value:function(){var t=Array.from(this.nodes.toolbox.childNodes);this.flipper=new h.default({items:t,focusedItemClass:this.CSS.toolboxButtonActive})}},{key:"insertNewBlock",value:function(t){var n=this.Editor,e=n.BlockManager,i=n.Caret,r=e.insert({tool:t,replace:e.currentBlock.isEmpty});r.call(d.BlockToolAPI.APPEND_CALLBACK),this.Editor.Caret.setToBlock(r),0===r.inputs.length&&(r===e.lastBlock?(e.insertAtEnd(),i.setToBlock(e.lastBlock)):i.setToBlock(e.nextBlock)),this.Editor.Toolbar.close()}},{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxButton:"ce-toolbox__button",toolboxButtonActive:"ce-toolbox__button--active",toolboxOpened:"ce-toolbox--opened",openedToolbarHolderModifier:"codex-editor--toolbox-opened",buttonTooltip:"ce-toolbox-button-tooltip",buttonShortcut:"ce-toolbox-button-tooltip__shortcut"}}},{key:"isEmpty",get:function(){return 0===this.displayedToolsCount}}]),i}(s.default);i.default=k,k.displayName="Toolbox",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(42),e(30),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(80),e(382),e(9),e(7),e(383),e(384),e(385),e(386),e(387),e(393),e(394),e(395),e(181)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v,p,b,g,m,y,w,k,x,_,j,E){var S=e(8),O=e(1);function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=O(r),o=O(o),u=O(u),a=O(a),c=O(c),s=O(s),f=O(f),l=O(l),h=O(h),d=O(d),v=O(v),p=O(p),b=S(b),g=O(g),m=O(m),y=O(y),w=O(w),k=O(k),x=O(x),_=O(_),j=O(j),E=O(E);var A=function(t){(0,f.default)(d,t);var n,e,i=(n=d,function(){var t,e=(0,h.default)(n);if(T()){var i=(0,h.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,l.default)(this,t)});function d(){var t;return(0,c.default)(this,d),(t=i.apply(this,arguments)).stubTool="stub",t.toolsAvailable=new E.default,t.toolsUnavailable=new E.default,t}return(0,s.default)(d,[{key:"prepare",value:(e=(0,a.default)(u.default.mark((function t(){var n,e,i=this;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validateTools(),this.config.tools=b.deepMerge({},this.internalTools,this.config.tools),Object.prototype.hasOwnProperty.call(this.config,"tools")&&0!==Object.keys(this.config.tools).length){t.next=4;break}throw Error("Can't start without tools");case 4:if(n=this.prepareConfig(),this.factory=new k.default(n,this.config,this.Editor.API),0!==(e=this.getListOfPrepareFunctions(n)).length){t.next=9;break}return t.abrupt("return",Promise.resolve());case 9:return t.next=11,b.sequence(e,(function(t){i.toolPrepareMethodSuccess(t)}),(function(t){i.toolPrepareMethodFallback(t)}));case 11:this.prepareBlockTools();case 12:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"getAllInlineToolsSanitizeConfig",value:function(){var t={};return Array.from(this.inlineTools.values()).forEach((function(n){Object.assign(t,n.sanitizeConfig)})),t}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var t=(0,a.default)(u.default.mark((function t(n){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b.isFunction(n.reset)){t.next=3;break}return t.next=3,n.reset();case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}},{key:"toolPrepareMethodSuccess",value:function(t){var n=this.factory.get(t.toolName);if(n.isInline()){var e=["render","surround","checkState"].filter((function(t){return!n.create()[t]}));if(e.length)return b.log("Incorrect Inline Tool: ".concat(n.name,". Some of required methods is not implemented %o"),"warn",e),void this.toolsUnavailable.set(n.name,n)}this.toolsAvailable.set(n.name,n)}},{key:"toolPrepareMethodFallback",value:function(t){this.toolsUnavailable.set(t.toolName,this.factory.get(t.toolName))}},{key:"getListOfPrepareFunctions",value:function(t){var n=[];return Object.entries(t).forEach((function(t){var e=(0,o.default)(t,2),i=e[0],r=e[1];n.push({function:b.isFunction(r.class.prepare)?r.class.prepare:function(){},data:{toolName:i}})})),n}},{key:"prepareBlockTools",value:function(){var t=this;Array.from(this.blockTools.values()).forEach((function(n){t.assignInlineToolsToBlockTool(n),t.assignBlockTunesToBlockTool(n)}))}},{key:"assignInlineToolsToBlockTool",value:function(t){var n=this;!1!==this.config.inlineToolbar&&(!0!==t.enabledInlineTools?Array.isArray(t.enabledInlineTools)&&(t.inlineTools=new E.default(t.enabledInlineTools.map((function(t){return[t,n.inlineTools.get(t)]})))):t.inlineTools=new E.default(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((function(t){return[t,n.inlineTools.get(t)]})):Array.from(this.inlineTools.entries())))}},{key:"assignBlockTunesToBlockTool",value:function(t){var n=this;if(!1!==t.enabledBlockTunes)if(Array.isArray(t.enabledBlockTunes)){var e=new E.default(t.enabledBlockTunes.map((function(t){return[t,n.blockTunes.get(t)]})));t.tunes=new E.default([].concat((0,r.default)(e),(0,r.default)(this.blockTunes.internalTools)))}else if(Array.isArray(this.config.tunes)){var i=new E.default(this.config.tunes.map((function(t){return[t,n.blockTunes.get(t)]})));t.tunes=new E.default([].concat((0,r.default)(i),(0,r.default)(this.blockTunes.internalTools)))}else t.tunes=this.blockTunes.internalTools}},{key:"validateTools",value:function(){for(var t in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,t)){if(t in this.internalTools)return;var n=this.config.tools[t];if(!b.isFunction(n)&&!b.isFunction(n.class))throw Error("Tool ".concat(t," must be a constructor function or an object with function in the class property"))}}},{key:"prepareConfig",value:function(){var t={};for(var n in this.config.tools)t[n]=b.isObject(this.config.tools[n])?this.config.tools[n]:{class:this.config.tools[n]};return t}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"internalTools",get:function(){return{bold:{class:g.default,isInternal:!0},italic:{class:m.default,isInternal:!0},link:{class:y.default,isInternal:!0},paragraph:{class:v.default,inlineToolbar:!0,isInternal:!0},stub:{class:w.default,isInternal:!0},moveUpTune:{class:j.default,isInternal:!0},deleteTune:{class:_.default,isInternal:!0},moveDownTune:{class:x.default,isInternal:!0}}}}]),d}(p.default);i.default=A,A.displayName="Tools",function(t,n,e,i){var r,o=arguments.length,u=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,d.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,e,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(u=(o<3?r(u):o>3?r(n,e,u):r(n,e))||u);o>3&&u&&Object.defineProperty(n,e,u)}([b.cacheable],A.prototype,"getAllInlineToolsSanitizeConfig",null),t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(30),e(2),e(3),e(5),e(6),e(4),e(148)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f){var l=e(1);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=l(r),o=l(o),u=l(u),a=l(a),c=l(c),s=l(s);var d=function(t){(0,a.default)(i,t);var n,e=(n=i,function(){var t,e=(0,s.default)(n);if(h()){var i=(0,s.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,c.default)(this,t)});function i(){return(0,o.default)(this,i),e.apply(this,arguments)}return(0,u.default)(i,[{key:"blockTools",get:function(){return new i(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isBlock()})))}},{key:"inlineTools",get:function(){return new i(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isInline()})))}},{key:"blockTunes",get:function(){return new i(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isTune()})))}},{key:"internalTools",get:function(){return new i(Array.from(this.entries()).filter((function(t){return(0,r.default)(t,2)[1].isInternal})))}},{key:"externalTools",get:function(){return new i(Array.from(this.entries()).filter((function(t){return!(0,r.default)(t,2)[1].isInternal})))}}]),i}((0,(f=l(f)).default)(Map));i.default=d,d.displayName="ToolsCollection",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(30),e(42),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(396),e(9),e(15),e(7),e(25),e(61),e(60)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d,v,p,b,g,m,y){var w=e(8),k=e(1);function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=k(r),o=k(o),u=k(u),a=k(a),c=k(c),s=k(s),f=k(f),l=k(l),h=k(h),d=k(d),v=k(v),p=k(p),b=w(b),g=k(g),m=k(m),y=k(y);var _=function(t){(0,f.default)(w,t);var n,i,v=(n=w,function(){var t,e=(0,h.default)(n);if(x()){var i=(0,h.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,l.default)(this,t)});function w(){var t;return(0,c.default)(this,w),(t=v.apply(this,arguments)).isMobile=!1,t.contentRectCache=void 0,t.resizeDebouncer=b.debounce((function(){t.windowResize()}),200),t}return(0,s.default)(w,[{key:"addLoader",value:function(){this.nodes.loader=p.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(i=(0,a.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.appendSVGSprite(),this.loadStyles();case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"toggleReadOnly",value:function(t){t?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,this.Editor.BlockManager.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var t=this.Editor,n=t.Toolbox,e=t.InlineToolbar,i=t.ConversionToolbar;t.BlockSettings.close(),e.close(),i.close(),n.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:function(){this.nodes.holder=p.default.getHolder(this.config.holder),this.nodes.wrapper=p.default.make("div",[this.CSS.editorWrapper].concat((0,o.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=p.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var t=e(397);if(!p.default.get("editor-js-styles")){var n=p.default.make("style",null,{id:"editor-js-styles",textContent:t.toString()});p.default.prepend(document.head,n)}}},{key:"enableModuleBindings",value:function(){var t=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(function(n){t.redactorClicked(n)}),!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(function(n){t.documentTouched(n)}),!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(function(n){t.documentTouched(n)}),!0),this.readOnlyMutableListeners.on(document,"keydown",(function(n){t.documentKeydown(n)}),!0),this.readOnlyMutableListeners.on(document,"click",(function(n){t.documentClicked(n)}),!0),this.readOnlyMutableListeners.on(document,"selectionchange",(function(n){t.selectionChanged(n)}),!0),this.readOnlyMutableListeners.on(window,"resize",(function(){t.resizeDebouncer()}),{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(t){switch(t.keyCode){case b.keyCodes.ENTER:this.enterPressed(t);break;case b.keyCodes.BACKSPACE:this.backspacePressed(t);break;case b.keyCodes.ESC:this.escapePressed(t);break;default:this.defaultBehaviour(t)}}},{key:"defaultBehaviour",value:function(t){var n=this.Editor.BlockManager.currentBlock,e=t.target.closest(".".concat(this.CSS.editorWrapper));void 0===n||null!==e?e||n&&(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(t)}},{key:"backspacePressed",value:function(t){var n=this.Editor,e=n.BlockManager,i=n.BlockSelection,r=n.Caret;if(i.anyBlockSelected&&!g.default.isSelectionExists){var o=e.removeSelectedBlocks();r.setToBlock(e.insertDefaultBlockAtIndex(o,!0),r.positions.START),i.clearSelection(t),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}},{key:"escapePressed",value:function(t){this.Editor.BlockSelection.clearSelection(t),this.Editor.Toolbox.opened?this.Editor.Toolbox.close():this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(t){var n=this.Editor,e=n.BlockSelection,i=n.BlockManager.currentBlockIndex>=0;if(e.anyBlockSelected&&!g.default.isSelectionExists)return e.clearSelection(t),t.preventDefault(),t.stopImmediatePropagation(),void t.stopPropagation();if(!this.someToolbarOpened&&i&&"BODY"===t.target.tagName){var r=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(r),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.move(),this.Editor.Toolbar.plusButton.show()}this.Editor.BlockSelection.clearSelection(t)}},{key:"documentClicked",value:function(t){t.isTrusted&&(this.nodes.holder.contains(t.target)||g.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.InlineToolbar.close(),this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close()),this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted||this.Editor.BlockSelection.clearSelection(t))}},{key:"documentTouched",value:function(t){var n=t.target;if(n===this.nodes.redactor){var e=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,i=t instanceof MouseEvent?t.clientY:t.touches[0].clientY;n=document.elementFromPoint(e,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch(t){this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.open(),this.Editor.Toolbar.plusButton.hide()}},{key:"redactorClicked",value:function(t){if(g.default.isCollapsed){var n=function(){t.stopImmediatePropagation(),t.stopPropagation()},e=t.target,i=t.metaKey||t.ctrlKey;if(p.default.isAnchor(e)&&i){n();var r=e.getAttribute("href"),o=b.getValidUrl(r);b.openTab(o)}else{if(t.target instanceof Element&&t.target.isEqualNode(this.nodes.redactor)){n();var u=this.Editor,a=u.BlockManager,c=u.Caret,s=u.Toolbar;a.lastBlock.tool.isDefault&&a.lastBlock.isEmpty||a.insertAtEnd(),c.setToTheLastBlock(),s.move()}this.Editor.BlockManager.currentBlock.tool.isDefault&&(n(),this.Editor.BlockManager.currentBlock.isEmpty&&this.Editor.Toolbar.plusButton.show())}}}},{key:"selectionChanged",value:function(){var t=this.Editor,n=g.default.anchorElement;t.CrossBlockSelection.isCrossBlockSelectionStarted&&t.BlockSelection.anyBlockSelected&&g.default.get().removeAllRanges(),n&&n.closest(".".concat(m.default.CSS.content))?(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.InlineToolbar.tryToShow(!0)):this.Editor.InlineToolbar.containsNode(n)||this.Editor.InlineToolbar.close()}},{key:"appendSVGSprite",value:function(){var t=p.default.make("div");t.hidden=!0,t.style.display="none",t.innerHTML=d.default,p.default.append(this.nodes.wrapper,t)}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var t=this.nodes.wrapper.querySelector(".".concat(m.default.CSS.content));return t?(this.contentRectCache=t.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var t=this.Editor;return t.BlockSettings.opened||t.InlineToolbar.opened||t.ConversionToolbar.opened||t.Toolbox.opened}},{key:"someFlipperButtonFocused",get:function(){return Object.entries(this.Editor).filter((function(t){return(0,r.default)(t,2)[1].flipper instanceof y.default})).some((function(t){return(0,r.default)(t,2)[1].flipper.currentItem}))}}]),w}(v.default);i.default=_,_.displayName="UI",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){e(184),t.exports=e(356)},function(t,n,e){e(185)},function(t,n,e){e(186),e(329),e(331),e(334),e(336),e(338),e(340),e(342),e(344),e(346),e(348),e(350),e(352),e(143)},function(t,n,e){e(187),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(215),e(216),e(217),e(218),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(227),e(228),e(229),e(230),e(231),e(233),e(234),e(235),e(236),e(237),e(238),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(268),e(269),e(271),e(272),e(273),e(274),e(275),e(276),e(277),e(279),e(280),e(281),e(282),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(105),e(292),e(132),e(293),e(133),e(294),e(295),e(296),e(297),e(134),e(300),e(301),e(302),e(303),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),t.exports=e(17)},function(t,n,e){var i=e(10),r=e(26),o=e(18),u=e(0),a=e(21),c=e(41).KEY,s=e(11),f=e(68),l=e(53),h=e(44),d=e(14),v=e(86),p=e(113),b=e(189),g=e(71),m=e(12),y=e(13),w=e(20),k=e(28),x=e(40),_=e(43),j=e(48),E=e(116),S=e(34),O=e(70),T=e(19),A=e(46),M=S.f,R=T.f,F=E.f,C=i.Symbol,I=i.JSON,B=I&&I.stringify,z=d("_hidden"),L=d("toPrimitive"),D={}.propertyIsEnumerable,P=f("symbol-registry"),N=f("symbols"),U=f("op-symbols"),H=Object.prototype,$="function"==typeof C&&!!O.f,V=i.QObject,W=!V||!V.prototype||!V.prototype.findChild,G=o&&s((function(){return 7!=j(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,n,e){var i=M(H,n);i&&delete H[n],R(t,n,e),i&&t!==H&&R(H,n,i)}:R,q=function(t){var n=N[t]=j(C.prototype);return n._k=t,n},X=$&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},Y=function(t,n,e){return t===H&&Y(U,n,e),m(t),n=x(n,!0),m(e),r(N,n)?(e.enumerable?(r(t,z)&&t[z][n]&&(t[z][n]=!1),e=j(e,{enumerable:_(0,!1)})):(r(t,z)||R(t,z,_(1,{})),t[z][n]=!0),G(t,n,e)):R(t,n,e)},Z=function(t,n){m(t);for(var e,i=b(n=k(n)),r=0,o=i.length;o>r;)Y(t,e=i[r++],n[e]);return t},J=function(t){var n=D.call(this,t=x(t,!0));return!(this===H&&r(N,t)&&!r(U,t))&&(!(n||!r(this,t)||!r(N,t)||r(this,z)&&this[z][t])||n)},K=function(t,n){if(t=k(t),n=x(n,!0),t!==H||!r(N,n)||r(U,n)){var e=M(t,n);return!e||!r(N,n)||r(t,z)&&t[z][n]||(e.enumerable=!0),e}},Q=function(t){for(var n,e=F(k(t)),i=[],o=0;e.length>o;)r(N,n=e[o++])||n==z||n==c||i.push(n);return i},tt=function(t){for(var n,e=t===H,i=F(e?U:k(t)),o=[],u=0;i.length>u;)!r(N,n=i[u++])||e&&!r(H,n)||o.push(N[n]);return o};$||(a((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(e){this===H&&n.call(U,e),r(this,z)&&r(this[z],t)&&(this[z][t]=!1),G(this,t,_(1,e))};return o&&W&&G(H,t,{configurable:!0,set:n}),q(t)}).prototype,"toString",(function(){return this._k})),S.f=K,T.f=Y,e(49).f=E.f=Q,e(63).f=J,O.f=tt,o&&!e(45)&&a(H,"propertyIsEnumerable",J,!0),v.f=function(t){return q(d(t))}),u(u.G+u.W+u.F*!$,{Symbol:C});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var it=A(d.store),rt=0;it.length>rt;)p(it[rt++]);u(u.S+u.F*!$,"Symbol",{for:function(t){return r(P,t+="")?P[t]:P[t]=C(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var n in P)if(P[n]===t)return n},useSetter:function(){W=!0},useSimple:function(){W=!1}}),u(u.S+u.F*!$,"Object",{create:function(t,n){return void 0===n?j(t):Z(j(t),n)},defineProperty:Y,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var ot=s((function(){O.f(1)}));u(u.S+u.F*ot,"Object",{getOwnPropertySymbols:function(t){return O.f(w(t))}}),I&&u(u.S+u.F*(!$||s((function(){var t=C();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var n,e,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(e=n=i[1],(y(n)||void 0!==t)&&!X(t))return g(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!X(n))return n}),i[1]=n,B.apply(I,i)}}),C.prototype[L]||e(27)(C.prototype,L,C.prototype.valueOf),l(C,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},function(t,n,e){t.exports=e(68)("native-function-to-string",Function.toString)},function(t,n,e){var i=e(46),r=e(70),o=e(63);t.exports=function(t){var n=i(t),e=r.f;if(e)for(var u,a=e(t),c=o.f,s=0;a.length>s;)c.call(t,u=a[s++])&&n.push(u);return n}},function(t,n,e){var i=e(0);i(i.S,"Object",{create:e(48)})},function(t,n,e){var i=e(0);i(i.S+i.F*!e(18),"Object",{defineProperty:e(19).f})},function(t,n,e){var i=e(0);i(i.S+i.F*!e(18),"Object",{defineProperties:e(115)})},function(t,n,e){var i=e(28),r=e(34).f;e(35)("getOwnPropertyDescriptor",(function(){return function(t,n){return r(i(t),n)}}))},function(t,n,e){var i=e(20),r=e(50);e(35)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},function(t,n,e){var i=e(20),r=e(46);e(35)("keys",(function(){return function(t){return r(i(t))}}))},function(t,n,e){e(35)("getOwnPropertyNames",(function(){return e(116).f}))},function(t,n,e){var i=e(13),r=e(41).onFreeze;e(35)("freeze",(function(t){return function(n){return t&&i(n)?t(r(n)):n}}))},function(t,n,e){var i=e(13),r=e(41).onFreeze;e(35)("seal",(function(t){return function(n){return t&&i(n)?t(r(n)):n}}))},function(t,n,e){var i=e(13),r=e(41).onFreeze;e(35)("preventExtensions",(function(t){return function(n){return t&&i(n)?t(r(n)):n}}))},function(t,n,e){var i=e(13);e(35)("isFrozen",(function(t){return function(n){return!i(n)||!!t&&t(n)}}))},function(t,n,e){var i=e(13);e(35)("isSealed",(function(t){return function(n){return!i(n)||!!t&&t(n)}}))},function(t,n,e){var i=e(13);e(35)("isExtensible",(function(t){return function(n){return!!i(n)&&(!t||t(n))}}))},function(t,n,e){var i=e(0);i(i.S+i.F,"Object",{assign:e(117)})},function(t,n,e){var i=e(0);i(i.S,"Object",{is:e(118)})},function(t,n,e){var i=e(0);i(i.S,"Object",{setPrototypeOf:e(90).set})},function(t,n,e){var i=e(64),r={};r[e(14)("toStringTag")]="z",r+""!="[object z]"&&e(21)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},function(t,n,e){var i=e(0);i(i.P,"Function",{bind:e(119)})},function(t,n,e){var i=e(19).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||e(18)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,e){var i=e(13),r=e(50),o=e(14)("hasInstance"),u=Function.prototype;o in u||e(19).f(u,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,e){var i=e(0),r=e(121);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,n,e){var i=e(0),r=e(122);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,n,e){var i=e(10),r=e(26),o=e(37),u=e(92),a=e(40),c=e(11),s=e(49).f,f=e(34).f,l=e(19).f,h=e(54).trim,d=i.Number,v=d,p=d.prototype,b="Number"==o(e(48)(p)),g="trim"in String.prototype,m=function(t){var n=a(t,!1);if("string"==typeof n&&n.length>2){var e,i,r,o=(n=g?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+n}for(var u,c=n.slice(2),s=0,f=c.length;s<f;s++)if((u=c.charCodeAt(s))<48||u>r)return NaN;return parseInt(c,i)}}return+n};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof d&&(b?c((function(){p.valueOf.call(e)})):"Number"!=o(e))?u(new v(m(n)),e,d):m(n)};for(var y,w=e(18)?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)r(v,y=w[k])&&!r(d,y)&&l(d,y,f(v,y));d.prototype=p,p.constructor=d,e(21)(i,"Number",d)}},function(t,n,e){var i=e(0),r=e(33),o=e(123),u=e(93),a=1..toFixed,c=Math.floor,s=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l=function(t,n){for(var e=-1,i=n;++e<6;)s[e]=(i+=t*s[e])%1e7,i=c(i/1e7)},h=function(t){for(var n=6,e=0;--n>=0;)s[n]=c((e+=s[n])/t),e=e%t*1e7},d=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==s[t]){var e=String(s[t]);n=""===n?e:n+u.call("0",7-e.length)+e}return n},v=function(t,n,e){return 0===n?e:n%2==1?v(t,n-1,e*t):v(t*t,n/2,e)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(11)((function(){a.call({})}))),"Number",{toFixed:function(t){var n,e,i,a,c=o(this,f),s=r(t),p="",b="0";if(s<0||s>20)throw RangeError(f);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=(n=function(t){for(var n=0,e=t;e>=4096;)n+=12,e/=4096;for(;e>=2;)n+=1,e/=2;return n}(c*v(2,69,1))-69)<0?c*v(2,-n,1):c/v(2,n,1),e*=4503599627370496,(n=52-n)>0){for(l(0,e),i=s;i>=7;)l(1e7,0),i-=7;for(l(v(10,i,1),0),i=n-1;i>=23;)h(1<<23),i-=23;h(1<<i),l(1,1),h(2),b=d()}else l(0,e),l(1<<-n,0),b=d()+u.call("0",s);return s>0?p+((a=b.length)<=s?"0."+u.call("0",s-a)+b:b.slice(0,a-s)+"."+b.slice(a-s)):p+b}})},function(t,n,e){var i=e(0),r=e(11),o=e(123),u=1..toPrecision;i(i.P+i.F*(r((function(){return"1"!==u.call(1,void 0)}))||!r((function(){u.call({})}))),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,e){var i=e(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,e){var i=e(0),r=e(10).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,n,e){var i=e(0);i(i.S,"Number",{isInteger:e(124)})},function(t,n,e){var i=e(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,e){var i=e(0),r=e(124),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,n,e){var i=e(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,e){var i=e(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,e){var i=e(0),r=e(122);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,n,e){var i=e(0),r=e(121);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,n,e){var i=e(0),r=e(125),o=Math.sqrt,u=Math.acosh;i(i.S+i.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,n,e){var i=e(0),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(t,n,e){var i=e(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,e){var i=e(0),r=e(94);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,e){var i=e(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,e){var i=e(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,n,e){var i=e(0),r=e(95);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,n,e){var i=e(0);i(i.S,"Math",{fround:e(232)})},function(t,n,e){var i=e(94),r=Math.pow,o=r(2,-52),u=r(2,-23),a=r(2,127)*(2-u),c=r(2,-126);t.exports=Math.fround||function(t){var n,e,r=Math.abs(t),s=i(t);return r<c?s*(r/c/u+1/o-1/o)*c*u:(e=(n=(1+u/o)*r)-(n-r))>a||e!=e?s*(1/0):s*e}},function(t,n,e){var i=e(0),r=Math.abs;i(i.S,"Math",{hypot:function(t,n){for(var e,i,o=0,u=0,a=arguments.length,c=0;u<a;)c<(e=r(arguments[u++]))?(o=o*(i=c/e)*i+1,c=e):o+=e>0?(i=e/c)*i:e;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,n,e){var i=e(0),r=Math.imul;i(i.S+i.F*e(11)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,n){var e=+t,i=+n,r=65535&e,o=65535&i;return 0|r*o+((65535&e>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,n,e){var i=e(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,e){var i=e(0);i(i.S,"Math",{log1p:e(125)})},function(t,n,e){var i=e(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,e){var i=e(0);i(i.S,"Math",{sign:e(94)})},function(t,n,e){var i=e(0),r=e(95),o=Math.exp;i(i.S+i.F*e(11)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,e){var i=e(0),r=e(95),o=Math.exp;i(i.S,"Math",{tanh:function(t){var n=r(t=+t),e=r(-t);return n==1/0?1:e==1/0?-1:(n-e)/(o(t)+o(-t))}})},function(t,n,e){var i=e(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,e){var i=e(0),r=e(47),o=String.fromCharCode,u=String.fromCodePoint;i(i.S+i.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,e=[],i=arguments.length,u=0;i>u;){if(n=+arguments[u++],r(n,1114111)!==n)throw RangeError(n+" is not a valid code point");e.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return e.join("")}})},function(t,n,e){var i=e(0),r=e(28),o=e(16);i(i.S,"String",{raw:function(t){for(var n=r(t.raw),e=o(n.length),i=arguments.length,u=[],a=0;e>a;)u.push(String(n[a++])),a<i&&u.push(String(arguments[a]));return u.join("")}})},function(t,n,e){e(54)("trim",(function(t){return function(){return t(this,3)}}))},function(t,n,e){var i=e(96)(!0);e(97)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=i(n,e),this._i+=t.length,{value:t,done:!1})}))},function(t,n,e){var i=e(0),r=e(96)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,n,e){var i=e(0),r=e(16),o=e(98),u="".endsWith;i(i.P+i.F*e(100)("endsWith"),"String",{endsWith:function(t){var n=o(this,t,"endsWith"),e=arguments.length>1?arguments[1]:void 0,i=r(n.length),a=void 0===e?i:Math.min(r(e),i),c=String(t);return u?u.call(n,c,a):n.slice(a-c.length,a)===c}})},function(t,n,e){var i=e(0),r=e(98);i(i.P+i.F*e(100)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,e){var i=e(0);i(i.P,"String",{repeat:e(93)})},function(t,n,e){var i=e(0),r=e(16),o=e(98),u="".startsWith;i(i.P+i.F*e(100)("startsWith"),"String",{startsWith:function(t){var n=o(this,t,"startsWith"),e=r(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),i=String(t);return u?u.call(n,i,e):n.slice(e,e+i.length)===i}})},function(t,n,e){e(22)("anchor",(function(t){return function(n){return t(this,"a","name",n)}}))},function(t,n,e){e(22)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,n,e){e(22)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,n,e){e(22)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,n,e){e(22)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,n,e){e(22)("fontcolor",(function(t){return function(n){return t(this,"font","color",n)}}))},function(t,n,e){e(22)("fontsize",(function(t){return function(n){return t(this,"font","size",n)}}))},function(t,n,e){e(22)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,n,e){e(22)("link",(function(t){return function(n){return t(this,"a","href",n)}}))},function(t,n,e){e(22)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,n,e){e(22)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,n,e){e(22)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,n,e){e(22)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,n,e){var i=e(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,e){var i=e(0),r=e(20),o=e(40);i(i.P+i.F*e(11)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(){var t=r(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(t,n,e){var i=e(0),r=e(267);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,n,e){var i=e(11),r=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),e=t.getUTCMilliseconds(),i=n<0?"-":n>9999?"+":"";return i+("00000"+Math.abs(n)).slice(i?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(e>99?e:"0"+u(e))+"Z"}:o},function(t,n,e){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&e(21)(i,"toString",(function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"}))},function(t,n,e){var i=e(14)("toPrimitive"),r=Date.prototype;i in r||e(27)(r,i,e(270))},function(t,n,e){var i=e(12),r=e(40);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,n,e){var i=e(0);i(i.S,"Array",{isArray:e(71)})},function(t,n,e){var i=e(31),r=e(0),o=e(20),u=e(127),a=e(101),c=e(16),s=e(102),f=e(103);r(r.S+r.F*!e(72)((function(t){Array.from(t)})),"Array",{from:function(t){var n,e,r,l,h=o(t),d="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,b=void 0!==p,g=0,m=f(h);if(b&&(p=i(p,v>2?arguments[2]:void 0,2)),null==m||d==Array&&a(m))for(e=new d(n=c(h.length));n>g;g++)s(e,g,b?p(h[g],g):h[g]);else for(l=m.call(h),e=new d;!(r=l.next()).done;g++)s(e,g,b?u(l,p,[r.value,g],!0):r.value);return e.length=g,e}})},function(t,n,e){var i=e(0),r=e(102);i(i.S+i.F*e(11)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,n=arguments.length,e=new("function"==typeof this?this:Array)(n);n>t;)r(e,t,arguments[t++]);return e.length=n,e}})},function(t,n,e){var i=e(0),r=e(28),o=[].join;i(i.P+i.F*(e(62)!=Object||!e(29)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,n,e){var i=e(0),r=e(89),o=e(37),u=e(47),a=e(16),c=[].slice;i(i.P+i.F*e(11)((function(){r&&c.call(r)})),"Array",{slice:function(t,n){var e=a(this.length),i=o(this);if(n=void 0===n?e:n,"Array"==i)return c.call(this,t,n);for(var r=u(t,e),s=u(n,e),f=a(s-r),l=new Array(f),h=0;h<f;h++)l[h]="String"==i?this.charAt(r+h):this[r+h];return l}})},function(t,n,e){var i=e(0),r=e(32),o=e(20),u=e(11),a=[].sort,c=[1,2,3];i(i.P+i.F*(u((function(){c.sort(void 0)}))||!u((function(){c.sort(null)}))||!e(29)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,n,e){var i=e(0),r=e(36)(0),o=e(29)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,n,e){var i=e(13),r=e(71),o=e(14)("species");t.exports=function(t){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)||(n=void 0),i(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,e){var i=e(0),r=e(36)(1);i(i.P+i.F*!e(29)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,n,e){var i=e(0),r=e(36)(2);i(i.P+i.F*!e(29)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,n,e){var i=e(0),r=e(36)(3);i(i.P+i.F*!e(29)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,n,e){var i=e(0),r=e(36)(4);i(i.P+i.F*!e(29)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,n,e){var i=e(0),r=e(129);i(i.P+i.F*!e(29)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,n,e){var i=e(0),r=e(129);i(i.P+i.F*!e(29)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,n,e){var i=e(0),r=e(69)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(u||!e(29)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,n,e){var i=e(0),r=e(28),o=e(33),u=e(16),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(c||!e(29)(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var n=r(this),e=u(n.length),i=e-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=e+i);i>=0;i--)if(i in n&&n[i]===t)return i||0;return-1}})},function(t,n,e){var i=e(0);i(i.P,"Array",{copyWithin:e(130)}),e(51)("copyWithin")},function(t,n,e){var i=e(0);i(i.P,"Array",{fill:e(104)}),e(51)("fill")},function(t,n,e){var i=e(0),r=e(36)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e(51)("find")},function(t,n,e){var i=e(0),r=e(36)(6),o="findIndex",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),i(i.P+i.F*u,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e(51)(o)},function(t,n,e){e(56)("Array")},function(t,n,e){var i=e(10),r=e(92),o=e(19).f,u=e(49).f,a=e(99),c=e(73),s=i.RegExp,f=s,l=s.prototype,h=/a/g,d=/a/g,v=new s(h)!==h;if(e(18)&&(!v||e(11)((function(){return d[e(14)("match")]=!1,s(h)!=h||s(d)==d||"/a/i"!=s(h,"i")})))){s=function(t,n){var e=this instanceof s,i=a(t),o=void 0===n;return!e&&i&&t.constructor===s&&o?t:r(v?new f(i&&!o?t.source:t,n):f((i=t instanceof s)?t.source:t,i&&o?c.call(t):n),e?this:l,s)};for(var p=function(t){t in s||o(s,t,{configurable:!0,get:function(){return f[t]},set:function(n){f[t]=n}})},b=u(f),g=0;b.length>g;)p(b[g++]);l.constructor=s,s.prototype=l,e(21)(i,"RegExp",s)}e(56)("RegExp")},function(t,n,e){e(133);var i=e(12),r=e(73),o=e(18),u=/./.toString,a=function(t){e(21)(RegExp.prototype,"toString",t,!0)};e(11)((function(){return"/a/b"!=u.call({source:"a",flags:"b"})}))?a((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):"toString"!=u.name&&a((function(){return u.call(this)}))},function(t,n,e){var i=e(12),r=e(16),o=e(107),u=e(74);e(75)("match",1,(function(t,n,e,a){return[function(e){var i=t(this),r=null==e?void 0:e[n];return void 0!==r?r.call(e,i):new RegExp(e)[n](String(i))},function(t){var n=a(e,t,this);if(n.done)return n.value;var c=i(t),s=String(this);if(!c.global)return u(c,s);var f=c.unicode;c.lastIndex=0;for(var l,h=[],d=0;null!==(l=u(c,s));){var v=String(l[0]);h[d]=v,""===v&&(c.lastIndex=o(s,r(c.lastIndex),f)),d++}return 0===d?null:h}]}))},function(t,n,e){var i=e(12),r=e(20),o=e(16),u=e(33),a=e(107),c=e(74),s=Math.max,f=Math.min,l=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;e(75)("replace",2,(function(t,n,e,v){return[function(i,r){var o=t(this),u=null==i?void 0:i[n];return void 0!==u?u.call(i,o,r):e.call(String(o),i,r)},function(t,n){var r=v(e,t,this,n);if(r.done)return r.value;var l=i(t),h=String(this),d="function"==typeof n;d||(n=String(n));var b=l.global;if(b){var g=l.unicode;l.lastIndex=0}for(var m=[];;){var y=c(l,h);if(null===y)break;if(m.push(y),!b)break;""===String(y[0])&&(l.lastIndex=a(h,o(l.lastIndex),g))}for(var w,k="",x=0,_=0;_<m.length;_++){y=m[_];for(var j=String(y[0]),E=s(f(u(y.index),h.length),0),S=[],O=1;O<y.length;O++)S.push(void 0===(w=y[O])?w:String(w));var T=y.groups;if(d){var A=[j].concat(S,E,h);void 0!==T&&A.push(T);var M=String(n.apply(void 0,A))}else M=p(j,h,E,S,T,n);E>=x&&(k+=h.slice(x,E)+M,x=E+j.length)}return k+h.slice(x)}];function p(t,n,i,o,u,a){var c=i+t.length,s=o.length,f=d;return void 0!==u&&(u=r(u),f=h),e.call(a,f,(function(e,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,i);case"'":return n.slice(c);case"<":a=u[r.slice(1,-1)];break;default:var f=+r;if(0===f)return e;if(f>s){var h=l(f/10);return 0===h?e:h<=s?void 0===o[h-1]?r.charAt(1):o[h-1]+r.charAt(1):e}a=o[f-1]}return void 0===a?"":a}))}}))},function(t,n,e){var i=e(12),r=e(118),o=e(74);e(75)("search",1,(function(t,n,e,u){return[function(e){var i=t(this),r=null==e?void 0:e[n];return void 0!==r?r.call(e,i):new RegExp(e)[n](String(i))},function(t){var n=u(e,t,this);if(n.done)return n.value;var a=i(t),c=String(this),s=a.lastIndex;r(s,0)||(a.lastIndex=0);var f=o(a,c);return r(a.lastIndex,s)||(a.lastIndex=s),null===f?-1:f.index}]}))},function(t,n,e){var i=e(99),r=e(12),o=e(65),u=e(107),a=e(16),c=e(74),s=e(106),f=e(11),l=Math.min,h=[].push,d="length",v=!f((function(){}));e(75)("split",2,(function(t,n,e,f){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return e.call(r,t,n);for(var o,u,a,c=[],f=0,l=void 0===n?4294967295:n>>>0,v=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(o=s.call(v,r))&&!((u=v.lastIndex)>f&&(c.push(r.slice(f,o.index)),o[d]>1&&o.index<r[d]&&h.apply(c,o.slice(1)),a=o[0][d],f=u,c[d]>=l));)v.lastIndex===o.index&&v.lastIndex++;return f===r[d]?!a&&v.test("")||c.push(""):c.push(r.slice(f)),c[d]>l?c.slice(0,l):c}:"0".split(void 0,0)[d]?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,i){var r=t(this),o=null==e?void 0:e[n];return void 0!==o?o.call(e,r,i):p.call(String(r),e,i)},function(t,n){var i=f(p,t,this,n,p!==e);if(i.done)return i.value;var s=r(t),h=String(this),d=o(s,RegExp),b=s.unicode,g=new d(v?s:"^(?:"+s.source+")",(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(v?"y":"g")),m=void 0===n?4294967295:n>>>0;if(0===m)return[];if(0===h.length)return null===c(g,h)?[h]:[];for(var y=0,w=0,k=[];w<h.length;){g.lastIndex=v?w:0;var x,_=c(g,v?h:h.slice(w));if(null===_||(x=l(a(g.lastIndex+(v?0:w)),h.length))===y)w=u(h,w,b);else{if(k.push(h.slice(y,w)),k.length===m)return k;for(var j=1;j<=_.length-1;j++)if(k.push(_[j]),k.length===m)return k;w=y=x}}return k.push(h.slice(y)),k}]}))},function(t,n,e){var i=e(10),r=e(108).set,o=i.MutationObserver||i.WebKitMutationObserver,u=i.process,a=i.Promise,c="process"==e(37)(u);t.exports=function(){var t,n,e,s=function(){var i,r;for(c&&(i=u.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?e():n=void 0,i}}n=void 0,i&&i.enter()};if(c)e=function(){u.nextTick(s)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);e=function(){f.then(s)}}else e=function(){r.call(i,s)};else{var l=!0,h=document.createTextNode("");new o(s).observe(h,{characterData:!0}),e=function(){h.data=l=!l}}return function(i){var r={fn:i,next:void 0};n&&(n.next=r),t||(t=r,e()),n=r}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,e){var i=e(137),r=e(52);t.exports=e(78)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var n=i.getEntry(r(this,"Map"),t);return n&&n.v},set:function(t,n){return i.def(r(this,"Map"),0===t?0:t,n)}},i,!0)},function(t,n,e){var i=e(137),r=e(52);t.exports=e(78)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,n,e){var i,r=e(10),o=e(36)(0),u=e(21),a=e(41),c=e(117),s=e(138),f=e(13),l=e(52),h=e(52),d=!r.ActiveXObject&&"ActiveXObject"in r,v=a.getWeak,p=Object.isExtensible,b=s.ufstore,g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(f(t)){var n=v(t);return!0===n?b(l(this,"WeakMap")).get(t):n?n[this._i]:void 0}},set:function(t,n){return s.def(l(this,"WeakMap"),t,n)}},y=t.exports=e(78)("WeakMap",g,m,s,!0,!0);h&&d&&(c((i=s.getConstructor(g,"WeakMap")).prototype,m),a.NEED=!0,o(["delete","has","get","set"],(function(t){var n=y.prototype,e=n[t];u(n,t,(function(n,r){if(f(n)&&!p(n)){this._f||(this._f=new i);var o=this._f[t](n,r);return"set"==t?this:o}return e.call(this,n,r)}))})))},function(t,n,e){var i=e(138),r=e(52);e(78)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,n,e){var i=e(0),r=e(79),o=e(109),u=e(12),a=e(47),c=e(16),s=e(13),f=e(10).ArrayBuffer,l=e(65),h=o.ArrayBuffer,d=o.DataView,v=r.ABV&&f.isView,p=h.prototype.slice,b=r.VIEW;i(i.G+i.W+i.F*(f!==h),{ArrayBuffer:h}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return v&&v(t)||s(t)&&b in t}}),i(i.P+i.U+i.F*e(11)((function(){return!new h(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,n){if(void 0!==p&&void 0===n)return p.call(u(this),t);for(var e=u(this).byteLength,i=a(t,e),r=a(void 0===n?e:n,e),o=new(l(this,h))(c(r-i)),s=new d(this),f=new d(o),v=0;i<r;)f.setUint8(v++,s.getUint8(i++));return o}}),e(56)("ArrayBuffer")},function(t,n,e){var i=e(0);i(i.G+i.W+i.F*!e(79).ABV,{DataView:e(109).DataView})},function(t,n,e){e(39)("Int8",1,(function(t){return function(n,e,i){return t(this,n,e,i)}}))},function(t,n,e){e(39)("Uint8",1,(function(t){return function(n,e,i){return t(this,n,e,i)}}))},function(t,n,e){e(39)("Uint8",1,(function(t){return function(n,e,i){return t(this,n,e,i)}}),!0)},function(t,n,e){e(39)("Int16",2,(function(t){return function(n,e,i){return t(this,n,e,i)}}))},function(t,n,e){e(39)("Uint16",2,(function(t){return function(n,e,i){return t(this,n,e,i)}}))},function(t,n,e){e(39)("Int32",4,(function(t){return function(n,e,i){return t(this,n,e,i)}}))},function(t,n,e){e(39)("Uint32",4,(function(t){return function(n,e,i){return t(this,n,e,i)}}))},function(t,n,e){e(39)("Float32",4,(function(t){return function(n,e,i){return t(this,n,e,i)}}))},function(t,n,e){e(39)("Float64",8,(function(t){return function(n,e,i){return t(this,n,e,i)}}))},function(t,n,e){var i=e(0),r=e(32),o=e(12),u=(e(10).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!e(11)((function(){u((function(){}))})),"Reflect",{apply:function(t,n,e){var i=r(t),c=o(e);return u?u(i,n,c):a.call(i,n,c)}})},function(t,n,e){var i=e(0),r=e(48),o=e(32),u=e(12),a=e(13),c=e(11),s=e(119),f=(e(10).Reflect||{}).construct,l=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),h=!c((function(){f((function(){}))}));i(i.S+i.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var e=arguments.length<3?t:o(arguments[2]);if(h&&!l)return f(t,n,e);if(t==e){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var i=[null];return i.push.apply(i,n),new(s.apply(t,i))}var c=e.prototype,d=r(a(c)?c:Object.prototype),v=Function.apply.call(t,d,n);return a(v)?v:d}})},function(t,n,e){var i=e(19),r=e(0),o=e(12),u=e(40);r(r.S+r.F*e(11)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,n,e){o(t),n=u(n,!0),o(e);try{return i.f(t,n,e),!0}catch(t){return!1}}})},function(t,n,e){var i=e(0),r=e(34).f,o=e(12);i(i.S,"Reflect",{deleteProperty:function(t,n){var e=r(o(t),n);return!(e&&!e.configurable)&&delete t[n]}})},function(t,n,e){var i=e(0),r=e(12),o=function(t){this._t=r(t),this._i=0;var n,e=this._k=[];for(n in t)e.push(n)};e(126)(o,"Object",(function(){var t,n=this._k;do{if(this._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[this._i++])in this._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,e){var i=e(34),r=e(50),o=e(26),u=e(0),a=e(13),c=e(12);u(u.S,"Reflect",{get:function t(n,e){var u,s,f=arguments.length<3?n:arguments[2];return c(n)===f?n[e]:(u=i.f(n,e))?o(u,"value")?u.value:void 0!==u.get?u.get.call(f):void 0:a(s=r(n))?t(s,e,f):void 0}})},function(t,n,e){var i=e(34),r=e(0),o=e(12);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return i.f(o(t),n)}})},function(t,n,e){var i=e(0),r=e(50),o=e(12);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,n,e){var i=e(0);i(i.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,e){var i=e(0),r=e(12),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,n,e){var i=e(0);i(i.S,"Reflect",{ownKeys:e(140)})},function(t,n,e){var i=e(0),r=e(12),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,e){var i=e(19),r=e(34),o=e(50),u=e(26),a=e(0),c=e(43),s=e(12),f=e(13);a(a.S,"Reflect",{set:function t(n,e,a){var l,h,d=arguments.length<4?n:arguments[3],v=r.f(s(n),e);if(!v){if(f(h=o(n)))return t(h,e,a,d);v=c(0)}if(u(v,"value")){if(!1===v.writable||!f(d))return!1;if(l=r.f(d,e)){if(l.get||l.set||!1===l.writable)return!1;l.value=a,i.f(d,e,l)}else i.f(d,e,c(0,a));return!0}return void 0!==v.set&&(v.set.call(d,a),!0)}})},function(t,n,e){var i=e(0),r=e(90);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,n){r.check(t,n);try{return r.set(t,n),!0}catch(t){return!1}}})},function(t,n,e){e(330),t.exports=e(17).Array.includes},function(t,n,e){var i=e(0),r=e(69)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e(51)("includes")},function(t,n,e){e(332),t.exports=e(17).Array.flatMap},function(t,n,e){var i=e(0),r=e(333),o=e(20),u=e(16),a=e(32),c=e(128);i(i.P,"Array",{flatMap:function(t){var n,e,i=o(this);return a(t),n=u(i.length),e=c(i,0),r(e,i,i,n,0,1,t,arguments[1]),e}}),e(51)("flatMap")},function(t,n,e){var i=e(71),r=e(13),o=e(16),u=e(31),a=e(14)("isConcatSpreadable");t.exports=function t(n,e,c,s,f,l,h,d){for(var v,p,b=f,g=0,m=!!h&&u(h,d,3);g<s;){if(g in c){if(v=m?m(c[g],g,e):c[g],p=!1,r(v)&&(p=void 0!==(p=v[a])?!!p:i(v)),p&&l>0)b=t(n,e,v,o(v.length),b,l-1)-1;else{if(b>=9007199254740991)throw TypeError();n[b]=v}b++}g++}return b}},function(t,n,e){e(335),t.exports=e(17).String.padStart},function(t,n,e){var i=e(0),r=e(141),o=e(77),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*u,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,e){e(337),t.exports=e(17).String.padEnd},function(t,n,e){var i=e(0),r=e(141),o=e(77),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*u,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,e){e(339),t.exports=e(17).String.trimLeft},function(t,n,e){e(54)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,n,e){e(341),t.exports=e(17).String.trimRight},function(t,n,e){e(54)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,n,e){e(343),t.exports=e(86).f("asyncIterator")},function(t,n,e){e(113)("asyncIterator")},function(t,n,e){e(345),t.exports=e(17).Object.getOwnPropertyDescriptors},function(t,n,e){var i=e(0),r=e(140),o=e(28),u=e(34),a=e(102);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,e,i=o(t),c=u.f,s=r(i),f={},l=0;s.length>l;)void 0!==(e=c(i,n=s[l++]))&&a(f,n,e);return f}})},function(t,n,e){e(347),t.exports=e(17).Object.values},function(t,n,e){var i=e(0),r=e(142)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,n,e){e(349),t.exports=e(17).Object.entries},function(t,n,e){var i=e(0),r=e(142)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,n,e){e(134),e(351),t.exports=e(17).Promise.finally},function(t,n,e){var i=e(0),r=e(17),o=e(10),u=e(65),a=e(136);i(i.P+i.R,"Promise",{finally:function(t){var n=u(this,r.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return a(n,t()).then((function(){return e}))}:t,e?function(e){return a(n,t()).then((function(){throw e}))}:t)}})},function(t,n,e){e(353),e(354),e(355),t.exports=e(17)},function(t,n,e){var i=e(10),r=e(0),o=e(77),u=[].slice,a=/MSIE .\./.test(o),c=function(t){return function(n,e){var i=arguments.length>2,r=!!i&&u.call(arguments,2);return t(i?function(){("function"==typeof n?n:Function(n)).apply(this,r)}:n,e)}};r(r.G+r.B+r.F*a,{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},function(t,n,e){var i=e(0),r=e(108);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,n,e){for(var i=e(105),r=e(46),o=e(21),u=e(10),a=e(27),c=e(55),s=e(14),f=s("iterator"),l=s("toStringTag"),h=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=r(d),p=0;p<v.length;p++){var b,g=v[p],m=d[g],y=u[g],w=y&&y.prototype;if(w&&(w[f]||a(w,f,h),w[l]||a(w,l,g),c[g]=h,m))for(b in i)w[b]||o(w,b,i[b],!0)}},function(t,n,e){var i,r,o;r=[n,e(30),e(2),e(3),e(360),e(362),e(363),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f){var l=e(8),h=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=h(r),o=h(o),u=h(u),s=h(s),f=l(f);var d=function(){function t(n){var e=this;(0,o.default)(this,t);var i=function(){};f.isObject(n)&&f.isFunction(n.onReady)&&(i=n.onReady);var r=new s.default(n);this.isReady=r.isReady.then((function(){e.exportAPI(r),i()}))}return(0,u.default)(t,[{key:"exportAPI",value:function(t){var n=this;["configuration"].forEach((function(e){n[e]=t[e]})),this.destroy=function(){for(var e in Object.values(t.moduleInstances).forEach((function(t){f.isFunction(t.destroy)&&t.destroy(),t.listeners.removeAll()})),t=null,n)Object.prototype.hasOwnProperty.call(n,e)&&delete n[e];Object.setPrototypeOf(n,null)},Object.setPrototypeOf(this,t.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach((function(e){var i=(0,r.default)(e,2),o=i[0];Object.entries(i[1]).forEach((function(e){var i=(0,r.default)(e,2);n[i[1]]=t.moduleInstances.API.methods[o][i[0]]}))}))}}],[{key:"version",get:function(){return"2.21.0"}}]),t}();i.default=d,d.displayName="EditorJS",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,r=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(i=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return e}}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,n,e){(n=t.exports=function(...t){return r(...t)}).__esModule=!0;const i=e(361),r=i.default;Object.assign(n,i)},function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){},n.revert=function(){}},function(t,n){var e,i;void 0===(i="function"==typeof(e=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var n=(this.document||this.ownerDocument).querySelectorAll(t),e=n.length;--e>=0&&n.item(e)!==this;);return e>-1}),Element.prototype.closest||(Element.prototype.closest=function(t){var n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(t){var n=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach((function(t){var e=t instanceof Node;n.appendChild(e?t:document.createTextNode(t))})),this.insertBefore(n,this.firstChild)})})?e.apply(n,[]):e)||(t.exports=i)},function(t,n,e){var i,r,o;r=[n,e(23),e(24),e(2),e(3),e(15),e(7),e(59),e(147),e(372)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h){var d=e(8),v=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=v(r),o=v(o),u=v(u),a=v(a),c=v(c),s=d(s),f=v(f),h=v(h);var p=e(373),b=[];p.keys().forEach((function(t){t.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&b.push(p(t))}));var g=function(){function t(n){var e,i,a=this;(0,u.default)(this,t),this.moduleInstances={},this.eventsDispatcher=new h.default,this.isReady=new Promise((function(t,n){e=t,i=n})),Promise.resolve().then((0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.configuration=n,t.next=3,a.validate();case 3:return t.next=5,a.init();case 5:return t.next=7,a.start();case 7:s.logLabeled("I'm ready! ()*:","log","","color: #E24A75"),setTimeout((0,o.default)(r.default.mark((function t(){var n,i,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.render();case 2:a.configuration.autofocus&&((o=(n=a.moduleInstances).Caret).setToBlock((i=n.BlockManager).blocks[0],o.positions.START),i.highlightCurrentNode()),a.moduleInstances.UI.removeLoader(),e();case 5:case"end":return t.stop()}}),t)}))),500);case 9:case"end":return t.stop()}}),t)})))).catch((function(t){s.log("Editor.js is not ready because of ".concat(t),"error"),i(t)}))}var n,e;return(0,a.default)(t,[{key:"validate",value:(e=(0,o.default)(r.default.mark((function t(){var n,e;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(n=this.config).holder,!n.holderId||!e){t.next=3;break}throw Error("holderId and holder param can't assign at the same time.");case 3:if(!s.isString(e)||c.default.get(e)){t.next=5;break}throw Error("element with ID ".concat(e," is missing. Pass correct holder's ID."));case 5:if(!e||!s.isObject(e)||c.default.isElement(e)){t.next=7;break}throw Error("holder value must be an Element node");case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(n=(0,o.default)(r.default.mark((function t(){var n,e=this;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],t.next=3,n.reduce((function(t,n){return t.then((0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.moduleInstances[n].prepare();case 3:t.next=10;break;case 5:if(t.prev=5,t.t0=t.catch(0),!(t.t0 instanceof l.CriticalError)){t.next=9;break}throw new Error(t.t0.message);case 9:s.log("Module ".concat(n," was skipped because of %o"),"warn",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,5]])}))))}),Promise.resolve());case 3:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var t=this;b.forEach((function(n){var e=s.isFunction(n)?n:n.default;try{t.moduleInstances[e.displayName]=new e({config:t.configuration,eventsDispatcher:t.eventsDispatcher})}catch(t){s.log("Module ".concat(e.displayName," skipped because"),"warn",t)}}))}},{key:"configureModules",value:function(){for(var t in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,t)&&(this.moduleInstances[t].state=this.getModulesDiff(t))}},{key:"getModulesDiff",value:function(t){var n={};for(var e in this.moduleInstances)e!==t&&(n[e]=this.moduleInstances[e]);return n}},{key:"configuration",set:function(t){var n,e;this.config=s.isObject(t)?Object.assign({},t):{holder:t},s.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),null==this.config.holder&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=s.LogLevels.VERBOSE),s.setLogLevel(this.config.logLevel),s.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=void 0!==this.config.minHeight?this.config.minHeight:300;var i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=void 0===this.config.inlineToolbar||this.config.inlineToolbar,!s.isEmpty(this.config.data)&&this.config.data.blocks&&0!==this.config.data.blocks.length||(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(null===(n=this.config.i18n)||void 0===n?void 0:n.messages)&&f.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=(null===(e=this.config.i18n)||void 0===e?void 0:e.direction)||"ltr"},get:function(){return this.config}}]),t}();i.default=g,g.displayName="Core",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i=e(145);t.exports=function(t){if(Array.isArray(t))return i(t)}},function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}},function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,n,e){var i=e(110),r=e(371);function o(n,e,u){return t.exports=o=r()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&i(o,e.prototype),o},o.apply(null,arguments)}t.exports=o},function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,n,e){var i,r,o;r=[n,e(2),e(3)],void 0===(o="function"==typeof(i=function(i,r,o){var u=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=u(r),o=u(o);var a=function(){function t(){(0,r.default)(this,t),this.subscribers={}}return(0,o.default)(t,[{key:"on",value:function(t,n){t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push(n)}},{key:"once",value:function(t,n){var e=this;t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push((function i(r){var o=n(r),u=e.subscribers[t].indexOf(i);return-1!==u&&e.subscribers[t].splice(u,1),o}))}},{key:"emit",value:function(t,n){this.subscribers[t]&&this.subscribers[t].reduce((function(t,n){return n(t)||t}),n)}},{key:"off",value:function(t,n){for(var e=0;e<this.subscribers[t].length;e++)if(this.subscribers[t][e]===n){delete this.subscribers[t][e];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),t}();i.default=a,a.displayName="EventsDispatcher",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i={"./api":81,"./api/":81,"./api/blocks":149,"./api/blocks.ts":149,"./api/caret":151,"./api/caret.ts":151,"./api/events":152,"./api/events.ts":152,"./api/i18n":153,"./api/i18n.ts":153,"./api/index":81,"./api/index.ts":81,"./api/inlineToolbar":154,"./api/inlineToolbar.ts":154,"./api/listeners":155,"./api/listeners.ts":155,"./api/notifier":156,"./api/notifier.ts":156,"./api/readonly":157,"./api/readonly.ts":157,"./api/sanitizer":158,"./api/sanitizer.ts":158,"./api/saver":159,"./api/saver.ts":159,"./api/selection":160,"./api/selection.ts":160,"./api/styles":161,"./api/styles.ts":161,"./api/toolbar":162,"./api/toolbar.ts":162,"./api/tooltip":163,"./api/tooltip.ts":163,"./blockEvents":164,"./blockEvents.ts":164,"./blockManager":165,"./blockManager.ts":165,"./blockSelection":166,"./blockSelection.ts":166,"./caret":167,"./caret.ts":167,"./crossBlockSelection":168,"./crossBlockSelection.ts":168,"./dragNDrop":169,"./dragNDrop.ts":169,"./modificationsObserver":170,"./modificationsObserver.ts":170,"./paste":171,"./paste.ts":171,"./readonly":172,"./readonly.ts":172,"./rectangleSelection":173,"./rectangleSelection.ts":173,"./renderer":174,"./renderer.ts":174,"./saver":175,"./saver.ts":175,"./toolbar":83,"./toolbar/":83,"./toolbar/blockSettings":176,"./toolbar/blockSettings.ts":176,"./toolbar/conversion":177,"./toolbar/conversion.ts":177,"./toolbar/index":83,"./toolbar/index.ts":83,"./toolbar/inline":178,"./toolbar/inline.ts":178,"./toolbar/toolbox":179,"./toolbar/toolbox.ts":179,"./tools":180,"./tools.ts":180,"./ui":182,"./ui.ts":182};function r(t){var n=o(t);return e(n)}function o(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=373},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(8),c=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=c(r),o=c(o),u=a(u);var s=function(){function t(){(0,r.default)(this,t),this.allListeners=[]}return(0,o.default)(t,[{key:"on",value:function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=u.generateId("l"),o={id:r,element:t,eventType:n,handler:e,options:i};if(!this.findOne(t,n,e))return this.allListeners.push(o),t.addEventListener(n,e,i),r}},{key:"off",value:function(t,n,e){var i=this,r=this.findAll(t,n,e);r.forEach((function(t,n){var e=i.allListeners.indexOf(r[n]);e>-1&&(i.allListeners.splice(e,1),t.element.removeEventListener(t.eventType,t.handler,t.options))}))}},{key:"offById",value:function(t){var n=this.findById(t);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}},{key:"findOne",value:function(t,n,e){var i=this.findAll(t,n,e);return i.length>0?i[0]:null}},{key:"findAll",value:function(t,n,e){var i=t?this.findByEventTarget(t):[];return t&&n&&e?i.filter((function(t){return t.eventType===n&&t.handler===e})):t&&n?i.filter((function(t){return t.eventType===n})):i}},{key:"removeAll",value:function(){this.allListeners.map((function(t){t.element.removeEventListener(t.eventType,t.handler,t.options)})),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(t){return this.allListeners.filter((function(n){if(n.element===t)return n}))}},{key:"findByType",value:function(t){return this.allListeners.filter((function(n){if(n.eventType===t)return n}))}},{key:"findByHandler",value:function(t){return this.allListeners.filter((function(n){if(n.handler===t)return n}))}},{key:"findById",value:function(t){return this.allListeners.find((function(n){return n.id===t}))}}]),t}();i.default=s,s.displayName="Listeners",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(376)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,[{key:"show",value:function(t){u.default.show(t)}}]),t}();i.default=c,c.displayName="Notifier",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t){t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=0)}([function(t,n,e){e(1),t.exports=function(){var t=e(6),n=null;return{show:function(e){if(e.message){!function(){if(n)return!0;n=t.getWrapper(),document.body.appendChild(n)}();var i=null,r=e.time||8e3;switch(e.type){case"confirm":i=t.confirm(e);break;case"prompt":i=t.prompt(e);break;default:i=t.alert(e),window.setTimeout((function(){i.remove()}),r)}n.appendChild(i),i.classList.add("cdx-notify--bounce-in")}}}}()},function(t,n,e){var i=e(2);"string"==typeof i&&(i=[[t.i,i,""]]),e(4)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",i=t[3];if(!i)return e;if(n&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */",o=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[e].concat(o).concat([r]).join("\n")}return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e})).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var u=t[r];"number"==typeof u[0]&&i[u[0]]||(e&&!u[2]?u[2]=e:e&&(u[2]="("+u[2]+") and ("+e+")"),n.push(u))}},n}},function(t,n,e){var i,r,o={},u=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),a=function(){var t={};return function(n){if("function"==typeof n)return n();if(void 0===t[n]){var e=function(t){return document.querySelector(t)}.call(this,n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}}(),c=null,s=0,f=[],l=e(5);function h(t,n){for(var e=0;e<t.length;e++){var i=t[e],r=o[i.id];if(r){r.refs++;for(var u=0;u<r.parts.length;u++)r.parts[u](i.parts[u]);for(;u<i.parts.length;u++)r.parts.push(m(i.parts[u],n))}else{var a=[];for(u=0;u<i.parts.length;u++)a.push(m(i.parts[u],n));o[i.id]={id:i.id,refs:1,parts:a}}}}function d(t,n){for(var e=[],i={},r=0;r<t.length;r++){var o=t[r],u=n.base?o[0]+n.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[u]?i[u].parts.push(a):e.push(i[u]={id:u,parts:[a]})}return e}function v(t,n){var e=a(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=f[f.length-1];if("top"===t.insertAt)i?i.nextSibling?e.insertBefore(n,i.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),f.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertInto+" "+t.insertAt.before);e.insertBefore(n,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=f.indexOf(t);n>=0&&f.splice(n,1)}function b(t){var n=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),g(n,t.attrs),v(t,n),n}function g(t,n){Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])}))}function m(t,n){var e,i,r,o;if(n.transform&&t.css){if(!(o=n.transform(t.css)))return function(){};t.css=o}if(n.singleton){var u=s++;e=c||(c=b(n)),i=k.bind(null,e,u,!1),r=k.bind(null,e,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(n,t.attrs),v(t,n),n}(n),i=function(t,n,e){var i=e.css,r=e.sourceMap;(n.convertToAbsoluteUrls||void 0===n.convertToAbsoluteUrls&&r)&&(i=l(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(o),u&&URL.revokeObjectURL(u)}.bind(null,e,n),r=function(){p(e),e.href&&URL.revokeObjectURL(e.href)}):(e=b(n),i=function(t,n){var e=n.css,i=n.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),r=function(){p(e)});return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=u()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=d(t,n);return h(e,n),function(t){for(var i=[],r=0;r<e.length;r++)(u=o[e[r].id]).refs--,i.push(u);for(t&&h(d(t,n),n),r=0;r<i.length;r++){var u;if(0===(u=i[r]).refs){for(var a=0;a<u.parts.length;a++)u.parts[a]();delete o[u.id]}}}};var y,w=(y=[],function(t,n){return y[t]=n,y.filter(Boolean).join("\n")});function k(t,n,e,i){var r=e?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(n,r);else{var o=document.createTextNode(r),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}},function(t){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,i=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,n){var r,o=n.trim().replace(/^"(.*)"$/,(function(t,n){return n})).replace(/^'(.*)'$/,(function(t,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?e+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t){var n,e,i,r,o,u;t.exports=(n="cdx-notify",e="cdx-notify__cross",i="cdx-notify__button--confirm",r="cdx-notify__button",o="cdx-notify__btns-wrapper",{alert:u=function(t){var i=document.createElement("DIV"),r=document.createElement("DIV"),o=t.message,u=t.style;return i.classList.add(n),u&&i.classList.add(n+"--"+u),i.innerHTML=o,r.classList.add(e),r.addEventListener("click",i.remove.bind(i)),i.appendChild(r),i},confirm:function(t){var n=u(t),a=document.createElement("div"),c=document.createElement("button"),s=document.createElement("button"),f=n.querySelector("."+e),l=t.cancelHandler,h=t.okHandler;return a.classList.add(o),c.innerHTML=t.okText||"Confirm",s.innerHTML=t.cancelText||"Cancel",c.classList.add(r),s.classList.add(r),c.classList.add(i),s.classList.add("cdx-notify__button--cancel"),l&&"function"==typeof l&&(s.addEventListener("click",l),f.addEventListener("click",l)),h&&"function"==typeof h&&c.addEventListener("click",h),c.addEventListener("click",n.remove.bind(n)),s.addEventListener("click",n.remove.bind(n)),a.appendChild(c),a.appendChild(s),n.appendChild(a),n},prompt:function(t){var n=u(t),a=document.createElement("div"),c=document.createElement("button"),s=document.createElement("input"),f=n.querySelector("."+e),l=t.cancelHandler,h=t.okHandler;return a.classList.add(o),c.innerHTML=t.okText||"Ok",c.classList.add(r),c.classList.add(i),s.classList.add("cdx-notify__input"),t.placeholder&&s.setAttribute("placeholder",t.placeholder),t.default&&(s.value=t.default),t.inputType&&(s.type=t.inputType),l&&"function"==typeof l&&f.addEventListener("click",l),h&&"function"==typeof h&&c.addEventListener("click",(function(){h(s.value)})),c.addEventListener("click",n.remove.bind(n)),a.appendChild(s),a.appendChild(c),n.appendChild(a),n},getWrapper:function(){var t=document.createElement("DIV");return t.classList.add("cdx-notifies"),t}})}])},function(t,n,e){var i,r;void 0===(r="function"==typeof(i=function(){function t(t){var n=t.tags;if(!Object.keys(n).map((function(t){return typeof n[t]})).every((function(t){return"object"===t||"boolean"===t||"function"===t})))throw new Error("The configuration was invalid");this.config=t}var n=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function e(t){return-1!==n.indexOf(t.nodeName)}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function r(t){return-1!==i.indexOf(t.nodeName)}function o(t,n,e){return"function"==typeof t.tags[n]?t.tags[n](e):t.tags[n]}function u(t,n){return void 0===n||"boolean"==typeof n&&!n}function a(t,n,e){var i=t.name.toLowerCase();return!0!==n&&("function"==typeof n[i]?!n[i](t.value,e):void 0===n[i]||!1===n[i]||"string"==typeof n[i]&&n[i]!==t.value)}return t.prototype.clean=function(t){const n=document.implementation.createHTMLDocument(),e=n.createElement("div");return e.innerHTML=t,this._sanitize(n,e),e.innerHTML},t.prototype._sanitize=function(t,n){var i=function(t,n){return t.createTreeWalker(n,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(t,n),c=i.firstChild();if(c)do{if(c.nodeType!==Node.TEXT_NODE){if(c.nodeType===Node.COMMENT_NODE){n.removeChild(c),this._sanitize(t,n);break}var s,f=r(c);f&&(s=Array.prototype.some.call(c.childNodes,e));var l=!!n.parentNode,h=e(n)&&e(c)&&l,d=c.nodeName.toLowerCase(),v=o(this.config,d,c);if(f&&s||u(0,v)||!this.config.keepNestedBlockElements&&h){if("SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName)for(;c.childNodes.length>0;)n.insertBefore(c.childNodes[0],c);n.removeChild(c),this._sanitize(t,n);break}for(var p=0;p<c.attributes.length;p+=1){var b=c.attributes[p];a(b,v,c)&&(c.removeAttribute(b.name),p-=1)}this._sanitize(t,c)}else if(""===c.data.trim()&&(c.previousElementSibling&&e(c.previousElementSibling)||c.nextElementSibling&&e(c.nextElementSibling))){n.removeChild(c),this._sanitize(t,n);break}}while(c=i.nextSibling())},t})?i.call(n,e,n,t):i)||(t.exports=r)},function(t){t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){t.exports=e(1)},function(t,n,e){e.r(n),e.d(n,"default",(function(){return i}));class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(t,n,e){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const i=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},e);if(i.hidingDelay&&(this.hidingDelay=i.hidingDelay),this.nodes.content.innerHTML="","string"==typeof n)this.nodes.content.appendChild(document.createTextNode(n));else{if(!(n instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof n+" given.");this.nodes.content.appendChild(n)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),i.placement){case"top":this.placeTop(t,i);break;case"left":this.placeLeft(t,i);break;case"right":this.placeRight(t,i);break;case"bottom":default:this.placeBottom(t,i)}i&&i.delay?this.showingTimeout=setTimeout((()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0}),i.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(t=!1){if(this.hidingDelay&&!t)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout((()=>{this.hide(!0)}),this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(t,n,e){t.addEventListener("mouseenter",(()=>{this.show(t,n,e)})),t.addEventListener("mouseleave",(()=>{this.hide()}))}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const t="codex-tooltips-style";if(document.getElementById(t))return;const n=e(2),i=this.make("style",null,{textContent:n.toString(),id:t});this.prepend(document.head,i)}placeBottom(t,n){const e=t.getBoundingClientRect(),i=e.bottom+window.pageYOffset+this.offsetTop+n.marginTop;this.applyPlacement("bottom",e.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,i)}placeTop(t,n){const e=t.getBoundingClientRect(),i=e.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",e.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,i)}placeLeft(t,n){const e=t.getBoundingClientRect(),i=e.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",e.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-n.marginLeft,i)}placeRight(t,n){const e=t.getBoundingClientRect(),i=e.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",e.right+this.offsetRight+n.marginRight,i)}applyPlacement(t,n,e){this.nodes.wrapper.classList.add(this.CSS.placement[t]),this.nodes.wrapper.style.left=n+"px",this.nodes.wrapper.style.top=e+"px"}make(t,n=null,e={}){const i=document.createElement(t);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}append(t,n){Array.isArray(n)?n.forEach((n=>t.appendChild(n))):t.appendChild(n)}prepend(t,n){Array.isArray(n)?(n=n.reverse()).forEach((n=>t.prepend(n))):t.prepend(n)}}},function(t){t.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(15),e(7),e(25)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c){var s=e(8),f=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=s(a),c=f(c);var l=function(){function t(n,e){(0,r.default)(this,t),this.cursor=-1,this.items=[],this.items=n||[],this.focusedCssClass=e}return(0,o.default)(t,[{key:"setItems",value:function(t){this.items=t}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(t.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(t.directions.LEFT)}},{key:"dropCursor",value:function(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(n){var e=this;if(0===this.items.length)return this.cursor;var i=this.cursor;return-1===i?i=n===t.directions.RIGHT?-1:0:this.items[i].classList.remove(this.focusedCssClass),u.default.canSetCaret(this.items[i=n===t.directions.RIGHT?(i+1)%this.items.length:(this.items.length+i-1)%this.items.length])&&a.delay((function(){return c.default.setCursor(e.items[i])}),50)(),this.items[i].classList.add(this.focusedCssClass),i}},{key:"currentItem",get:function(){return-1===this.cursor?null:this.items[this.cursor]}}]),t}();i.default=l,l.displayName="DomIterator",l.directions={RIGHT:"right",LEFT:"left"},t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(7),e(15),e(61)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c){var s=e(8),f=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=s(u),a=f(a);var l=function(){function t(n){(0,r.default)(this,t),this.blocks=[],this.workingArea=n}return(0,o.default)(t,[{key:"push",value:function(t){this.blocks.push(t),this.insertToDOM(t)}},{key:"swap",value:function(t,n){var e=this.blocks[n];a.default.swap(this.blocks[t].holder,e.holder),this.blocks[n]=this.blocks[t],this.blocks[t]=e}},{key:"move",value:function(t,n){var e=this.blocks.splice(n,1)[0],i=Math.max(0,t-1);this.insertToDOM(e,t>0?"afterend":"beforebegin",this.blocks[i]),this.blocks.splice(t,0,e);var r=this.composeBlockEvent("move",{fromIndex:n,toIndex:t});e.call(c.BlockToolAPI.MOVED,r)}},{key:"insert",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.length)if(t>this.length&&(t=this.length),e&&(this.blocks[t].holder.remove(),this.blocks[t].call(c.BlockToolAPI.REMOVED)),this.blocks.splice(t,e?1:0,n),t>0)this.insertToDOM(n,"afterend",this.blocks[t-1]);else{var i=this.blocks[t+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}else this.push(n)}},{key:"remove",value:function(t){isNaN(t)&&(t=this.length-1),this.blocks[t].holder.remove(),this.blocks[t].call(c.BlockToolAPI.REMOVED),this.blocks.splice(t,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach((function(t){return t.call(c.BlockToolAPI.REMOVED)})),this.blocks.length=0}},{key:"insertAfter",value:function(t,n){var e=this.blocks.indexOf(t);this.insert(e+1,n)}},{key:"get",value:function(t){return this.blocks[t]}},{key:"indexOf",value:function(t){return this.blocks.indexOf(t)}},{key:"insertToDOM",value:function(t,n,e){n?e.holder.insertAdjacentElement(n,t.holder):this.workingArea.appendChild(t.holder),t.call(c.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(t,n){return new CustomEvent(t,{detail:n})}},{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return u.array(this.workingArea.children)}}],[{key:"set",value:function(t,n,e){return isNaN(Number(n))?(Reflect.set(t,n,e),!0):(t.insert(+n,e),!0)}},{key:"get",value:function(t,n){return isNaN(Number(n))?Reflect.get(t,n):t.get(+n)}}]),t}();i.default=l,l.displayName="Blocks",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t){t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}e.r(n);var o=function(){function t(n){var e=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.commands={},this.keys={},this.name=n.name,this.parseShortcutName(n.name),this.element=n.on,this.callback=n.callback,this.executeShortcut=function(t){e.execute(t)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return r(t,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),r(t,[{key:"parseShortcutName",value:function(n){n=n.split("+");for(var e=0;e<n.length;e++){n[e]=n[e].toUpperCase();var i=!1;for(var r in t.supportedCommands)if(t.supportedCommands[r].includes(n[e])){i=this.commands[r]=!0;break}i||(this.keys[n[e]]=!0)}for(var o in t.supportedCommands)this.commands[o]||(this.commands[o]=!1)}},{key:"execute",value:function(n){var e,i={CMD:n.ctrlKey||n.metaKey,SHIFT:n.shiftKey,ALT:n.altKey},r=!0;for(e in this.commands)this.commands[e]!==i[e]&&(r=!1);var o,u=!0;for(o in this.keys)u=u&&n.keyCode===t.keyCodes[o];r&&u&&this.callback(n)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),t}();n.default=o}]).default},function(t){t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=0)}([function(t,n,e){function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}e(1).toString();var o=function(){function t(n){var e=n.data,i=n.config,r=n.api,o=n.readOnly;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=i.placeholder?i.placeholder:t.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=void 0!==i.preserveBlank&&i.preserveBlank,this.data=e}return r(t,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),r(t,[{key:"onKeyUp",value:function(t){"Backspace"!==t.code&&"Delete"!==t.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable=!1,t.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(t.contentEditable=!0,t.addEventListener("keyup",this.onKeyUp)),t}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(t){this.data={text:this.data.text+t.text}}},{key:"validate",value:function(t){return!(""===t.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(t){return{text:t.innerHTML}}},{key:"onPaste",value:function(t){this.data={text:t.detail.data.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data},set:function(t){this._data=t||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:e(5).default,title:"Text"}}}]),t}();t.exports=o},function(t,n,e){var i=e(2),r=e(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),i(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,n,e){var i,r=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),o=[];function u(t){for(var n=-1,e=0;e<o.length;e++)if(o[e].identifier===t){n=e;break}return n}function a(t,n){for(var e={},i=[],r=0;r<t.length;r++){var a=t[r],c=n.base?a[0]+n.base:a[0],s=e[c]||0,f="".concat(c," ").concat(s);e[c]=s+1;var l=u(f),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(o[l].references++,o[l].updater(h)):o.push({identifier:f,updater:p(h,n),references:1}),i.push(f)}return i}function c(t){var n=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=e.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){n.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(n);else{var u=r(t.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(n)}return n}var s,f=(s=[],function(t,n){return s[t]=n,s.filter(Boolean).join("\n")});function l(t,n,e,i){var r=e?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=f(n,r);else{var o=document.createTextNode(r),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function h(t,n,e){var i=e.css,r=e.media,o=e.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var d=null,v=0;function p(t,n){var e,i,r;if(n.singleton){var o=v++;e=d||(d=c(n)),i=l.bind(null,e,o,!1),r=l.bind(null,e,o,!0)}else e=c(n),i=h.bind(null,e,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var e=a(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<e.length;i++){var r=u(e[i]);o[r].references--}for(var c=a(t,n),s=0;s<e.length;s++){var f=u(e[s]);0===o[f].references&&(o[f].updater(),o.splice(f,1))}e=c}}}},function(t,n,e){(n=e(4)(!1)).push([t.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e,i,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var u=(e=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(i," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([u]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(r[u]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&r[c[0]]||(e&&(c[2]=c[2]?"".concat(e," and ").concat(c[2]):e),n.push(c))}},n}},function(t,n,e){e.r(n),n.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">\n  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>\n</svg>\n'}])},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(15)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(){(0,r.default)(this,t),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(u.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(){document.execCommand(this.commandName)}},{key:"checkState",value:function(){var t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),t}();i.default=c,c.displayName="BoldInlineTool",c.isInline=!0,c.title="Bold",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(15)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(){(0,r.default)(this,t),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(u.default.svg("italic",4,11)),this.nodes.button}},{key:"surround",value:function(){document.execCommand(this.commandName)}},{key:"checkState",value:function(){var t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),t}();i.default=c,c.displayName="ItalicInlineTool",c.isInline=!0,c.title="Italic",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(25),e(15),e(7)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c){var s=e(8),f=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),u=f(u),a=f(a),c=s(c);var l=function(){function t(n){var e=n.api;(0,r.default)(this,t),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new u.default}return(0,o.default)(t,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(a.default.svg("link",14,10)),this.nodes.button.appendChild(a.default.svg("unlink",15,11)),this.nodes.button}},{key:"renderActions",value:function(){var t=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(function(n){n.keyCode===t.ENTER_KEY&&t.enterPressed(n)})),this.nodes.input}},{key:"surround",value:function(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var n=this.selection.findParentTag("A");if(n)return this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(){var t=this.selection.findParentTag("A");if(t){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var n=t.getAttribute("href");this.nodes.input.value="null"!==n?n:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.selection.isFakeBackgroundEnabled){var n=new u.default;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(t){var n=this.nodes.input.value||"";return n.trim()?this.validateURL(n)?(n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void c.log("Incorrect Link pasted","warn",n)):(this.selection.restore(),this.unlink(),t.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(t){return!/\s/.test(t)}},{key:"prepareLink",value:function(t){return t=t.trim(),this.addProtocol(t)}},{key:"addProtocol",value:function(t){if(/^(\w+):(\/\/)?/.test(t))return t;var n=/^\/[^/\s]/.test(t),e="#"===t.substring(0,1),i=/^\/\/[^/\s]/.test(t);return n||e||i||(t="http://"+t),t}},{key:"insertLink",value:function(t){var n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,t)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),t}();i.default=l,l.displayName="LinkInlineTool",l.isInline=!0,l.title="Link",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(15)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(n){var e=n.data,i=n.api;(0,r.default)(this,t),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=i,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}return(0,o.default)(t,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var t=u.default.make("div",this.CSS.wrapper),n=u.default.svg("sad-face",52,52),e=u.default.make("div",this.CSS.info),i=u.default.make("div",this.CSS.title,{textContent:this.title}),r=u.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.appendChild(n),e.appendChild(i),e.appendChild(r),t.appendChild(e),t}}]),t}();i.default=c,c.displayName="Stub",c.isReadOnlySupported=!0,t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(67),e(388),e(389),e(390)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=f(r),o=f(o),a=f(a),c=f(c),s=f(s);var l=function(){function t(n,e,i){(0,r.default)(this,t),this.api=i,this.config=n,this.editorConfig=e}return(0,o.default)(t,[{key:"get",value:function(t){var n=this.config[t],e=n.class,i=n.isInternal,r=void 0!==i&&i,o=function(t,n){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(e[i[r]]=t[i[r]])}return e}(n,["class","isInternal"]);return new(this.getConstructor(e))({name:t,constructable:e,config:o,api:this.api,isDefault:t===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}},{key:"getConstructor",value:function(t){switch(!0){case t[u.InternalInlineToolSettings.IsInline]:return a.default;case t[u.InternalTuneSettings.IsTune]:return c.default;default:return s.default}}}]),t}();i.default=l,l.displayName="ToolsFactory",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(67)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(8),l=e(1);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=l(r),o=l(o),u=l(u),a=l(a),c=l(c);var d=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(h()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){var t;return(0,r.default)(this,i),(t=e.apply(this,arguments)).type=s.ToolType.Inline,t}return(0,o.default)(i,[{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"title",get:function(){return this.constructable[s.InternalInlineToolSettings.Title]}}]),i}((s=f(s)).default);i.default=d,d.displayName="InlineTool",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(5),e(6),e(4),e(67)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s){var f=e(8),l=e(1);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=l(r),o=l(o),u=l(u),a=l(a),c=l(c);var d=function(t){(0,u.default)(i,t);var n,e=(n=i,function(){var t,e=(0,c.default)(n);if(h()){var i=(0,c.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,a.default)(this,t)});function i(){var t;return(0,r.default)(this,i),(t=e.apply(this,arguments)).type=s.ToolType.Tune,t}return(0,o.default)(i,[{key:"create",value:function(t,n){return new this.constructable({api:this.api.getMethodsForTool(this),settings:this.settings,block:n,data:t})}}]),i}((s=f(s)).default);i.default=d,d.displayName="BlockTune",t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(391),e(5),e(6),e(4),e(80),e(67),e(7),e(181)],void 0===(o="function"==typeof(i=function(i,r,o,u,a,c,s,f,l,h,d){var v=e(8),p=e(1);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=p(r),o=p(o),u=p(u),a=p(a),c=p(c),s=p(s),f=p(f),l=v(l),h=v(h),d=p(d);var g=function(t,n,e,i){var r,o=arguments.length,u=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"===("undefined"==typeof Reflect?"undefined":(0,f.default)(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,e,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(u=(o<3?r(u):o>3?r(n,e,u):r(n,e))||u);return o>3&&u&&Object.defineProperty(n,e,u),u},m=function(t){(0,a.default)(i,t);var n,e=(n=i,function(){var t,e=(0,s.default)(n);if(b()){var i=(0,s.default)(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return(0,c.default)(this,t)});function i(){var t;return(0,r.default)(this,i),(t=e.apply(this,arguments)).type=l.ToolType.Block,t.inlineTools=new d.default,t.tunes=new d.default,t}return(0,o.default)(i,[{key:"create",value:function(t,n,e){return new this.constructable({data:t,block:n,readOnly:e,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return!0===this.constructable[l.InternalBlockToolSettings.IsReadOnlySupported]}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[l.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var t=this.constructable[l.InternalBlockToolSettings.Toolbox],n=this.config[l.UserSettings.Toolbox];if(!h.isEmpty(t)&&!1!==(null!=n?n:t))return Object.assign({},t,n)}},{key:"conversionConfig",get:function(){return this.constructable[l.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[l.UserSettings.EnabledInlineTools]||!1}},{key:"enabledBlockTunes",get:function(){return this.config[l.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[l.InternalBlockToolSettings.PasteConfig]||{}}},{key:"sanitizeConfig",get:function(){var t=(0,u.default)((0,s.default)(i.prototype),"sanitizeConfig",this),n=this.baseSanitizeConfig;if(h.isEmpty(t))return n;var e={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];e[r]=h.isObject(o)?Object.assign({},n,o):o}return e}},{key:"baseSanitizeConfig",get:function(){var t={};return Array.from(this.inlineTools.values()).forEach((function(n){return Object.assign(t,n.sanitizeConfig)})),t}}]),i}(l.default);i.default=m,m.displayName="BlockTool",g([h.cacheable],m.prototype,"sanitizeConfig",null),g([h.cacheable],m.prototype,"baseSanitizeConfig",null),t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i=e(392);function r(n,e,o){return t.exports=r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=i(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(e):o.value}},r(n,e,o||n)}t.exports=r},function(t,n,e){var i=e(4);t.exports=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=i(t)););return t}},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(15)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(n){var e=n.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=e}return(0,o.default)(t,[{key:"render",value:function(){var t=this,n=u.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return n.appendChild(u.default.svg("arrow-down",14,14)),this.api.listeners.on(n,"click",(function(e){return t.handleClick(e,n)}),!1),this.api.tooltip.onHover(n,this.api.i18n.t("Move down")),n}},{key:"handleClick",value:function(t,n){var e=this,i=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(i+1);if(!r)return n.classList.add(this.CSS.animation),void window.setTimeout((function(){n.classList.remove(e.CSS.animation)}),500);var o=r.holder,u=o.getBoundingClientRect(),a=Math.abs(window.innerHeight-o.offsetHeight);u.top<window.innerHeight&&(a=window.scrollY+o.offsetHeight),window.scrollTo(0,a),this.api.blocks.move(i+1),this.api.tooltip.hide()}}]),t}();i.default=c,c.displayName="MoveDownTune",c.isTune=!0,t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(15)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(n){var e=this,i=n.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=i,this.resetConfirmation=function(){e.setConfirmation(!1)}}return(0,o.default)(t,[{key:"render",value:function(){var t=this;return this.nodes.button=u.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(u.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",(function(n){return t.handleClick(n)}),!1),this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete")),this.nodes.button}},{key:"handleClick",value:function(t){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),this.api.tooltip.hide(),t.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(t){this.needConfirmation=t,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),t}();i.default=c,c.displayName="DeleteTune",c.isTune=!0,t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){var i,r,o;r=[n,e(2),e(3),e(15)],void 0===(o="function"==typeof(i=function(i,r,o,u){var a=e(1);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,r=a(r),o=a(o),u=a(u);var c=function(){function t(n){var e=n.api;(0,r.default)(this,t),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=e}return(0,o.default)(t,[{key:"render",value:function(){var t=this,n=u.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return n.appendChild(u.default.svg("arrow-up",14,14)),this.api.listeners.on(n,"click",(function(e){return t.handleClick(e,n)}),!1),this.api.tooltip.onHover(n,this.api.i18n.t("Move up")),n}},{key:"handleClick",value:function(t,n){var e=this,i=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(i),o=this.api.blocks.getBlockByIndex(i-1);if(0===i||!r||!o)return n.classList.add(this.CSS.animation),void window.setTimeout((function(){n.classList.remove(e.CSS.animation)}),500);var u,a=o.holder,c=r.holder.getBoundingClientRect(),s=a.getBoundingClientRect();u=s.top>0?Math.abs(c.top)-Math.abs(s.top):window.innerHeight-Math.abs(c.top)+Math.abs(s.top),window.scrollBy(0,-1*u),this.api.blocks.move(i-1),this.api.tooltip.hide()}}]),t}();i.default=c,c.displayName="MoveUpTune",c.isTune=!0,t.exports=n.default})?i.apply(n,r):i)||(t.exports=o)},function(t,n,e){e.r(n),n.default='<?xml version="1.0" encoding="utf-8"?>\n<svg xmlns="http://www.w3.org/2000/svg">\n<symbol id="arrow-down" viewBox="0 0 14 14">\n  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="arrow-up" viewBox="0 0 14 14">\n    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>\n\n</symbol>\n<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>\n</symbol>\n<symbol id="cross" viewBox="0 0 237 237">\n  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>\n\n</symbol>\n<symbol id="dots" viewBox="0 0 8 8">\n  <circle cx="6.5" cy="1.5" r="1.5"/>\n  <circle cx="6.5" cy="6.5" r="1.5"/>\n  <circle cx="1.5" cy="1.5" r="1.5"/>\n  <circle cx="1.5" cy="6.5" r="1.5"/>\n\n</symbol>\n<symbol id="italic" viewBox="0 0 4 11">\n    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>\n\n</symbol>\n<symbol id="link" viewBox="0 0 14 10">\n  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>\n\n</symbol>\n<symbol id="plus" viewBox="0 0 14 14">\n    <path d="M8.05 5.8h4.625a1.125 1.125 0 0 1 0 2.25H8.05v4.625a1.125 1.125 0 0 1-2.25 0V8.05H1.125a1.125 1.125 0 0 1 0-2.25H5.8V1.125a1.125 1.125 0 0 1 2.25 0V5.8z"/>\n\n</symbol>\n<symbol id="sad-face" viewBox="0 0 52 52">\n    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>\n\n</symbol>\n<symbol id="toggler-down">\n  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>\n\n</symbol>\n<symbol id="unlink" viewBox="0 0 15 11">\n  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>\n\n</symbol></svg>'},function(t){t.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:650px){.ce-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}@media (max-width:650px){.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:650px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:650px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:calc(100% - 35px)}}.ce-toolbar__plus{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;left:-34px;-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{color:#388ae5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}.ce-toolbar__plus--hidden{display:none}@media (max-width:650px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar .ce-toolbox,.ce-toolbar__plus{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ce-toolbar__actions{position:absolute;right:-30px;top:5px;opacity:0}@media (max-width:650px){.ce-toolbar__actions{position:absolute;right:-28px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:18px;height:18px;color:#707684;cursor:pointer;background:#eff2f5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn:hover{color:#1d202b}@media (max-width:650px){.ce-toolbar__settings-btn{background:transparent}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:650px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0}.ce-toolbox__button--active,.ce-toolbox__button:hover{color:#388ae5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox-button-tooltip__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-settings{right:-1px;top:30px;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:-11px;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-34px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-34px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}'},function(t,n,e){e.r(n),e.d(n,"nanoid",(function(){return a})),e.d(n,"customAlphabet",(function(){return u})),e.d(n,"customRandom",(function(){return o})),e.d(n,"urlAlphabet",(function(){return i})),e.d(n,"random",(function(){return r}));let i="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",r=t=>crypto.getRandomValues(new Uint8Array(t)),o=(t,n,e)=>{let i=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*i*n/t.length);return()=>{let o="";for(;;){let u=e(r),a=r;for(;a--;)if(o+=t[u[a]&i]||"",o.length===n)return o}}},u=(t,n)=>o(t,n,r),a=(t=21)=>{let n="",e=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let i=63&e[t];n+=i<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i<63?"_":"-"}return n}}])}))),kn=mn(yn((function(t){window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=25)}([function(t){function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t){t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=3)}([function(t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,n,e){(function(t){var i=e(2),r=setTimeout;function o(){}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function a(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn((function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var i;try{i=e(t._value)}catch(t){return void s(n.promise,t)}c(n.promise,i)}else(1===t._state?c:s)(n.promise,t._value)}))):t._deferreds.push(n)}function c(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof u)return t._state=3,t._value=n,void f(t);if("function"==typeof e)return void h((i=e,r=n,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=n,f(t)}catch(n){s(t,n)}var i,r}function s(t,n){t._state=2,t._value=n,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&u._immediateFn((function(){t._handled||u._unhandledRejectionFn(t._value)}));for(var n=0,e=t._deferreds.length;n<e;n++)a(t,t._deferreds[n]);t._deferreds=null}function l(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function h(t,n){var e=!1;try{t((function(t){e||(e=!0,c(n,t))}),(function(t){e||(e=!0,s(n,t))}))}catch(t){if(e)return;e=!0,s(n,t)}}u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,n){var e=new this.constructor(o);return a(this,new l(t,n,e)),e},u.prototype.finally=i.a,u.all=function(t){return new u((function(n,e){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var r=i.length;function o(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var a=u.then;if("function"==typeof a)return void a.call(u,(function(n){o(t,n)}),e)}i[t]=u,0==--r&&n(i)}catch(t){e(t)}}for(var u=0;u<i.length;u++)o(u,i[u])}))},u.resolve=function(t){return t&&"object"==typeof t&&t.constructor===u?t:new u((function(n){n(t)}))},u.reject=function(t){return new u((function(n,e){e(t)}))},u.race=function(t){return new u((function(n,e){for(var i=0,r=t.length;i<r;i++)t[i].then(n,e)}))},u._immediateFn="function"==typeof t&&function(n){t(n)}||function(t){r(t,0)},u._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n.a=u}).call(this,e(5).setImmediate)},function(t,n){n.a=function(t){var n=this.constructor;return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))}},function(t,n,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e(4);var r,o,u,a,c,s,f,l=e(8),h=(o=function(t){return new Promise((function(n,e){t=a(t),(t=c(t)).beforeSend&&t.beforeSend();var i=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");i.open(t.method,t.url),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(t.headers).forEach((function(n){i.setRequestHeader(n,t.headers[n])}));var r=t.ratio;i.upload.addEventListener("progress",(function(n){var e=Math.round(n.loaded/n.total*100),i=Math.ceil(e*r/100);t.progress(Math.min(i,100))}),!1),i.addEventListener("progress",(function(n){var e=Math.round(n.loaded/n.total*100),i=Math.ceil(e*(100-r)/100)+r;t.progress(Math.min(i,100))}),!1),i.onreadystatechange=function(){if(4===i.readyState){var t=i.response;try{t=JSON.parse(t)}catch(t){}var r=l.parseHeaders(i.getAllResponseHeaders()),o={body:t,code:i.status,headers:r};f(i.status)?n(o):e(o)}},i.send(t.data)}))},u=function(t){return t.method="POST",o(t)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.url&&"string"!=typeof t.url)throw new Error("Url must be a string");if(t.url=t.url||"",t.method&&"string"!=typeof t.method)throw new Error("`method` must be a string or null");if(t.method=t.method?t.method.toUpperCase():"GET",t.headers&&"object"!==i(t.headers))throw new Error("`headers` must be an object or null");if(t.headers=t.headers||{},t.type&&("string"!=typeof t.type||!Object.values(r).includes(t.type)))throw new Error("`type` must be taken from module's contentType library");if(t.progress&&"function"!=typeof t.progress)throw new Error("`progress` must be a function or null");if(t.progress=t.progress||function(){},t.beforeSend=t.beforeSend||function(){},t.ratio&&"number"!=typeof t.ratio)throw new Error("`ratio` must be a number");if(t.ratio<0||t.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(t.ratio=t.ratio||90,t.accept&&"string"!=typeof t.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(t.accept=t.accept||"*/*",t.multiple&&"boolean"!=typeof t.multiple)throw new Error("`multiple` must be a true or false");if(t.multiple=t.multiple||!1,t.fieldName&&"string"!=typeof t.fieldName)throw new Error("`fieldName` must be a string");return t.fieldName=t.fieldName||"files",t},c=function(t){switch(t.method){case"GET":var n=s(t.data,r.URLENCODED);delete t.data,t.url=/\?/.test(t.url)?t.url+"&"+n:t.url+"?"+n;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var e=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||r.JSON}(t);(l.isFormData(t.data)||l.isFormElement(t.data))&&(e=r.FORM),t.data=s(t.data,e),e!==h.contentType.FORM&&(t.headers["content-type"]=e)}return t},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case r.URLENCODED:return l.urlEncode(t);case r.JSON:return l.jsonEncode(t);case r.FORM:return l.formEncode(t);default:return t}},f=function(t){return t>=200&&t<300},{contentType:r={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:o,get:function(t){return t.method="GET",o(t)},post:u,transport:function(t){return t=a(t),l.selectFiles(t).then((function(n){for(var e=new FormData,i=0;i<n.length;i++)e.append(t.fieldName,n[i],n[i].name);l.isObject(t.data)&&Object.keys(t.data).forEach((function(n){e.append(n,t.data[n])}));var r=t.beforeSend;return t.beforeSend=function(){return r(n)},t.data=e,u(t)}))},selectFiles:function(t){return delete(t=a(t)).beforeSend,l.selectFiles(t)}});t.exports=h},function(t,n,e){e.r(n);var i=e(1);window.Promise=window.Promise||i.a},function(t,n,e){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,n){this._id=t,this._clearFn=n}n.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},n.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),n))},e(6),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,e(0))},function(t,n,e){(function(t,n){!function(t){if(!t.setImmediate){var e,i,r,o,u,a=1,c={},s=!1,f=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?e=function(t){n.nextTick((function(){d(t)}))}:function(){if(t.postMessage&&!t.importScripts){var n=!0,e=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=e,n}}()?(o="setImmediate$"+Math.random()+"$",u=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(o)&&d(+n.data.slice(o.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),e=function(n){t.postMessage(o+n,"*")}):t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){d(t.data)},e=function(t){r.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,e=function(t){var n=f.createElement("script");n.onreadystatechange=function(){d(t),n.onreadystatechange=null,i.removeChild(n),n=null},i.appendChild(n)}):e=function(t){setTimeout(d,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),i=0;i<n.length;i++)n[i]=arguments[i+1];return c[a]={callback:t,args:n},e(a),a++},l.clearImmediate=h}function h(t){delete c[t]}function d(t){if(s)setTimeout(d,0,t);else{var n=c[t];if(n){s=!0;try{!function(t){var n=t.callback,e=t.args;switch(e.length){case 0:n();break;case 1:n(e[0]);break;case 2:n(e[0],e[1]);break;case 3:n(e[0],e[1],e[2]);break;default:n.apply(void 0,e)}}(n)}finally{h(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,e(0),e(7))},function(t){var n,e,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var a,c=[],s=!1,f=-1;function l(){s&&a&&(s=!1,a.length?c=a.concat(c):f=-1,c.length&&h())}function h(){if(!s){var t=u(l);s=!0;for(var n=c.length;n;){for(a=c,c=[];++f<n;)a&&a[f].run();f=-1,n=c.length}a=null,s=!1,function(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function v(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];c.push(new d(t,n)),1!==c.length||s||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,n,e){var i=e(9);t.exports=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n;return(n=[{key:"urlEncode",value:function(t){return i(t)}},{key:"jsonEncode",value:function(t){return JSON.stringify(t)}},{key:"formEncode",value:function(t){if(this.isFormData(t))return t;if(this.isFormElement(t))return new FormData(t);if(this.isObject(t)){var n=new FormData;return Object.keys(t).forEach((function(e){n.append(e,t[e])})),n}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(t){return"[object Object]"===Object.prototype.toString.call(t)}},{key:"isFormData",value:function(t){return t instanceof FormData}},{key:"isFormElement",value:function(t){return t instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n){var e=document.createElement("INPUT");e.type="file",t.multiple&&e.setAttribute("multiple","multiple"),t.accept&&e.setAttribute("accept",t.accept),e.style.display="none",document.body.appendChild(e),e.addEventListener("change",(function(t){n(t.target.files),document.body.removeChild(e)}),!1),e.click()}))}},{key:"parseHeaders",value:function(t){var n=t.trim().split(/[\r\n]+/),e={};return n.forEach((function(t){var n=t.split(": "),i=n.shift(),r=n.join(": ");i&&(e[i]=r)})),e}}])&&function(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t,n),t}()},function(t){var n=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},e=function(t,i,r,o){return i=i||null,r=r||"&",o=o||null,t?function(t){for(var n=new Array,e=0;e<t.length;e++)t[e]&&n.push(t[e]);return n}(Object.keys(t).map((function(u){var a,c,s=u;if(o&&(s=o+"["+s+"]"),"object"==typeof t[u]&&null!==t[u])a=e(t[u],null,r,s);else{i&&(c=s,s=!isNaN(parseFloat(c))&&isFinite(c)?i+Number(s):s);var f=t[u];f=(f=0===(f=!1===(f=!0===f?"1":f)?"0":f)?"0":f)||"",a=n(s)+"="+n(f)}return a}))).join(r).replace(/[!'()*]/g,""):""};t.exports=e}])},function(t,n,e){t.exports=e(14)},function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}},function(t,n,e){var i=e(4);t.exports=function(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}},function(t){function n(t,n,e,i,r,o,u){try{var a=t[o](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(i,r)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var u=t.apply(e,i);function a(t){n(u,r,o,a,c,"next",t)}function c(t){n(u,r,o,a,c,"throw",t)}a(void 0)}))}}},function(t,n,e){var i=e(19),r=e(20),o=e(5),u=e(21);t.exports=function(t){return i(t)||r(t)||o(t)||u()}},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(t){t.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(t){t.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(t,n,e){var i=e(22),r=e(23),o=e(5),u=e(24);t.exports=function(t,n){return i(t)||r(t,n)||o(t,n)||u()}},function(t){var n=function(t){var n=Object.prototype,e=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function a(t,n,e,i){var r=Object.create((n&&n.prototype instanceof f?n:f).prototype),o=new x(i||[]);return r._invoke=function(t,n,e){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(e.method=r,e.arg=o;;){var u=e.delegate;if(u){var a=y(u,e);if(a){if(a===s)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===i)throw i="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i="executing";var f=c(t,n,e);if("normal"===f.type){if(i=e.done?"completed":"suspendedYield",f.arg===s)continue;return{value:f.arg,done:e.done}}"throw"===f.type&&(i="completed",e.method="throw",e.arg=f.arg)}}}(t,e,o),r}function c(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var s={};function f(){}function l(){}function h(){}var d={};d[r]=function(){return this};var v=Object.getPrototypeOf,p=v&&v(v(_([])));p&&p!==n&&e.call(p,r)&&(d=p);var b=h.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function m(t,n){var i;this._invoke=function(r,o){function u(){return new n((function(i,u){!function i(r,o,u,a){var s=c(t[r],t,o);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&e.call(l,"__await")?n.resolve(l.__await).then((function(t){i("next",t,u,a)}),(function(t){i("throw",t,u,a)})):n.resolve(l).then((function(t){f.value=t,u(f)}),(function(t){return i("throw",t,u,a)}))}a(s.arg)}(r,o,i,u)}))}return i=i?i.then(u,u):u()}}function y(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,y(t,n),"throw"===n.method))return s;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var i=c(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,s;var r=i.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,s):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,s)}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function k(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var n=t[r];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(e.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return l.prototype=b.constructor=h,h.constructor=l,h[u]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===l||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(m.prototype),m.prototype[o]=function(){return this},t.AsyncIterator=m,t.async=function(n,e,i,r,o){void 0===o&&(o=Promise);var u=new m(a(n,e,i,r),o);return t.isGeneratorFunction(e)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},g(b),b[u]="Generator",b[r]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=_,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(e,i){return u.type="throw",u.arg=t,n.next=e,i&&(n.method="next",n.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=e.call(o,"catchLoc"),c=e.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),s},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),s}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var i=e.completion;if("throw"===i.type){var r=i.arg;k(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:_(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,n,e){var i=e(16),r=e(17);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o=(i(r,{insert:"head",singleton:!1}),r.locals?r.locals:{});t.exports=o},function(t,n,e){var i,r=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),o=[];function u(t){for(var n=-1,e=0;e<o.length;e++)if(o[e].identifier===t){n=e;break}return n}function a(t,n){for(var e={},i=[],r=0;r<t.length;r++){var a=t[r],c=n.base?a[0]+n.base:a[0],s=e[c]||0,f="".concat(c," ").concat(s);e[c]=s+1;var l=u(f),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(o[l].references++,o[l].updater(h)):o.push({identifier:f,updater:p(h,n),references:1}),i.push(f)}return i}function c(t){var n=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=e.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){n.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(n);else{var u=r(t.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(n)}return n}var s,f=(s=[],function(t,n){return s[t]=n,s.filter(Boolean).join("\n")});function l(t,n,e,i){var r=e?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=f(n,r);else{var o=document.createTextNode(r),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function h(t,n,e){var i=e.css,r=e.media,o=e.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var d=null,v=0;function p(t,n){var e,i,r;if(n.singleton){var o=v++;e=d||(d=c(n)),i=l.bind(null,e,o,!1),r=l.bind(null,e,o,!0)}else e=c(n),i=h.bind(null,e,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var e=a(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<e.length;i++){var r=u(e[i]);o[r].references--}for(var c=a(t,n),s=0;s<e.length;s++){var f=u(e[s]);0===o[f].references&&(o[f].updater(),o.splice(f,1))}e=c}}}},function(t,n,e){(n=e(18)(!1)).push([t.i,'.image-tool {\n  --bg-color: #cdd1e0;\n  --front-color: #388ae5;\n  --border-color: #e8e8eb;\n}\n\n  .image-tool__image {\n    border-radius: 3px;\n    overflow: hidden;\n    margin-bottom: 10px;\n  }\n\n  .image-tool__image-picture {\n      max-width: 100%;\n      vertical-align: bottom;\n      display: block;\n    }\n\n  .image-tool__image-preloader {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      background-size: cover;\n      margin: auto;\n      position: relative;\n      background-color: var(--bg-color);\n      background-position: center center;\n    }\n\n  .image-tool__image-preloader::after {\n        content: "";\n        position: absolute;\n        z-index: 3;\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        border: 2px solid var(--bg-color);\n        border-top-color: var(--front-color);\n        left: 50%;\n        top: 50%;\n        margin-top: -30px;\n        margin-left: -30px;\n        animation: image-preloader-spin 2s infinite linear;\n        box-sizing: border-box;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]::before {\n      position: absolute !important;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      display: none;\n    }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {\n        display: block;\n      }\n\n  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {\n        display: none;\n      }\n\n  .image-tool--empty .image-tool__image {\n      display: none;\n    }\n\n  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {\n      display: none;\n    }\n\n  .image-tool--filled .cdx-button {\n      display: none;\n    }\n\n  .image-tool--filled .image-tool__image-preloader {\n        display: none;\n      }\n\n  .image-tool--loading .image-tool__image {\n      min-height: 200px;\n      display: flex;\n      border: 1px solid var(--border-color);\n      background-color: #fff;\n    }\n\n  .image-tool--loading .image-tool__image-picture {\n        display: none;\n      }\n\n  .image-tool--loading .cdx-button {\n      display: none;\n    }\n\n  /**\n   * Tunes\n   * ----------------\n   */\n\n  .image-tool--withBorder .image-tool__image {\n      border: 1px solid var(--border-color);\n    }\n\n  .image-tool--withBackground .image-tool__image {\n      padding: 15px;\n      background: var(--bg-color);\n    }\n\n  .image-tool--withBackground .image-tool__image-picture {\n        max-width: 60%;\n        margin: 0 auto;\n      }\n\n  .image-tool--stretched .image-tool__image-picture {\n        width: 100%;\n      }\n\n@keyframes image-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n',""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e,i,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var u=(e=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(i," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([u]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(r[u]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&r[c[0]]||(e&&(c[2]=c[2]?"".concat(e," and ").concat(c[2]):e),n.push(c))}},n}},function(t,n,e){var i=e(4);t.exports=function(t){if(Array.isArray(t))return i(t)}},function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,r=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(i=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return e}}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,n,e){e.r(n),e.d(n,"default",(function(){return F}));var i=e(3),r=e.n(i),o=e(6),u=e.n(o),a=e(1),c=e.n(a),s=e(0),f=e.n(s),l=(e(15),e(7)),h=e.n(l),d=e(8),v=e.n(d),p=function(){function t(n){var e=n.api,i=n.config,r=n.onSelectFile,o=n.readOnly;c()(this,t),this.api=e,this.config=i,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:b("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:b("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:b("div",this.CSS.imagePreloader),caption:b("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return f()(t,[{key:"render",value:function(n){return n.file&&0!==Object.keys(n.file).length?this.toggleStatus(t.status.UPLOADING):this.toggleStatus(t.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var t=this,n=b("div",[this.CSS.button]);return n.innerHTML=this.config.buttonContent||"".concat(v.a," ").concat(this.api.i18n.t("Select an Image")),n.addEventListener("click",(function(){t.onSelectFile()})),n}},{key:"showPreloader",value:function(n){this.nodes.imagePreloader.style.backgroundImage="url(".concat(n,")"),this.toggleStatus(t.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(t.status.EMPTY)}},{key:"fillImage",value:function(n){var e=this,i=/\.mp4$/.test(n)?"VIDEO":"IMG",r={src:n},o="load";"VIDEO"===i&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,o="loadeddata"),this.nodes.imageEl=b(i,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(o,(function(){e.toggleStatus(t.status.FILLED),e.nodes.imagePreloader&&(e.nodes.imagePreloader.style.backgroundImage="")})),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(t){this.nodes.caption&&(this.nodes.caption.innerHTML=t)}},{key:"toggleStatus",value:function(n){for(var e in t.status)Object.prototype.hasOwnProperty.call(t.status,e)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(t.status[e]),n===t.status[e])}},{key:"applyTune",value:function(t,n){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(t),n)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),t}(),b=function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(t);for(var o in Array.isArray(e)?(n=r.classList).add.apply(n,h()(e)):e&&r.classList.add(e),i)r[o]=i[o];return r},g=e(9),m=e.n(g),y=e(10),w=e.n(y),k=e(11),x=e.n(k),_=function(){function t(n){var e=n.api,i=n.actions,r=n.onChange;c()(this,t),this.api=e,this.actions=i,this.onChange=r,this.buttons=[]}return f()(t,[{key:"render",value:function(n){var e=this,i=b("div",this.CSS.wrapper);return this.buttons=[],t.tunes.concat(this.actions).forEach((function(t){var r=e.api.i18n.t(t.title),o=b("div",[e.CSS.buttonBase,e.CSS.button],{innerHTML:t.icon,title:r});o.addEventListener("click",(function(){e.tuneClicked(t.name,t.action)})),o.dataset.tune=t.name,o.classList.toggle(e.CSS.buttonActive,n[t.name]),e.buttons.push(o),e.api.tooltip.onHover(o,r,{placement:"top"}),i.appendChild(o)})),i}},{key:"tuneClicked",value:function(t,n){if("function"==typeof n&&!n(t))return!1;var e=this.buttons.find((function(n){return n.dataset.tune===t}));e.classList.toggle(this.CSS.buttonActive,!e.classList.contains(this.CSS.buttonActive)),this.onChange(t)}},{key:"CSS",get:function(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}}],[{key:"tunes",get:function(){return[{name:"withBorder",icon:w.a,title:"With border"},{name:"stretched",icon:x.a,title:"Stretch image"},{name:"withBackground",icon:m.a,title:"With background"}]}}]),t}(),j=e(12),E=e.n(j),S=e(13),O=e.n(S),T=e(2),A=e.n(T),M=function(){function t(n){var e=n.config,i=n.onUpload,r=n.onError;c()(this,t),this.config=e,this.onUpload=i,this.onError=r}return f()(t,[{key:"uploadSelectedFile",value:function(t){var n=this,e=t.onPreview,i=function(t){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){e(t.target.result)}};(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile?A.a.selectFiles({accept:this.config.types}).then((function(t){i(t[0]);var e=n.config.uploader.uploadByFile(t[0]);return R(e)||console.warn("Custom uploader method uploadByFile should return a Promise"),e})):A.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(t){i(t[0])},fieldName:this.config.field}).then((function(t){return t.body}))).then((function(t){n.onUpload(t)})).catch((function(t){n.onError(t)}))}},{key:"uploadByUrl",value:function(t){var n,e=this;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?R(n=this.config.uploader.uploadByUrl(t))||console.warn("Custom uploader method uploadByUrl should return a Promise"):n=A.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:t},this.config.additionalRequestData),type:A.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(t){return t.body})),n.then((function(t){e.onUpload(t)})).catch((function(t){e.onError(t)}))}},{key:"uploadByFile",value:function(t,n){var e,i=this,r=n.onPreview,o=new FileReader;if(o.readAsDataURL(t),o.onload=function(t){r(t.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)R(e=this.config.uploader.uploadByFile(t))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var u=new FormData;u.append(this.config.field,t),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach((function(t){var n=O()(t,2);u.append(n[0],n[1])})),e=A.a.post({url:this.config.endpoints.byFile,data:u,type:A.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((function(t){return t.body}))}e.then((function(t){i.onUpload(t)})).catch((function(t){i.onError(t)}))}}]),t}();function R(t){return Promise.resolve(t)===t}
/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */var F=function(){function t(n){var e=this,i=n.data,r=n.config,o=n.api,u=n.readOnly;c()(this,t),this.api=o,this.readOnly=u,this.config={endpoints:r.endpoints||"",additionalRequestData:r.additionalRequestData||{},additionalRequestHeaders:r.additionalRequestHeaders||{},field:r.field||"image",types:r.types||"image/*",captionPlaceholder:this.api.i18n.t(r.captionPlaceholder||"Caption"),buttonContent:r.buttonContent||"",uploader:r.uploader||void 0,actions:r.actions||[]},this.uploader=new M({config:this.config,onUpload:function(t){return e.onUpload(t)},onError:function(t){return e.uploadingFailed(t)}}),this.ui=new p({api:o,config:this.config,onSelectFile:function(){e.uploader.uploadSelectedFile({onPreview:function(t){e.ui.showPreloader(t)}})},readOnly:u}),this.tunes=new _({api:o,actions:this.config.actions,onChange:function(t){return e.tuneToggled(t)}}),this._data={},this.data=i}var n;return f()(t,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:E.a,title:"Image"}}}]),f()(t,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"save",value:function(){return this._data.caption=this.ui.nodes.caption.innerHTML,this.data}},{key:"renderSettings",value:function(){return this.tunes.render(this.data)}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(n=u()(r.a.mark((function t(n){var e,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.type,t.next="tag"===t.t0?3:"pattern"===t.t0?15:"file"===t.t0?18:21;break;case 3:if(!/^blob:/.test((e=n.detail.data).src)){t.next=13;break}return t.next=7,fetch(e.src);case 7:return i=t.sent,t.next=10,i.blob();case 10:return this.uploadFile(t.sent),t.abrupt("break",21);case 13:return this.uploadUrl(e.src),t.abrupt("break",21);case 15:return this.uploadUrl(n.detail.data),t.abrupt("break",21);case 18:return this.uploadFile(n.detail.file),t.abrupt("break",21);case 21:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"onUpload",value:function(t){t.success&&t.file?this.image=t.file:this.uploadingFailed("incorrect response: "+JSON.stringify(t))}},{key:"uploadingFailed",value:function(t){console.log("Image Tool: uploading failed because of",t),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(t){this.setTune(t,!this._data[t])}},{key:"setTune",value:function(t,n){var e=this;this._data[t]=n,this.ui.applyTune(t,n),"stretched"===t&&Promise.resolve().then((function(){var t=e.api.blocks.getCurrentBlockIndex();e.api.blocks.stretchBlock(t,n)})).catch((function(t){console.error(t)}))}},{key:"uploadFile",value:function(t){var n=this;this.uploader.uploadByFile(t,{onPreview:function(t){n.ui.showPreloader(t)}})}},{key:"uploadUrl",value:function(t){this.ui.showPreloader(t),this.uploader.uploadByUrl(t)}},{key:"data",set:function(t){var n=this;this.image=t.file,this._data.caption=t.caption||"",this.ui.fillCaption(this._data.caption),_.tunes.forEach((function(e){var i=e.name;n.setTune(i,void 0!==t[i]&&(!0===t[i]||"true"===t[i]))}))},get:function(){return this._data}},{key:"image",set:function(t){this._data.file=t||{},t&&t.url&&this.ui.fillImage(t.url)}}],[{key:"pasteConfig",get:function(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}}]),t}()}]).default}))),xn=mn(yn((function(t){window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=0)}([function(t,n,e){function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function o(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t}e(1).toString();var a=function(){function t(n){var e=n.data,i=n.api,r=n.readOnly;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._elements={wrapper:null},this.api=i,this.readOnly=r,this.settings=[{name:"unordered",title:this.api.i18n.t("Unordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',default:!1},{name:"ordered",title:this.api.i18n.t("Ordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M5.819 4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0-4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0 9.357h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 0 1 0-2.137zM1.468 4.155V1.33c-.554.404-.926.606-1.118.606a.338.338 0 0 1-.244-.104A.327.327 0 0 1 0 1.59c0-.107.035-.184.105-.234.07-.05.192-.114.369-.192.264-.118.475-.243.633-.373.158-.13.298-.276.42-.438a3.94 3.94 0 0 1 .238-.298C1.802.019 1.872 0 1.975 0c.115 0 .208.042.277.127.07.085.105.202.105.351v3.556c0 .416-.15.624-.448.624a.421.421 0 0 1-.32-.127c-.08-.085-.121-.21-.121-.376zm-.283 6.664h1.572c.156 0 .275.03.358.091a.294.294 0 0 1 .123.25.323.323 0 0 1-.098.238c-.065.065-.164.097-.296.097H.629a.494.494 0 0 1-.353-.119.372.372 0 0 1-.126-.28c0-.068.027-.16.081-.273a.977.977 0 0 1 .178-.268c.267-.264.507-.49.722-.678.215-.188.368-.312.46-.371.165-.11.302-.222.412-.334.109-.112.192-.226.25-.344a.786.786 0 0 0 .085-.345.6.6 0 0 0-.341-.553.75.75 0 0 0-.345-.08c-.263 0-.47.11-.62.329-.02.029-.054.107-.101.235a.966.966 0 0 1-.16.295c-.059.069-.145.103-.26.103a.348.348 0 0 1-.25-.094.34.34 0 0 1-.099-.258c0-.132.031-.27.093-.413.063-.143.155-.273.279-.39.123-.116.28-.21.47-.282.189-.072.411-.107.666-.107.307 0 .569.045.786.137a1.182 1.182 0 0 1 .618.623 1.18 1.18 0 0 1-.096 1.083 2.03 2.03 0 0 1-.378.457c-.128.11-.344.282-.646.517-.302.235-.509.417-.621.547a1.637 1.637 0 0 0-.148.187z"/></svg>',default:!0}],this._data={style:this.settings.find((function(t){return!0===t.default})).name,items:[]},this.data=e}return u(t,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',title:"List"}}}]),u(t,[{key:"render",value:function(){var t=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach((function(n){t._elements.wrapper.appendChild(t._make("li",t.CSS.item,{innerHTML:n}))})):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",(function(n){switch(n.keyCode){case 13:t.getOutofList(n);break;case 8:t.backspace(n)}}),!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var t=this,n=this._make("div",[this.CSS.settingsWrapper],{});return this.settings.forEach((function(e){var i=t._make("div",t.CSS.settingsButton,{innerHTML:e.icon});i.addEventListener("click",(function(){t.toggleTune(e.name);var n=i.parentNode.querySelectorAll("."+t.CSS.settingsButton);Array.from(n).forEach((function(n){return n.classList.remove(t.CSS.settingsButtonActive)})),i.classList.toggle(t.CSS.settingsButtonActive)})),t.api.tooltip.onHover(i,e.title,{placement:"top",hidingDelay:500}),t._data.style===e.name&&i.classList.add(t.CSS.settingsButtonActive),n.appendChild(i)})),n}},{key:"onPaste",value:function(t){this.data=this.pasteHandler(t.detail.data)}},{key:"makeMainTag",value:function(t){return this._make("ordered"===t?"ol":"ul",[this.CSS.baseBlock,this.CSS.wrapper,"ordered"===t?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(t){for(var n=this.makeMainTag(t);this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=t}},{key:"_make",value:function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(t);for(var u in Array.isArray(e)?(n=o.classList).add.apply(n,i(e)):e&&o.classList.add(e),r)o[u]=r[u];return o}},{key:"getOutofList",value:function(t){var n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(n.length<2)){var e=n[n.length-1],i=this.currentItem;i!==e||e.textContent.trim().length||(i.parentElement.removeChild(i),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),t.preventDefault(),t.stopPropagation())}}},{key:"backspace",value:function(t){var n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),e=n[0];e&&n.length<2&&!e.innerHTML.replace("<br>"," ").trim()&&t.preventDefault()}},{key:"selectItem",value:function(t){t.preventDefault();var n=window.getSelection(),e=n.anchorNode.parentNode.closest("."+this.CSS.item),i=new Range;i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i)}},{key:"pasteHandler",value:function(t){var n,e=t.tagName;switch(e){case"OL":n="ordered";break;case"UL":case"LI":n="unordered"}var i={style:n,items:[]};if("LI"===e)i.items=[t.innerHTML];else{var r=Array.from(t.querySelectorAll("LI"));i.items=r.map((function(t){return t.innerHTML})).filter((function(t){return!!t.trim()}))}return i}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item",settingsWrapper:"cdx-list-settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}},{key:"data",set:function(t){t||(t={}),this._data.style=t.style||this.settings.find((function(t){return!0===t.default})).name,this._data.items=t.items||[];var n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)},get:function(){this._data.items=[];for(var t=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),n=0;n<t.length;n++)t[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(t[n].innerHTML);return this._data}},{key:"currentItem",get:function(){var t=window.getSelection().anchorNode;return t.nodeType!==Node.ELEMENT_NODE&&(t=t.parentNode),t.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(t){return t.items.join(". ")},import:function(t){return{items:[t],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),t}();t.exports=a},function(t,n,e){var i=e(2),r=e(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),i(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,n,e){var i,r=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),o=[];function u(t){for(var n=-1,e=0;e<o.length;e++)if(o[e].identifier===t){n=e;break}return n}function a(t,n){for(var e={},i=[],r=0;r<t.length;r++){var a=t[r],c=n.base?a[0]+n.base:a[0],s=e[c]||0,f="".concat(c," ").concat(s);e[c]=s+1;var l=u(f),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(o[l].references++,o[l].updater(h)):o.push({identifier:f,updater:p(h,n),references:1}),i.push(f)}return i}function c(t){var n=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=e.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){n.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(n);else{var u=r(t.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(n)}return n}var s,f=(s=[],function(t,n){return s[t]=n,s.filter(Boolean).join("\n")});function l(t,n,e,i){var r=e?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=f(n,r);else{var o=document.createTextNode(r),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function h(t,n,e){var i=e.css,r=e.media,o=e.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var d=null,v=0;function p(t,n){var e,i,r;if(n.singleton){var o=v++;e=d||(d=c(n)),i=l.bind(null,e,o,!1),r=l.bind(null,e,o,!0)}else e=c(n),i=h.bind(null,e,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var e=a(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<e.length;i++){var r=u(e[i]);o[r].references--}for(var c=a(t,n),s=0;s<e.length;s++){var f=u(e[s]);0===o[f].references&&(o[f].updater(),o.splice(f,1))}e=c}}}},function(t,n,e){(n=e(4)(!1)).push([t.i,".cdx-list {\n    margin: 0;\n    padding-left: 40px;\n    outline: none;\n}\n\n    .cdx-list__item {\n        padding: 5.5px 0 5.5px 3px;\n        line-height: 1.6em;\n    }\n\n    .cdx-list--unordered {\n        list-style: disc;\n    }\n\n    .cdx-list--ordered {\n        list-style: decimal;\n    }\n\n    .cdx-list-settings {\n        display: flex;\n    }\n\n    .cdx-list-settings .cdx-settings-button {\n            width: 50%;\n        }\n",""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e,i,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var u=(e=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(i," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([u]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(r[u]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&r[c[0]]||(e&&(c[2]=c[2]?"".concat(e," and ").concat(c[2]):e),n.push(c))}},n}}])}))),_n=mn(yn((function(t){window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=14)}([function(t,n,e){var i=e(5),r=e(6),o=e(7),u=e(9);t.exports=function(t,n){return i(t)||r(t,n)||o(t,n)||u()}},function(t){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t){function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t){function n(t,n,e){var i,r,o,u,a;function c(){var s=Date.now()-u;s<n&&s>=0?i=setTimeout(c,n-s):(i=null,e||(a=t.apply(o,r),o=r=null))}null==n&&(n=100);var s=function(){o=this,r=arguments,u=Date.now();var s=e&&!i;return i||(i=setTimeout(c,n)),s&&(a=t.apply(o,r),o=r=null),a};return s.clear=function(){i&&(clearTimeout(i),i=null)},s.flush=function(){i&&(a=t.apply(o,r),o=r=null,clearTimeout(i),i=null)},s}n.debounce=n,t.exports=n},function(t){t.exports=function(t){if(Array.isArray(t))return t}},function(t){t.exports=function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,r=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(i=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return e}}},function(t,n,e){var i=e(8);t.exports=function(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}},function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}},function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,n,e){var i=e(11),r=e(12);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),i(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,n,e){var i,r=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),o=[];function u(t){for(var n=-1,e=0;e<o.length;e++)if(o[e].identifier===t){n=e;break}return n}function a(t,n){for(var e={},i=[],r=0;r<t.length;r++){var a=t[r],c=n.base?a[0]+n.base:a[0],s=e[c]||0,f="".concat(c," ").concat(s);e[c]=s+1;var l=u(f),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(o[l].references++,o[l].updater(h)):o.push({identifier:f,updater:p(h,n),references:1}),i.push(f)}return i}function c(t){var n=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=e.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){n.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(n);else{var u=r(t.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(n)}return n}var s,f=(s=[],function(t,n){return s[t]=n,s.filter(Boolean).join("\n")});function l(t,n,e,i){var r=e?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=f(n,r);else{var o=document.createTextNode(r),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function h(t,n,e){var i=e.css,r=e.media,o=e.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var d=null,v=0;function p(t,n){var e,i,r;if(n.singleton){var o=v++;e=d||(d=c(n)),i=l.bind(null,e,o,!1),r=l.bind(null,e,o,!0)}else e=c(n),i=h.bind(null,e,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var e=a(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<e.length;i++){var r=u(e[i]);o[r].references--}for(var c=a(t,n),s=0;s<e.length;s++){var f=u(e[s]);0===o[f].references&&(o[f].updater(),o.splice(f,1))}e=c}}}},function(t,n,e){(n=e(13)(!1)).push([t.i,".embed-tool--loading .embed-tool__caption {\n      display: none;\n    }\n\n    .embed-tool--loading .embed-tool__preloader {\n      display: block;\n    }\n\n    .embed-tool--loading .embed-tool__content {\n      display: none;\n    }\n  .embed-tool__preloader {\n    display: none;\n    position: relative;\n    height: 200px;\n    box-sizing: border-box;\n    border-radius: 5px;\n    border: 1px solid #e6e9eb;\n  }\n  .embed-tool__preloader::before {\n      content: '';\n      position: absolute;\n      z-index: 3;\n      left: 50%;\n      top: 50%;\n      width: 30px;\n      height: 30px;\n      margin-top: -25px;\n      margin-left: -15px;\n      border-radius: 50%;\n      border: 2px solid #cdd1e0;\n      border-top-color: #388ae5;\n      box-sizing: border-box;\n      animation: embed-preloader-spin 2s infinite linear;\n    }\n  .embed-tool__url {\n    position: absolute;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    max-width: 250px;\n    color: #7b7e89;\n    font-size: 11px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .embed-tool__content {\n    width: 100%;\n  }\n  .embed-tool__caption {\n    margin-top: 7px;\n  }\n  .embed-tool__caption[contentEditable=true][data-placeholder]::before{\n      position: absolute;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      opacity: 0;\n    }\n  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {\n         opacity: 1;\n      }\n  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {\n        opacity: 0;\n      }\n\n@keyframes embed-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e,i,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var u=(e=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(i," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([u]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(r[u]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&r[c[0]]||(e&&(c[2]=c[2]?"".concat(e," and ").concat(c[2]):e),n.push(c))}},n}},function(t,n,e){e.r(n),e.d(n,"default",(function(){return d}));var i=e(1),r=e.n(i),o=e(0),u=e.n(o),a=e(2),c=e.n(a),s=e(3),f=e.n(s),l={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(t){var n=u()(t,2),e=n[0],i=n[1];if(!i&&e)return e;var r={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return i=i.slice(1).split("&").map((function(t){var n=t.split("="),i=u()(n,2),o=i[0],a=i[1];return e||"v"!==o?r[o]?"".concat(r[o],"=").concat(a):null:(e=a,null)})).filter((function(t){return!!t})),e+"?"+i.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:"<iframe frameborder='0' scrolling='no' style=\"width:100%;\" height='436' allowfullscreen ></iframe>",height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(t){return t.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(t){return t.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(t){return t.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+)(?:\/.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(t){return t.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(t){return t[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(t){return t.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600}},h=(e(10),e(4)),d=function(){function t(n){var e=n.data,i=n.api,r=n.readOnly;c()(this,t),this.api=i,this._data={},this.element=null,this.readOnly=r,this.data=e}return f()(t,[{key:"render",value:function(){var n=this;if(!this.data.service){var e=document.createElement("div");return this.element=e,e}var i=t.services[this.data.service].html,r=document.createElement("div"),o=document.createElement("div"),u=document.createElement("template"),a=this.createPreloader();r.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),o.classList.add(this.CSS.input,this.CSS.caption),r.appendChild(a),o.contentEditable=!this.readOnly,o.dataset.placeholder="Enter a caption",o.innerHTML=this.data.caption||"",u.innerHTML=i,u.content.firstChild.setAttribute("src",this.data.embed),u.content.firstChild.classList.add(this.CSS.content);var c=this.embedIsReady(r);return r.appendChild(u.content.firstChild),r.appendChild(o),c.then((function(){r.classList.remove(n.CSS.containerLoading)})),this.element=r,r}},{key:"createPreloader",value:function(){var t=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,t.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),t.appendChild(n),t}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(n){var e=n.detail,i=e.key,r=e.data,o=t.services[i],u=o.embedUrl,a=o.width,c=o.height,s=o.id,f=void 0===s?function(t){return t.shift()}:s,l=o.regex.exec(r).slice(1),h=u.replace(/<%= remote_id %>/g,f(l));this.data={service:i,source:r,embed:h,width:a,height:c}}},{key:"embedIsReady",value:function(t){var n=null;return new Promise((function(e){(n=new MutationObserver(Object(h.debounce)(e,450))).observe(t,{childList:!0,subtree:!0})})).then((function(){n.disconnect()}))}},{key:"data",set:function(t){if(!(t instanceof Object))throw Error("Embed Tool data should be object");var n=t.caption;this._data={service:t.service||this.data.service,source:t.source||this.data.source,embed:t.embed||this.data.embed,width:t.width||this.data.width,height:t.height||this.data.height,caption:(void 0===n?"":n)||this.data.caption||""};var e=this.element;e&&e.parentNode.replaceChild(this.render(),e)},get:function(){if(this.element){var t=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=t?t.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(n){var e=n.config,i=(void 0===e?{}:e).services,o=void 0===i?{}:i,a=Object.entries(l),c=Object.entries(o).filter((function(t){var n=u()(t,2)[1];return"boolean"==typeof n&&!0===n})).map((function(t){return u()(t,1)[0]})),s=Object.entries(o).filter((function(t){var n=u()(t,2)[1];return"object"===r()(n)})).filter((function(n){var e=u()(n,2);return t.checkServiceConfig(e[1])})).map((function(t){var n=u()(t,2),e=n[1];return[n[0],{regex:e.regex,embedUrl:e.embedUrl,html:e.html,height:e.height,width:e.width,id:e.id}]}));c.length&&(a=a.filter((function(t){var n=u()(t,1)[0];return c.includes(n)}))),a=a.concat(s),t.services=a.reduce((function(t,n){var e=u()(n,2),i=e[0],r=e[1];return i in t?(t[i]=Object.assign({},t[i],r),t):(t[i]=r,t)}),{}),t.patterns=a.reduce((function(t,n){var e=u()(n,2);return t[e[0]]=e[1].regex,t}),{})}},{key:"checkServiceConfig",value:function(t){var n=t.regex,e=t.embedUrl,i=t.html,r=t.height,o=t.width,u=t.id,a=n&&n instanceof RegExp&&e&&"string"==typeof e&&i&&"string"==typeof i;return(a=(a=a&&(void 0===u||u instanceof Function))&&(void 0===r||Number.isFinite(r)))&&(void 0===o||Number.isFinite(o))}},{key:"pasteConfig",get:function(){return{patterns:t.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),t}()}]).default}))),jn=mn(yn((function(t){window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=0)}([function(t,n,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e(1).toString();
/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */
var o=function(){function t(n){var e=n.data,i=n.config,r=n.api,o=n.readOnly;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header"},this._settings=i,this._data=this.normalizeData(e),this.settingsButtons=[],this._element=this.getTag()}var n,o,u;return n=t,u=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:e(6).default,title:"Heading"}}}],(o=[{key:"normalizeData",value:function(t){var n={};return"object"!==i(t)&&(t={}),n.text=t.text||"",n.level=parseInt(t.level)||this.defaultLevel.number,n}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var t=this,n=document.createElement("DIV");return this.levels.length<=1||this.levels.forEach((function(e){var i=document.createElement("SPAN");i.classList.add(t._CSS.settingsButton),t.currentLevel.number===e.number&&i.classList.add(t._CSS.settingsButtonActive),i.innerHTML=e.svg,i.dataset.level=e.number,i.addEventListener("click",(function(){t.setLevel(e.number)})),n.appendChild(i),t.settingsButtons.push(i)})),n}},{key:"setLevel",value:function(t){var n=this;this.data={level:t,text:this.data.text},this.settingsButtons.forEach((function(e){e.classList.toggle(n._CSS.settingsButtonActive,parseInt(e.dataset.level)===t)}))}},{key:"merge",value:function(t){this.data={text:this.data.text+t.text,level:this.data.level}}},{key:"validate",value:function(t){return""!==t.text.trim()}},{key:"save",value:function(t){return{text:t.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var t=document.createElement(this.currentLevel.tag);return t.innerHTML=this._data.text||"",t.classList.add(this._CSS.wrapper),t.contentEditable=this.readOnly?"false":"true",t.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),t}},{key:"onPaste",value:function(t){var n=t.detail.data,e=this.defaultLevel.number;switch(n.tagName){case"H1":e=1;break;case"H2":e=2;break;case"H3":e=3;break;case"H4":e=4;break;case"H5":e=5;break;case"H6":e=6}this._settings.levels&&(e=this._settings.levels.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}))),this.data={level:e,text:n.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(t){if(this._data=this.normalizeData(t),void 0!==t.level&&this._element.parentNode){var n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}void 0!==t.text&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var t=this,n=this.levels.find((function(n){return n.number===t._data.level}));return n||(n=this.defaultLevel),n}},{key:"defaultLevel",get:function(){var t=this;if(this._settings.defaultLevel){var n=this.levels.find((function(n){return n.number===t._settings.defaultLevel}));if(n)return n;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var t=this,n=[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}];return this._settings.levels?n.filter((function(n){return t._settings.levels.includes(n.number)})):n}}])&&r(n.prototype,o),u&&r(n,u),t}();t.exports=o},function(t,n,e){var i=e(2);"string"==typeof i&&(i=[[t.i,i,""]]);e(4)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(3)(!1)).push([t.i,"/**\n * Plugin styles\n */\n.ce-header {\n  padding: 1em 0;\n  margin: 0;\n  margin-bottom: -0.9em;\n  line-height: 1.5em;\n  outline: none;\n}\n\n.ce-header p,\n.ce-header div{\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n/**\n * Styles for Plugin icon in Toolbar\n */\n.ce-header__icon {}\n\n.ce-header[contentEditable=true][data-placeholder]::before{\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  display: none;\n  cursor: text;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty::before {\n  display: block;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {\n  display: none;\n}\n",""])},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",i=t[3];if(!i)return e;if(n&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */",o=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[e].concat(o).concat([r]).join("\n")}return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e})).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var u=t[r];"number"==typeof u[0]&&i[u[0]]||(e&&!u[2]?u[2]=e:e&&(u[2]="("+u[2]+") and ("+e+")"),n.push(u))}},n}},function(t,n,e){var i,r,o={},u=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),a=function(t){return document.querySelector(t)},c=function(){var t={};return function(n){if("function"==typeof n)return n();if(void 0===t[n]){var e=a.call(this,n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}}(),s=null,f=0,l=[],h=e(5);function d(t,n){for(var e=0;e<t.length;e++){var i=t[e],r=o[i.id];if(r){r.refs++;for(var u=0;u<r.parts.length;u++)r.parts[u](i.parts[u]);for(;u<i.parts.length;u++)r.parts.push(y(i.parts[u],n))}else{var a=[];for(u=0;u<i.parts.length;u++)a.push(y(i.parts[u],n));o[i.id]={id:i.id,refs:1,parts:a}}}}function v(t,n){for(var e=[],i={},r=0;r<t.length;r++){var o=t[r],u=n.base?o[0]+n.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[u]?i[u].parts.push(a):e.push(i[u]={id:u,parts:[a]})}return e}function p(t,n){var e=c(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?e.insertBefore(n,i.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),l.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(t.insertInto+" "+t.insertAt.before);e.insertBefore(n,r)}}function b(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=l.indexOf(t);n>=0&&l.splice(n,1)}function g(t){var n=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),m(n,t.attrs),p(t,n),n}function m(t,n){Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])}))}function y(t,n){var e,i,r,o;if(n.transform&&t.css){if(!(o=n.transform(t.css)))return function(){};t.css=o}if(n.singleton){var u=f++;e=s||(s=g(n)),i=x.bind(null,e,u,!1),r=x.bind(null,e,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(n,t.attrs),p(t,n),n}(n),i=j.bind(null,e,n),r=function(){b(e),e.href&&URL.revokeObjectURL(e.href)}):(e=g(n),i=_.bind(null,e),r=function(){b(e)});return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=u()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=v(t,n);return d(e,n),function(t){for(var i=[],r=0;r<e.length;r++)(u=o[e[r].id]).refs--,i.push(u);for(t&&d(v(t,n),n),r=0;r<i.length;r++){var u;if(0===(u=i[r]).refs){for(var a=0;a<u.parts.length;a++)u.parts[a]();delete o[u.id]}}}};var w,k=(w=[],function(t,n){return w[t]=n,w.filter(Boolean).join("\n")});function x(t,n,e,i){var r=e?"":i.css;if(t.styleSheet)t.styleSheet.cssText=k(n,r);else{var o=document.createTextNode(r),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function _(t,n){var e=n.css,i=n.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}function j(t,n,e){var i=e.css,r=e.sourceMap;(n.convertToAbsoluteUrls||void 0===n.convertToAbsoluteUrls&&r)&&(i=h(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(o),u&&URL.revokeObjectURL(u)}},function(t){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,i=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,n){var r,o=n.trim().replace(/^"(.*)"$/,(function(t,n){return n})).replace(/^'(.*)'$/,(function(t,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?e+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,n,e){e.r(n),n.default='<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">\n  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>\n</svg>\n'}])}))),En=mn(yn((function(t){window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=0)}([function(t,n,e){function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}e(1).toString();var o=function(){function t(n){var e=n.data,i=n.config,r=n.api,o=n.readOnly;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.config=i,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph",alignment:{left:"ce-paragraph--left",center:"ce-paragraph--center",right:"ce-paragraph--right",justify:"ce-paragraph--justify"}},this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.settings=[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"right",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/></svg>'},{name:"justify",icon:'<svg viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.867 19 L 10.914 19 C 9.26 19 7.918 19.896 7.918 21 C 7.918 22.104 9.26 23 10.914 23 L 52.867 23 C 54.522 23 55.863 22.104 55.863 21 C 55.863 19.896 54.522 19 52.867 19 Z" style=""></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.779 41 L 11.113 41 C 9.469 41 8.136 41.896 8.136 43 C 8.136 44.104 9.469 45 11.113 45 L 52.779 45 C 54.421 45 55.754 44.104 55.754 43 C 55.754 41.896 54.421 41 52.779 41 Z" style=""></path></svg>'}],this.onKeyUp=this.onKeyUp.bind(this),this._placeholder=i.placeholder?i.placeholder:t.DEFAULT_PLACEHOLDER,this._data={text:e.text||"",alignment:e.alignment||i.defaultAlignment||t.DEFAULT_ALIGNMENT},this._element=this.drawView(),this.data=e,this._preserveBlank=void 0!==i.preserveBlank&&i.preserveBlank}return r(t,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center",right:"right",justify:"justify"}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"DEFAULT_ALIGNMENT",get:function(){return t.ALIGNMENTS.left}}]),r(t,[{key:"onKeyUp",value:function(t){"Backspace"!==t.code&&"Delete"!==t.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block,this._CSS.alignment[this.data.alignment]),t.contentEditable=!this.readOnly,t.dataset.placeholder=this.api.i18n.t(this._placeholder),t.innerHTML=this.data.text,t.addEventListener("keyup",this.onKeyUp),t}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(t){var n={text:this.data.text+=t.text,alignment:this.data.alignment};this._element.innerHTML=this.data.text,this.data=n}},{key:"validate",value:function(t){return!(""===t.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(t){return Object.assign(this.data,{text:t.innerHTML})}},{key:"onPaste",value:function(n){this.data={text:n.detail.data.innerHTML,alignment:this.config.defaultAlignment||t.DEFAULT_ALIGNMENT}}},{key:"renderSettings",value:function(){var t=this,n=document.createElement("div");return this.settings.map((function(e){var i=document.createElement("div");return i.classList.add("cdx-settings-button"),i.innerHTML=e.icon,i.classList.toggle(t.CSS.settingsButtonActive,e.name===t.data.alignment),n.appendChild(i),i})).forEach((function(n,e,i){n.addEventListener("click",(function(){t._toggleTune(t.settings[e].name),i.forEach((function(n,e){var i=t.settings[e].name;n.classList.toggle(t.CSS.settingsButtonActive,i===t.data.alignment),t._element.classList.toggle(t._CSS.alignment[i],i===t.data.alignment)}))}))})),n}},{key:"_toggleTune",value:function(t){this.data.alignment=t}},{key:"data",get:function(){return this._data},set:function(n){this._data={text:n.text||"",alignment:n.alignment||this.config.defaultAlignment||t.DEFAULT_ALIGNMENT},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0},alignment:{}}}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:e(5).default,title:"Text"}}}]),t}();t.exports=o},function(t,n,e){var i=e(2),r=e(3);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]),i(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},function(t,n,e){var i,r=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),o=[];function u(t){for(var n=-1,e=0;e<o.length;e++)if(o[e].identifier===t){n=e;break}return n}function a(t,n){for(var e={},i=[],r=0;r<t.length;r++){var a=t[r],c=n.base?a[0]+n.base:a[0],s=e[c]||0,f="".concat(c," ").concat(s);e[c]=s+1;var l=u(f),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(o[l].references++,o[l].updater(h)):o.push({identifier:f,updater:p(h,n),references:1}),i.push(f)}return i}function c(t){var n=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=e.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){n.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(n);else{var u=r(t.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(n)}return n}var s,f=(s=[],function(t,n){return s[t]=n,s.filter(Boolean).join("\n")});function l(t,n,e,i){var r=e?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=f(n,r);else{var o=document.createTextNode(r),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function h(t,n,e){var i=e.css,r=e.media,o=e.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var d=null,v=0;function p(t,n){var e,i,r;if(n.singleton){var o=v++;e=d||(d=c(n)),i=l.bind(null,e,o,!1),r=l.bind(null,e,o,!0)}else e=c(n),i=h.bind(null,e,n),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var e=a(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<e.length;i++){var r=u(e[i]);o[r].references--}for(var c=a(t,n),s=0;s<e.length;s++){var f=u(e[s]);0===o[f].references&&(o[f].updater(),o.splice(f,1))}e=c}}}},function(t,n,e){(n=e(4)(!1)).push([t.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n.ce-paragraph--right {\n    text-align: right;\n}\n.ce-paragraph--center {\n    text-align: center;\n}\n.ce-paragraph--left {\n    text-align: left;\n}\n\n.ce-paragraph--justify {\n    text-align: justify;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n\n\n.svg-icon {\n    width: 1em;\n    height: 1em;\n}\n\n.svg-icon path,\n.svg-icon polygon,\n.svg-icon rect {\n    fill: #4691f6;\n}\n\n.svg-icon circle {\n    stroke: #4691f6;\n    stroke-width: 1;\n}",""]),t.exports=n},function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e,i,r=t[1]||"",o=t[3];if(!o)return r;if(n&&"function"==typeof btoa){var u=(e=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(i," */")),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[r].concat(a).concat([u]).join("\n")}return[r].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(r[u]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&r[c[0]]||(e&&(c[2]=c[2]?"".concat(e," and ").concat(c[2]):e),n.push(c))}},n}},function(t,n,e){e.r(n),n.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">\n  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>\n</svg>\n'}])}))),Sn=mn(yn((function(t){window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){e.r(n),e.d(n,"StyleInlineTool",(function(){return s}));class i extends HTMLElement{}class r extends Error{constructor(...t){super(...t),this.name="EditorJSStyleError"}}var o,u,a=function(t,n,e){if(!n.has(t))throw new TypeError("attempted to set private field on non-instance");return n.set(t,e),e},c=function(t,n){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");return n.get(t)};class s{constructor({api:t}){o.set(this,void 0),u.set(this,void 0),a(this,o,document.createElement("div")),a(this,u,t)}static get isInline(){return!0}static get sanitize(){return{"editorjs-style":{class:!0,id:!0,style:!0}}}static get title(){return"Style"}static prepare(){customElements.get("editorjs-style")||customElements.define("editorjs-style",i)}get shortcut(){return"CMD+S"}checkState(){var t;c(this,o).innerHTML="";const n=c(this,u).selection.findParentTag("EDITORJS-STYLE");if(!n)return!1;c(this,o).innerHTML=`\n      <div style="margin-bottom: 16px; margin-left: 16px; margin-right: 16px; ">\n        <div style="display: flex; align-items: center; justify-content: space-between; ">\n          <div>Style settings</div>\n\n          <button class="delete-button ${c(this,u).styles.settingsButton}" type="button">\n            <svg class="icon" height="24" viewBox="0 0 24 24" width="24">\n              <path d="M0 0h24v24H0z" fill="none"/>\n              <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>\n            </svg>\n          </button>\n        </div>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>ID</span>\n\n          <input class="id-input ${c(this,u).styles.input}" style="width: 80%; ">\n        </label>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>Class</span>\n\n          <input class="class-input ${c(this,u).styles.input}" style="width: 80%; ">\n        </label>\n\n        <label style="display: flex; align-items: center; justify-content: space-between; ">\n          <span>Style</span>\n\n          <textarea\n            class="style-textarea ${c(this,u).styles.input}"\n            placeholder="background: #ffe7e8;"\n            style="resize: none; width: 80%; ">\n          </textarea>\n        </label>\n      </div>\n    `;const e=c(this,o).querySelector(".delete-button"),i=c(this,o).querySelector(".class-input"),a=c(this,o).querySelector(".id-input"),s=c(this,o).querySelector(".style-textarea");if(!(e&&i&&a&&s))throw new r;return e.addEventListener("click",(()=>{const t=Array.from(n.childNodes).map((t=>t.cloneNode(!0)));if(t.forEach((t=>{var e;return null===(e=n.parentNode)||void 0===e?void 0:e.insertBefore(t,n)})),n.remove(),0===t.length)return;const e=window.getSelection();if(!e)throw new r;e.removeAllRanges();const i=new Range;i.setStartBefore(t[0]),i.setEndAfter(t[t.length-1]),e.addRange(i),c(this,o).innerHTML="",c(this,u).tooltip.hide()})),c(this,u).tooltip.onHover(e,"Delete style",{placement:"top"}),i.value=n.className,i.addEventListener("input",(()=>n.setAttribute("class",i.value))),a.value=n.id,a.addEventListener("input",(()=>n.id=a.value)),s.value=null!==(t=n.getAttribute("style"))&&void 0!==t?t:"",s.addEventListener("keydown",(t=>t.stopPropagation())),s.addEventListener("input",(()=>n.setAttribute("style",s.value))),!0}clear(){c(this,o).innerHTML=""}render(){const t=document.createElement("button");return t.classList.add(c(this,u).styles.inlineToolButton),t.type="button",t.innerHTML='\n      <svg class="icon" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"/>\n      </svg>\n    ',t}renderActions(){return c(this,o)}surround(t){const n=new i;t.surroundContents(n),c(this,u).selection.expandToTag(n)}}o=new WeakMap,u=new WeakMap}])})));function On(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Tn(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Mn=function(t){return t&&"object"===An(t)&&!Array.isArray(t)},Rn=function t(n,e){var i=Object.assign({},n);return Mn(n)&&Mn(e)&&Object.keys(e).forEach((function(r){Mn(e[r])&&r in n?i[r]=t(n[r],e[r]):Object.assign(i,function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}({},r,e[r]))})),i},Fn={youtube:'<div class="embed"><iframe class="embed-youtube" frameborder="0" src="<%data.embed%>" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen <%data.length%>></iframe></div>',twitter:'<blockquote class="twitter-tweet" class="embed-twitter" <%data.length%>><a href="<%data.source%>"></a></blockquote> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"><\/script>',instagram:'<blockquote class="instagram-media" <%data.length%>><a href="<%data.embed%>/captioned"></a></blockquote><script async defer src="//www.instagram.com/embed.js"><\/script>',codepen:'<div class="embed"><iframe <%data.length%> scrolling="no" src="<%data.embed%>" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true"></iframe></div>',defaultMarkup:'<div class="embed"><iframe src="<%data.embed%>" <%data.length%> class="embed-unknown" allowfullscreen="true" frameborder="0" ></iframe></div>'},Cn={paragraph:function(t,n){return'<p class="'.concat(n.paragraph.pClass,'"> ').concat(t.text," </p>")},header:function(t){return"<h".concat(t.level,">").concat(t.text,"</h").concat(t.level,">")},list:function(t){var n="ordered"===t.style?"ol":"ul",e=t.items.reduce((function(t,n){return t+"<li>".concat(n,"</li>")}),"");return"<".concat(n,">").concat(e,"</").concat(n,">")},quote:function(t,n){var e="";return n.quote.applyAlignment&&(e='style="text-align: '.concat(t.alignment,';"')),"<blockquote ".concat(e,"><p>").concat(t.text,"</p><cite>").concat(t.caption,"</cite></blockquote>")},table:function(t){var n=t.content.map((function(t){return"<tr>".concat(t.reduce((function(t,n){return t+"<td>".concat(n,"</td>")}),""),"</tr>")}));return"<table><tbody>".concat(n.join(""),"</tbody></table>")},image:function(t,n){var e,i="".concat(t.stretched?"img-fullwidth":""," ").concat(t.withBorder?"img-border":""," ").concat(t.withBackground?"img-bg":""),r=n.image.imgClass||"";if(e=t.url?t.url:"absolute"===n.image.path?t.file.url:n.image.path.replace(/<(.+)>/,(function(n,e){return t.file[e]})),"img"===n.image.use)return'<img class="'.concat(i," ").concat(r,'" src="').concat(e,'" alt="').concat(t.caption,'">');if("figure"===n.image.use){var o=n.image.figCapClass||"";return'<figure class="'.concat(n.image.figureClass||"",'"><img class="').concat(r," ").concat(i,'" src="').concat(e,'" alt="').concat(t.caption,'"><figcaption class="').concat(o,'">').concat(t.caption,"</figcaption></figure>")}},code:function(t,n){var e=function(t){return(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")}(t.code);return'<pre><code class="'.concat(n.code.codeBlockClass,'">').concat(e,"</code></pre>")},raw:function(t){return t.html},delimiter:function(){return"<br />"},embed:function(t,n){t.length=n.embed.useProvidedLength?'width="'.concat(t.width,'" height="').concat(t.height,'"'):"";var e=new RegExp(/<%data\.(.+?)%>/,"gm");return n.embedMarkups[t.service]?n.embedMarkups[t.service].replace(e,(function(n,e){return t[e]})):n.embedMarkups.defaultMarkup.replace(e,(function(n,e){return t[e]}))}},In={image:{use:"figure",imgClass:"img",figureClass:"fig-img",figCapClass:"fig-cap",path:"absolute"},paragraph:{pClass:"paragraph"},code:{codeBlockClass:"code-block"},embed:{useProvidedLength:!1},quote:{applyAlignment:!1}},Bn=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};On(this,t),this.config=Rn(In,n),this.config.embedMarkups=Object.assign(Fn,i),this.parsers=Object.assign(Cn,e)}var n,e;return n=t,(e=[{key:"parse",value:function(t){var n=this;return t.blocks.map((function(t){var e=n.parseBlock(t);return e instanceof Error?"":e})).join("")}},{key:"parseBlock",value:function(t){if(!this.parsers[t.type])return new Error("".concat(t.type," is not supported! Define your own custom function."));try{return this.parsers[t.type](t.data,this.config)}catch(t){return t}}}])&&Tn(n.prototype,e),t}();const zn=mn(yn((function(t){window,t.exports=function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=3)}([function(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",i=t[3];if(!i)return e;if(n&&"function"==typeof btoa){var r="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */",o=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[e].concat(o).concat([r]).join("\n")}return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e})).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var u=t[r];"number"==typeof u[0]&&i[u[0]]||(e&&!u[2]?u[2]=e:e&&(u[2]="("+u[2]+") and ("+e+")"),n.push(u))}},n}},function(t,n,e){var i,r,o={},u=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),a=function(){var t={};return function(n,e){if("function"==typeof n)return n();if(void 0===t[n]){var i=function(t,n){return n?n.querySelector(t):document.querySelector(t)}.call(this,n,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(n){i=null}t[n]=i}return t[n]}}(),c=null,s=0,f=[],l=e(6);function h(t,n){for(var e=0;e<t.length;e++){var i=t[e],r=o[i.id];if(r){r.refs++;for(var u=0;u<r.parts.length;u++)r.parts[u](i.parts[u]);for(;u<i.parts.length;u++)r.parts.push(m(i.parts[u],n))}else{var a=[];for(u=0;u<i.parts.length;u++)a.push(m(i.parts[u],n));o[i.id]={id:i.id,refs:1,parts:a}}}}function d(t,n){for(var e=[],i={},r=0;r<t.length;r++){var o=t[r],u=n.base?o[0]+n.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[u]?i[u].parts.push(a):e.push(i[u]={id:u,parts:[a]})}return e}function v(t,n){var e=a(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=f[f.length-1];if("top"===t.insertAt)i?i.nextSibling?e.insertBefore(n,i.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),f.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertAt.before,e);e.insertBefore(n,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=f.indexOf(t);n>=0&&f.splice(n,1)}function b(t){var n=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=e.nc;i&&(t.attrs.nonce=i)}return g(n,t.attrs),v(t,n),n}function g(t,n){Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])}))}function m(t,n){var e,i,r,o;if(n.transform&&t.css){if(!(o="function"==typeof n.transform?n.transform(t.css):n.transform.default(t.css)))return function(){};t.css=o}if(n.singleton){var u=s++;e=c||(c=b(n)),i=k.bind(null,e,u,!1),r=k.bind(null,e,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(n,t.attrs),v(t,n),n}(n),i=function(t,n,e){var i=e.css,r=e.sourceMap;(n.convertToAbsoluteUrls||void 0===n.convertToAbsoluteUrls&&r)&&(i=l(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(o),u&&URL.revokeObjectURL(u)}.bind(null,e,n),r=function(){p(e),e.href&&URL.revokeObjectURL(e.href)}):(e=b(n),i=function(t,n){var e=n.css,i=n.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),r=function(){p(e)});return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=u()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=d(t,n);return h(e,n),function(t){for(var i=[],r=0;r<e.length;r++)(u=o[e[r].id]).refs--,i.push(u);for(t&&h(d(t,n),n),r=0;r<i.length;r++){var u;if(0===(u=i[r]).refs){for(var a=0;a<u.parts.length;a++)u.parts[a]();delete o[u.id]}}}};var y,w=(y=[],function(t,n){return y[t]=n,y.filter(Boolean).join("\n")});function k(t,n,e,i){var r=e?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(n,r);else{var o=document.createTextNode(r),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}},function(t){t.exports='<svg viewBox="0 0 20 20"><circle cx="10" cy="10" r="10" fill="#388AE5"></circle><path fill="#FFF" d="M10.9 9.1h3.7a.9.9 0 1 1 0 1.8h-3.7v3.7a.9.9 0 1 1-1.8 0v-3.7H5.4a.9.9 0 0 1 0-1.8h3.7V5.4a.9.9 0 0 1 1.8 0v3.7z"></path></svg>'},function(t,n,e){const i=e(12).TableConstructor,r=e(11),o="tc-table__inp";t.exports=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:r,title:"Table"}}constructor({data:t,config:n,api:e,readOnly:r}){this.api=e,this.readOnly=r,this._tableConstructor=new i(t,n,e,r)}render(){return this._tableConstructor.htmlElement}save(t){const n=[],e=t.querySelector("table").rows;for(let t=0;t<e.length;t++){const i=Array.from(e[t].cells).map((t=>t.querySelector("."+o)));i.every(this._isEmpty)||n.push(i.map((t=>t.innerHTML)))}return{content:n}}_isEmpty(t){return!t.textContent.trim()}}},function(t,n,e){var i=e(5);"string"==typeof i&&(i=[[t.i,i,""]]);e(1)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,".tc-editor{padding:10px;position:relative;box-sizing:content-box;width:100%;left:-10px}",""])},function(t){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,i=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,n){var r,o=n.trim().replace(/^"(.*)"$/,(function(t,n){return n})).replace(/^'(.*)'$/,(function(t,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?e+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,n,e){var i=e(8);"string"==typeof i&&(i=[[t.i,i,""]]);e(1)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,".tc-toolbar{background:#368be6;}.tc-toolbar--hidden{visibility:hidden}.tc-toolbar--hor{width:100%;height:21px;flex-direction:row;left:0;top:1px}.tc-toolbar--hor,.tc-toolbar--ver{display:flex;align-items:center;position:absolute;z-index:100}.tc-toolbar--ver{height:100%;width:21px;flex-direction:column;top:0;left:-1px}.tc-toolbar__plus{height:21px;width:21px;margin-top:0;}.tc-toolbar__plus--hor{margin-left:-10px}.tc-toolbar__plus--ver{margin-top:-10px}.tc-toolbar__shine-line--hor{min-height:1px;width:100%}.tc-toolbar__shine-line--ver{min-width:1px;height:100%}",""])},function(t,n,e){var i=e(10);"string"==typeof i&&(i=[[t.i,i,""]]);e(1)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,".tc-table{width:100%;height:100%;border-collapse:collapse;table-layout:fixed;}.tc-table__wrap{border:1px solid #dbdbe2;border-radius:3px;position:relative;height:100%;width:100%;box-sizing:border-box}.tc-table__cell{border:1px solid #dbdbe2;padding:0;vertical-align:top}.tc-table__area{padding:10px;height:100%}.tc-table__inp{outline:none;flex-grow:100;min-height:1.5em;height:100%;overflow:hidden}.tc-table tbody tr:first-child td{border-top:none}.tc-table tbody tr:last-child td{border-bottom:none}.tc-table tbody tr td:last-child{border-right:none}.tc-table tbody tr td:first-child{border-left:none}",""])},function(t){t.exports='<svg width="18" height="14"><path d="M2.833 8v1.95a1.7 1.7 0 0 0 1.7 1.7h3.45V8h-5.15zm0-2h5.15V2.35h-3.45a1.7 1.7 0 0 0-1.7 1.7V6zm12.3 2h-5.15v3.65h3.45a1.7 1.7 0 0 0 1.7-1.7V8zm0-2V4.05a1.7 1.7 0 0 0-1.7-1.7h-3.45V6h5.15zM4.533.1h8.9a3.95 3.95 0 0 1 3.95 3.95v5.9a3.95 3.95 0 0 1-3.95 3.95h-8.9a3.95 3.95 0 0 1-3.95-3.95v-5.9A3.95 3.95 0 0 1 4.533.1z"></path></svg>'},function(t,n,e){function i(t){return!(null==t)}function r(t,n=null,e=null,r=null){const o=document.createElement(t);if(i(n))for(let t=0;t<n.length;t++)i(n[t])&&o.classList.add(n[t]);if(i(e))for(let t in e)o.setAttribute(t,e[t]);if(i(r))for(let t=0;t<r.length;t++)i(r[t])&&o.appendChild(r[t]);return o}function o(t){const n=t.getBoundingClientRect();return{y1:Math.floor(n.top+window.pageYOffset),x1:Math.floor(n.left+window.pageXOffset),x2:Math.floor(n.right+window.pageXOffset),y2:Math.floor(n.bottom+window.pageYOffset)}}function u(t,n,e){let i;return n-t.x1>=-1&&n-t.x1<=11&&(i="left"),t.x2-n>=-1&&t.x2-n<=11&&(i="right"),e-t.y1>=-1&&e-t.y1<=11&&(i="top"),t.y2-e>=-1&&t.y2-e<=11&&(i="bottom"),i}e.r(n),e(4),e(7);var a=e(2),c=e.n(a);const s="tc-toolbar",f="tc-toolbar--hidden",l="tc-toolbar--hor",h="tc-toolbar__shine-line--hor",d="tc-toolbar--ver",v="tc-toolbar__shine-line--ver",p="tc-toolbar__plus",b="tc-toolbar__plus--hor",g="tc-toolbar__plus--ver",m="tc-table__area";class y{constructor(){this._plusButton=this._generatePlusButton(),this._highlightingLine=this._generateHighlightingLine(),this._toolbar=this._generateToolBar([this._plusButton,this._highlightingLine])}hide(){this._toolbar.classList.add(f)}show(){this._toolbar.classList.remove(f),this._highlightingLine.classList.remove(f)}hideLine(){this._highlightingLine.classList.add(f)}get htmlElement(){return this._toolbar}_generatePlusButton(){const t=r("div",[p]);return t.innerHTML=c.a,t.addEventListener("click",(t=>{t.stopPropagation();const n=new CustomEvent("click",{detail:{x:t.pageX,y:t.pageY},bubbles:!0});this._toolbar.dispatchEvent(n)})),t}_generateHighlightingLine(){const t=r("div",[s]);return t.addEventListener("click",(t=>{t.stopPropagation();const n=new CustomEvent("click",{bubbles:!0});this._toolbar.dispatchEvent(n)})),t}_generateToolBar(t){const n=r("div",[f],null,t);return n.addEventListener("mouseleave",(t=>{this._recalcMousePos(t)})),n}_recalcMousePos(t){this.hide();const n=document.elementFromPoint(t.pageX,t.pageY);if(null!==n&&n.classList.contains(m)){const e=new MouseEvent("mouseover",{clientX:t.pageX,clientY:t.pageY});n.dispatchEvent(e)}}}class w extends y{constructor(){super(),this._toolbar.classList.add(l),this._plusButton.classList.add(b),this._highlightingLine.classList.add(h)}showIn(t){const n=Math.floor(Number.parseInt(window.getComputedStyle(this._toolbar).height)/2);this._toolbar.style.top=t-n+"px",this.show()}}class k extends y{constructor(){super(),this._toolbar.classList.add(d),this._plusButton.classList.add(g),this._highlightingLine.classList.add(v)}showIn(t){const n=Math.floor(Number.parseInt(window.getComputedStyle(this._toolbar).width)/2);this._toolbar.style.left=t-n+"px",this.show()}}e(9);const x="tc-table",_="tc-table__inp",j="tc-table__cell",E="tc-table__wrap",S="tc-table__area";class O{constructor(t){this.readOnly=t,this._numberOfColumns=0,this._numberOfRows=0,this._element=this._createTableWrapper(),this._table=this._element.querySelector("table"),this.readOnly||this._hangEvents()}addColumn(t=-1){this._numberOfColumns++;const n=this._table.rows;for(let e=0;e<n.length;e++){const i=n[e].insertCell(t);this._fillCell(i)}}addRow(t=-1){this._numberOfRows++;const n=this._table.insertRow(t);return this._fillRow(n),n}get htmlElement(){return this._element}get body(){return this._table}get selectedCell(){return this._selectedCell}_createTableWrapper(){return r("div",[E],null,[r("table",[x])])}_createContenteditableArea(){return r("div",[_],{contenteditable:!this.readOnly})}_fillCell(t){t.classList.add(j);const n=this._createContenteditableArea();t.appendChild(r("div",[S],null,[n]))}_fillRow(t){for(let n=0;n<this._numberOfColumns;n++){const n=t.insertCell();this._fillCell(n)}}_hangEvents(){this._table.addEventListener("focus",(t=>{this._focusEditField(t)}),!0),this._table.addEventListener("blur",(t=>{this._blurEditField(t)}),!0),this._table.addEventListener("keydown",(t=>{this._pressedEnterInEditField(t)})),this._table.addEventListener("click",(t=>{this._clickedOnCell(t)})),this._table.addEventListener("mouseover",(t=>{this._mouseEnterInDetectArea(t),t.stopPropagation()}),!0)}_focusEditField(t){t.target.classList.contains(_)&&(this._selectedCell=t.target.closest("."+j))}_blurEditField(t){t.target.classList.contains(_)&&(this._selectedCell=null)}_pressedEnterInEditField(t){t.target.classList.contains(_)&&(13!==t.keyCode||t.shiftKey||t.preventDefault())}_clickedOnCell(t){t.target.classList.contains(j)&&t.target.querySelector("."+_).focus()}_mouseEnterInDetectArea(t){if(!t.target.classList.contains(S))return;const n=u(o(t.target.closest("TD")),t.pageX,t.pageY);t.target.dispatchEvent(new CustomEvent("mouseInActivatingArea",{detail:{side:n},bubbles:!0}))}}e.d(n,"TableConstructor",(function(){return F}));const T="tc-editor",A="tc-toolbar--hor",M="tc-toolbar--ver",R="tc-table__inp";class F{constructor(t,n,e,i){this.readOnly=i,this._table=new O(i);const o=this._resizeTable(t,n);this._fillTable(t,o),this._container=r("div",[T,e.styles.block],null,[this._table.htmlElement]),this._verticalToolBar=new k,this._horizontalToolBar=new w,this._table.htmlElement.appendChild(this._horizontalToolBar.htmlElement),this._table.htmlElement.appendChild(this._verticalToolBar.htmlElement),this._hoveredCell=null,this._activatedToolBar=null,this._hoveredCellSide=null,this._plusButDelay=null,this._toolbarShowDelay=null,this.readOnly||this._hangEvents()}get htmlElement(){return this._container}_fillTable(t,n){if(void 0!==t.content)for(let e=0;e<n.rows&&e<t.content.length;e++)for(let i=0;i<n.cols&&i<t.content[e].length;i++)this._table.body.rows[e].cells[i].querySelector("."+R).innerHTML=t.content[e][i]}_resizeTable(t,n){const e=Array.isArray(t.content),i=e?t.content.length:void 0,r=e&&t.content.length?t.content[0].length:void 0,o=Number.parseInt(n.rows),u=Number.parseInt(n.cols),a=!isNaN(o)&&o>0?o:void 0,c=!isNaN(u)&&u>0?u:void 0,s=i||a||2,f=r||c||2;for(let t=0;t<s;t++)this._table.addRow();for(let t=0;t<f;t++)this._table.addColumn();return{rows:s,cols:f}}_showToolBar(t,n){this._hideToolBar(),this._activatedToolBar=t,t.showIn(n)}_hideToolBar(){null!==this._activatedToolBar&&this._activatedToolBar.hide()}_hangEvents(){this._container.addEventListener("mouseInActivatingArea",(t=>{this._toolbarCalling(t)})),this._container.addEventListener("click",(t=>{this._clickToolbar(t)})),this._container.addEventListener("input",(()=>{this._hideToolBar()})),this._container.addEventListener("keydown",(t=>{this._containerKeydown(t)})),this._container.addEventListener("mouseout",(t=>{this._leaveDetectArea(t)})),this._container.addEventListener("mouseover",(t=>{this._mouseEnterInDetectArea(t)}))}_mouseInActivatingAreaListener(t){this._hoveredCellSide=t.detail.side;const n=o(t.target),e=o(this._table.htmlElement);if(this._hoveredCell=t.target.closest("TD"),null===this._hoveredCell){const t=11;this._hoveredCell=this._container,n.x1+=t,n.y1+=t,n.x2-=t,n.y2-=t}"top"===this._hoveredCellSide&&this._showToolBar(this._horizontalToolBar,n.y1-e.y1-2),"bottom"===this._hoveredCellSide&&this._showToolBar(this._horizontalToolBar,n.y2-e.y1-1),"left"===this._hoveredCellSide&&this._showToolBar(this._verticalToolBar,n.x1-e.x1-2),"right"===this._hoveredCellSide&&this._showToolBar(this._verticalToolBar,n.x2-e.x1-1)}_isToolbar(t){return!(!t.closest("."+A)&&!t.closest("."+M))}_leaveDetectArea(t){this._isToolbar(t.relatedTarget)||(clearTimeout(this._toolbarShowDelay),this._hideToolBar())}_toolbarCalling(t){this._isToolbar(t.target)||(clearTimeout(this._toolbarShowDelay),this._toolbarShowDelay=setTimeout((()=>{this._mouseInActivatingAreaListener(t)}),125))}_clickToolbar(t){if(!this._isToolbar(t.target))return;let n;if(this._activatedToolBar===this._horizontalToolBar?(this._addRow(),n="y"):(this._addColumn(),n="x"),isNaN(t.detail)&&null!==t.detail){const e=o(this._table.htmlElement);let i;i="x"===n?t.detail.x-e.x1:t.detail.y-e.y1,this._delayAddButtonForMultiClickingNearMouse(i)}else this._hideToolBar()}_containerKeydown(t){13===t.keyCode&&this._containerEnterPressed(t)}_delayAddButtonForMultiClickingNearMouse(t){this._showToolBar(this._activatedToolBar,t),this._activatedToolBar.hideLine(),clearTimeout(this._plusButDelay),this._plusButDelay=setTimeout((()=>{this._hideToolBar()}),500)}_getHoveredSideOfContainer(){return this._hoveredCell===this._container?this._isBottomOrRight()?0:-1:1}_isBottomOrRight(){return"bottom"===this._hoveredCellSide||"right"===this._hoveredCellSide}_addRow(){const t=this._hoveredCell.closest("TR");let n=this._getHoveredSideOfContainer();1===n&&(n=t.sectionRowIndex,n+=this._isBottomOrRight()),this._table.addRow(n)}_addColumn(){let t=this._getHoveredSideOfContainer();1===t&&(t=this._hoveredCell.cellIndex,t+=this._isBottomOrRight()),this._table.addColumn(t)}_containerEnterPressed(t){if(null===this._table.selectedCell||t.shiftKey)return;const n=this._table.selectedCell.closest("TR");let e=this._getHoveredSideOfContainer();1===e&&(e=n.sectionRowIndex+1),this._table.addRow(e).cells[0].click()}_mouseEnterInDetectArea(t){let n=u(o(this._container),t.pageX,t.pageY);t.target.dispatchEvent(new CustomEvent("mouseInActivatingArea",{detail:{side:n},bubbles:!0}))}}}])})));function Ln(t){let n=[];return n=t.items.map((t=>!0===t.checked?`- [x] ${t.text}`:`- [ ] ${t.text}`)),n.join("\n")}var Dn=function(t){if(t)throw t}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */,Pn=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},Nn=Object.prototype.hasOwnProperty,Un=Object.prototype.toString,Hn=Object.defineProperty,$n=Object.getOwnPropertyDescriptor,Vn=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Un.call(t)},Wn=function(t){if(!t||"[object Object]"!==Un.call(t))return!1;var n,e=Nn.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&Nn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;for(n in t);return void 0===n||Nn.call(t,n)},Gn=function(t,n){Hn&&"__proto__"===n.name?Hn(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},qn=function(t,n){if("__proto__"===n){if(!Nn.call(t,n))return;if($n)return $n(t,n).value}return t[n]},Xn=function t(){var n,e,i,r,o,u,a=arguments[0],c=1,s=arguments.length,f=!1;for("boolean"==typeof a&&(f=a,a=arguments[1]||{},c=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});c<s;++c)if(null!=(n=arguments[c]))for(e in n)i=qn(a,e),a!==(r=qn(n,e))&&(f&&r&&(Wn(r)||(o=Vn(r)))?(o?(o=!1,u=i&&Vn(i)?i:[]):u=i&&Wn(i)?i:{},Gn(a,{name:e,newValue:t(f,u,r)})):void 0!==r&&Gn(a,{name:e,newValue:r}));return a},Yn=t=>{if("[object Object]"!==Object.prototype.toString.call(t))return!1;const n=Object.getPrototypeOf(t);return null===n||n===Object.prototype},Zn=[].slice,Jn=function(t,n){var e;return function(){var n,o=Zn.call(arguments,0),u=t.length>o.length;u&&o.push(i);try{n=t.apply(null,o)}catch(t){if(u&&e)throw t;return i(t)}u||(n&&"function"==typeof n.then?n.then(r,i):n instanceof Error?i(n):r(n))};function i(){e||(e=!0,n.apply(null,arguments))}function r(t){i(null,t)}},Kn=te;te.wrap=Jn;var Qn=[].slice;function te(){var t=[],n={run:function(){var n=-1,e=Qn.call(arguments,0,-1),i=arguments[arguments.length-1];if("function"!=typeof i)throw new Error("Expected function as last argument, not "+i);function r(o){var u=t[++n],a=Qn.call(arguments,0),c=a.slice(1),s=e.length,f=-1;if(o)i(o);else{for(;++f<s;)null==c[f]&&(c[f]=e[f]);e=c,u?Jn(u,r).apply(null,e):i.apply(null,[null].concat(e))}}r.apply(null,[null].concat(e))},use:function(e){if("function"!=typeof e)throw new Error("Expected `fn` to be a function, not "+e);return t.push(e),n}};return n}var ne={}.hasOwnProperty,ee=function(t){return t&&"object"==typeof t?ne.call(t,"position")||ne.call(t,"type")?re(t.position):ne.call(t,"start")||ne.call(t,"end")?re(t):ne.call(t,"line")||ne.call(t,"column")?ie(t):"":""};function ie(t){return t&&"object"==typeof t||(t={}),oe(t.line)+":"+oe(t.column)}function re(t){return t&&"object"==typeof t||(t={}),ie(t.start)+"-"+ie(t.end)}function oe(t){return t&&"number"==typeof t?t:1}var ue=se;function ae(){}ae.prototype=Error.prototype;var ce=se.prototype=new ae;function se(t,n,e){var i,r,o;"string"==typeof n&&(e=n,n=null),i=function(t){var n,e=[null,null];return"string"==typeof t&&(-1===(n=t.indexOf(":"))?e[1]=t:(e[0]=t.slice(0,n),e[1]=t.slice(n+1))),e}(e),r=ee(n)||"1:1",o={start:{line:null,column:null},end:{line:null,column:null}},n&&n.position&&(n=n.position),n&&(n.start?(o=n,n=n.start):o.start=n),t.stack&&(this.stack=t.stack,t=t.message),this.message=t,this.name=r,this.reason=t,this.line=n?n.line:null,this.column=n?n.column:null,this.location=o,this.source=i[0],this.ruleId=i[1]}function fe(t){var n,e;return le(t),n=47===t.charCodeAt(0),(e=function(t,n){for(var e,i,r="",o=0,u=-1,a=0,c=-1;++c<=t.length;){if(c<t.length)e=t.charCodeAt(c);else{if(47===e)break;e=47}if(47===e){if(u===c-1||1===a);else if(u!==c-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){if((i=r.lastIndexOf("/"))!==r.length-1){i<0?(r="",o=0):o=(r=r.slice(0,i)).length-1-r.lastIndexOf("/"),u=c,a=0;continue}}else if(r.length){r="",o=0,u=c,a=0;continue}n&&(r=r.length?r+"/..":"..",o=2)}else r.length?r+="/"+t.slice(u+1,c):r=t.slice(u+1,c),o=c-u-1;u=c,a=0}else 46===e&&a>-1?a++:a=-1}return r}(t,!n)).length||n||(e="."),e.length&&47===t.charCodeAt(t.length-1)&&(e+="/"),n?"/"+e:e}function le(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}ce.file="",ce.name="",ce.reason="",ce.message="",ce.stack="",ce.fatal=null,ce.column=null,ce.line=null;var he=function(t,n){var e,i,r,o,u=0,a=-1;if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');if(le(t),e=t.length,void 0===n||!n.length||n.length>t.length){for(;e--;)if(47===t.charCodeAt(e)){if(r){u=e+1;break}}else a<0&&(r=!0,a=e+1);return a<0?"":t.slice(u,a)}if(n===t)return"";for(i=-1,o=n.length-1;e--;)if(47===t.charCodeAt(e)){if(r){u=e+1;break}}else i<0&&(r=!0,i=e+1),o>-1&&(t.charCodeAt(e)===n.charCodeAt(o--)?o<0&&(a=e):(o=-1,a=i));return u===a?a=i:a<0&&(a=t.length),t.slice(u,a)},de=function(t){var n,e,i;if(le(t),!t.length)return".";for(n=-1,i=t.length;--i;)if(47===t.charCodeAt(i)){if(e){n=i;break}}else e||(e=!0);return n<0?47===t.charCodeAt(0)?"/":".":1===n&&47===t.charCodeAt(0)?"//":t.slice(0,n)},ve=function(t){var n,e,i,r=-1,o=0,u=-1,a=0;for(le(t),i=t.length;i--;)if(47!==(e=t.charCodeAt(i)))u<0&&(n=!0,u=i+1),46===e?r<0?r=i:1!==a&&(a=1):r>-1&&(a=-1);else if(n){o=i+1;break}return r<0||u<0||0===a||1===a&&r===u-1&&r===o+1?"":t.slice(r,u)},pe=function(){for(var t,n=-1;++n<arguments.length;)le(arguments[n]),arguments[n]&&(t=void 0===t?arguments[n]:t+"/"+arguments[n]);return void 0===t?".":fe(t)},be="/",ge=function(){return"/"},me=ke,ye={}.hasOwnProperty,we=["history","path","basename","stem","extname","dirname"];function ke(t){var n,e;if(t){if("string"==typeof t||Pn(t))t={contents:t};else if("message"in t&&"messages"in t)return t}else t={};if(!(this instanceof ke))return new ke(t);for(this.data={},this.messages=[],this.history=[],this.cwd=ge(),e=-1;++e<we.length;)ye.call(t,n=we[e])&&(this[n]=t[n]);for(n in t)we.indexOf(n)<0&&(this[n]=t[n])}function xe(t,n){if(t&&t.indexOf(be)>-1)throw new Error("`"+n+"` cannot be a path: did not expect `"+be+"`")}function _e(t,n){if(!t)throw new Error("`"+n+"` cannot be empty")}function je(t,n){if(!t)throw new Error("Setting `"+n+"` requires `path` to be set too")}ke.prototype.toString=function(t){return(this.contents||"").toString(t)},Object.defineProperty(ke.prototype,"path",{get:function(){return this.history[this.history.length-1]},set:function(t){_e(t,"path"),this.path!==t&&this.history.push(t)}}),Object.defineProperty(ke.prototype,"dirname",{get:function(){return"string"==typeof this.path?de(this.path):void 0},set:function(t){je(this.path,"dirname"),this.path=pe(t||"",this.basename)}}),Object.defineProperty(ke.prototype,"basename",{get:function(){return"string"==typeof this.path?he(this.path):void 0},set:function(t){_e(t,"basename"),xe(t,"basename"),this.path=pe(this.dirname||"",t)}}),Object.defineProperty(ke.prototype,"extname",{get:function(){return"string"==typeof this.path?ve(this.path):void 0},set:function(t){if(xe(t,"extname"),je(this.path,"extname"),t){if(46!==t.charCodeAt(0))throw new Error("`extname` must start with `.`");if(t.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=pe(this.dirname,this.stem+(t||""))}}),Object.defineProperty(ke.prototype,"stem",{get:function(){return"string"==typeof this.path?he(this.path,this.extname):void 0},set:function(t){_e(t,"stem"),xe(t,"stem"),this.path=pe(this.dirname||"",t+(this.extname||""))}});var Ee=me;me.prototype.message=function(t,n,e){var i=new ue(t,n,e);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i},me.prototype.info=function(){var t=this.message.apply(this,arguments);return t.fatal=null,t},me.prototype.fail=function(){var t=this.message.apply(this,arguments);throw t.fatal=!0,t};var Se=Ee,Oe=function t(){var n,e=[],i=Kn(),r={},o=-1;return u.data=function(t,e){return"string"==typeof t?2===arguments.length?(Ie("data",n),r[t]=e,u):Ae.call(r,t)&&r[t]||null:t?(Ie("data",n),r=t,u):r},u.freeze=a,u.attachers=e,u.use=function(t){var i;if(Ie("use",n),null==t);else if("function"==typeof t)f.apply(null,arguments);else{if("object"!=typeof t)throw new Error("Expected usable value, not `"+t+"`");"length"in t?s(t):o(t)}return i&&(r.settings=Xn(r.settings||{},i)),u;function o(t){s(t.plugins),t.settings&&(i=Xn(i||{},t.settings))}function a(t){if("function"==typeof t)f(t);else{if("object"!=typeof t)throw new Error("Expected usable value, not `"+t+"`");"length"in t?f.apply(null,t):o(t)}}function s(t){var n=-1;if(null==t);else{if("object"!=typeof t||!("length"in t))throw new Error("Expected a list of plugins, not `"+t+"`");for(;++n<t.length;)a(t[n])}}function f(t,n){var i=c(t);i?(Yn(i[1])&&Yn(n)&&(n=Xn(!0,i[1],n)),i[1]=n):e.push(Te.call(arguments))}},u.parse=function(t){var n,e=Se(t);return a(),Fe("parse",n=u.Parser),Re(n,"parse")?new n(String(e),e).parse():n(String(e),e)},u.stringify=function(t,n){var e,i=Se(n);return a(),Ce("stringify",e=u.Compiler),Be(t),Re(e,"compile")?new e(t,i).compile():e(t,i)},u.run=s,u.runSync=function(t,n){var e,i;return s(t,n,(function(t,n){i=!0,e=n,Dn(t)})),ze("runSync","run",i),e},u.process=f,u.processSync=function(t){var n,e;return a(),Fe("processSync",u.Parser),Ce("processSync",u.Compiler),f(n=Se(t),(function(t){e=!0,Dn(t)})),ze("processSync","process",e),n},u;function u(){for(var n=t(),i=-1;++i<e.length;)n.use.apply(null,e[i]);return n.data(Xn(!0,{},r)),n}function a(){var t,r;if(n)return u;for(;++o<e.length;)!1!==(t=e[o])[1]&&(!0===t[1]&&(t[1]=void 0),"function"==typeof(r=t[0].apply(u,t.slice(1)))&&i.use(r));return n=!0,o=1/0,u}function c(t){for(var n=-1;++n<e.length;)if(e[n][0]===t)return e[n]}function s(t,n,e){if(Be(t),a(),e||"function"!=typeof n||(e=n,n=null),!e)return new Promise(r);function r(r,o){i.run(t,Se(n),(function(n,i,u){i=i||t,n?o(n):r?r(i):e(null,i,u)}))}r(null,e)}function f(t,n){if(a(),Fe("process",u.Parser),Ce("process",u.Compiler),!n)return new Promise(e);function e(e,i){var r=Se(t);Me.run(u,{file:r},(function(t){t?i(t):e?e(r):n(null,r)}))}e(null,n)}}().freeze(),Te=[].slice,Ae={}.hasOwnProperty,Me=Kn().use((function(t,n){n.tree=t.parse(n.file)})).use((function(t,n,e){t.run(n.tree,n.file,(function(t,i,r){t?e(t):(n.tree=i,n.file=r,e())}))})).use((function(t,n){var e=t.stringify(n.tree,n.file);null==e||("string"==typeof e||Pn(e)?n.file.contents=e:n.file.result=e)}));function Re(t,n){return"function"==typeof t&&t.prototype&&(function(t){var n;for(n in t)return!0;return!1}(t.prototype)||n in t.prototype)}function Fe(t,n){if("function"!=typeof n)throw new Error("Cannot `"+t+"` without `Parser`")}function Ce(t,n){if("function"!=typeof n)throw new Error("Cannot `"+t+"` without `Compiler`")}function Ie(t,n){if(n)throw new Error("Cannot invoke `"+t+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function Be(t){if(!t||"string"!=typeof t.type)throw new Error("Expected node, got `"+t+"`")}function ze(t,n,e){if(!e)throw new Error("`"+t+"` finished async. Use `"+n+"` instead")}var Le=De;function De(t){return t&&(t.value||t.alt||t.title||"children"in t&&Pe(t.children)||"length"in t&&Pe(t))||""}function Pe(t){for(var n=[],e=-1;++e<t.length;)n[e]=De(t[e]);return n.join("")}var Ne=Object.assign,Ue={}.hasOwnProperty,He=function(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()},$e=String.fromCharCode,Ve=function(t){return t<-2},We=function(t){return-2===t||-1===t||32===t},Ge=function(t,n,e,i){var r=i?i-1:1/0,o=0;return function(i){return We(i)?(t.enter(e),u(i)):n(i)};function u(i){return We(i)&&o++<r?(t.consume(i),u):(t.exit(e),n(i))}},qe=yn((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tokenize=function(t){var n,e=t.attempt(this.parser.constructs.contentInitial,(function(n){if(null!==n)return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Ge(t,e,"linePrefix");t.consume(n)}),(function(n){return t.enter("paragraph"),i(n)}));return e;function i(e){var i=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,r(e)}function r(n){return null===n?(t.exit("chunkText"),t.exit("paragraph"),void t.consume(n)):Ve(n)?(t.consume(n),t.exit("chunkText"),i):(t.consume(n),r)}}})),Xe={tokenize:function(t,n,e){return Ge(t,(function(t){return null===t||Ve(t)?n(t):e(t)}),"linePrefix")},partial:!0},Ye=yn((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e={tokenize:function(t,n,e){return Ge(t,t.attempt(this.parser.constructs.document,n,e),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},i={tokenize:function(t,n,e){return Ge(t,t.lazy(this.parser.constructs.flow,n,e),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}};n.tokenize=function(t){var n,r,o,u=this,a=[],c=0,s={tokenize:function(t,o){var c=0;return n={},s;function s(i){return c<a.length?(u.containerState=a[c][1],t.attempt(a[c][0].continuation,f,l)(i)):r.currentConstruct&&r.currentConstruct.concrete?(n.flowContinue=!0,v(i)):(u.interrupt=r.currentConstruct&&r.currentConstruct.interruptible,u.containerState={},t.attempt(e,d,v)(i))}function f(t){return c++,u.containerState._closeFlow?d(t):s(t)}function l(n){return r.currentConstruct&&r.currentConstruct.lazy?(u.containerState={},t.attempt(e,d,t.attempt(i,d,t.check(Xe,d,h)))(n)):d(n)}function h(t){return c=a.length,n.lazy=!0,n.flowContinue=!0,v(t)}function d(t){return n.flowEnd=!0,v(t)}function v(t){return n.continued=c,u.interrupt=u.containerState=void 0,o(t)}},partial:!0};return f;function f(n){return c<a.length?(u.containerState=a[c][1],t.attempt(a[c][0].continuation,l,h)(n)):h(n)}function l(t){return c++,f(t)}function h(i){return n&&n.flowContinue?v(i):(u.interrupt=r&&r.currentConstruct&&r.currentConstruct.interruptible,u.containerState={},t.attempt(e,d,v)(i))}function d(t){return a.push([u.currentConstruct,u.containerState]),u.containerState=void 0,h(t)}function v(n){return null===n?(m(0,!0),void t.consume(n)):(r=r||u.parser.flow(u.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:r}),p(n))}function p(n){return null===n?(g(t.exit("chunkFlow")),v(n)):Ve(n)?(t.consume(n),g(t.exit("chunkFlow")),t.check(s,b)):(t.consume(n),p)}function b(t){return m(n.continued,n&&n.flowEnd),c=0,f(t)}function g(t){o&&(o.next=t),o=t,r.lazy=n&&n.lazy,r.defineSkip(t.start),r.write(u.sliceStream(t))}function m(n,e){var i=a.length;for(r&&e&&(r.write([null]),o=r=void 0);i-- >n;)u.containerState=a[i][1],a[i][0].exit.call(u,t);a.length=n}}})),Ze=function(t){for(var n=-1,e=0;++n<t.length;)e+="string"==typeof t[n]?t[n].length:1;return e},Je=function(t,n){var e=t[t.length-1];return e&&e[1].type===n?Ze(e[2].sliceStream(e[1])):0},Ke=[].splice,Qe=function(t,n,e,i){var r,o=t.length,u=0;if(n=n<0?-n>o?0:o+n:n>o?o:n,e=e>0?e:0,i.length<1e4)(r=Array.from(i)).unshift(n,e),Ke.apply(t,r);else for(e&&Ke.apply(t,[n,e]);u<i.length;)(r=i.slice(u,u+1e4)).unshift(n,0),Ke.apply(t,r),u+=1e4,n+=1e4},ti=function(t){return Ne({},t)};function ni(t,n){for(var e,i,r,o,u,a,c=t[n][1],s=t[n][2],f=n-1,l=[],h=c._tokenizer||s.parser[c.contentType](c.start),d=h.events,v=[],p={};c;){for(;t[++f][1]!==c;);l.push(f),c._tokenizer||(e=s.sliceStream(c),c.next||e.push(null),i&&h.defineSkip(c.start),c.isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(e),c.isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),i=c,c=c.next}for(c=i,r=d.length;r--;)"enter"===d[r][0]?o=!0:o&&d[r][1].type===d[r-1][1].type&&d[r][1].start.line!==d[r][1].end.line&&(b(d.slice(r+1,u)),c._tokenizer=c.next=void 0,c=c.previous,u=r+1);for(h.events=c._tokenizer=c.next=void 0,b(d.slice(0,u)),r=-1,a=0;++r<v.length;)p[a+v[r][0]]=a+v[r][1],a+=v[r][1]-v[r][0]-1;return p;function b(n){var e=l.pop();v.unshift([e,e+n.length-1]),Qe(t,e,2,n)}}var ei=function(t){for(var n,e,i,r,o,u,a,c={},s=-1;++s<t.length;){for(;s in c;)s=c[s];if(n=t[s],s&&"chunkFlow"===n[1].type&&"listItemPrefix"===t[s-1][1].type&&((i=0)<(u=n[1]._tokenizer.events).length&&"lineEndingBlank"===u[i][1].type&&(i+=2),i<u.length&&"content"===u[i][1].type))for(;++i<u.length&&"content"!==u[i][1].type;)"chunkText"===u[i][1].type&&(u[i][1].isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Ne(c,ni(t,s)),s=c[s],a=!0);else if(n[1]._container||n[1]._movePreviousLineEndings){for(i=s,e=void 0;i--&&("lineEnding"===(r=t[i])[1].type||"lineEndingBlank"===r[1].type);)"enter"===r[0]&&(e&&(t[e][1].type="lineEndingBlank"),r[1].type="lineEnding",e=i);e&&(n[1].end=ti(t[e][1].start),(o=t.slice(e,s)).unshift(n),Qe(t,e,s-e+1,o))}}return!a},ii={tokenize:function(t,n){var e;return function(n){return t.enter("content"),e=t.enter("chunkContent",{contentType:"content"}),i(n)};function i(n){return null===n?r(n):Ve(n)?t.check(ri,o,r)(n):(t.consume(n),i)}function r(e){return t.exit("chunkContent"),t.exit("content"),n(e)}function o(n){return t.consume(n),t.exit("chunkContent"),e=e.next=t.enter("chunkContent",{contentType:"content",previous:e}),i}},resolve:function(t){return ei(t),t},interruptible:!0,lazy:!0},ri={tokenize:function(t,n,e){var i=this;return function(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Ge(t,r,"linePrefix")};function r(r){return null===r||Ve(r)?e(r):i.parser.constructs.disable.null.indexOf("codeIndented")>-1||Je(i.events,"linePrefix")<4?t.interrupt(i.parser.constructs.flow,e,n)(r):n(r)}},partial:!0},oi=ii,ui=yn((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tokenize=function(t){var n=this,e=t.attempt(Xe,(function(i){if(null!==i)return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),n.currentConstruct=void 0,e;t.consume(i)}),t.attempt(this.parser.constructs.flowInitial,i,Ge(t,t.attempt(this.parser.constructs.flow,i,t.attempt(oi,i)),"linePrefix")));return e;function i(i){if(null!==i)return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n.currentConstruct=void 0,e;t.consume(i)}}})),ai=yn((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e=o("text"),i=o("string"),r={resolveAll:u()};function o(t){return{tokenize:function(n){var e=this,i=this.parser.constructs[t],r=n.attempt(i,o,u);return o;function o(t){return c(t)?r(t):u(t)}function u(t){if(null!==t)return n.enter("data"),n.consume(t),a;n.consume(t)}function a(t){return c(t)?(n.exit("data"),r(t)):(n.consume(t),a)}function c(t){var n=i[t],r=-1;if(null===t)return!0;if(n)for(;++r<n.length;)if(!n[r].previous||n[r].previous.call(e,e.previous))return!0}},resolveAll:u("text"===t?a:void 0)}}function u(t){return function(n,e){for(var i,r=-1;++r<=n.length;)void 0===i?n[r]&&"data"===n[r][1].type&&(i=r,r++):n[r]&&"data"===n[r][1].type||(r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),r=i+2),i=void 0);return t?t(n,e):n}}function a(t,n){for(var e,i,r,o,u,a,c,s,f=-1;++f<=t.length;)if((f===t.length||"lineEnding"===t[f][1].type)&&"data"===t[f-1][1].type){for(o=(e=n.sliceStream(i=t[f-1][1])).length,u=-1,a=0,c=void 0;o--;)if("string"==typeof(r=e[o])){for(u=r.length;32===r.charCodeAt(u-1);)a++,u--;if(u)break;u=-1}else if(-2===r)c=!0,a++;else if(-1!==r){o++;break}a&&(s={type:f===t.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-a,offset:i.end.offset-a,_index:i.start._index+o,_bufferIndex:o?u:i.start._bufferIndex+u},end:ti(i.end)},i.end=ti(s.start),i.start.offset===i.end.offset?Ne(i,s):(t.splice(f,0,["enter",s,n],["exit",s,n]),f+=2)),f++}return t}n.resolver=r,n.string=i,n.text=e})),ci=function(t){return null==t?[]:"length"in t?t:[t]};function si(t,n){var e,i,r,o;for(e in n)for(o in i=Ue.call(t,e)?t[e]:t[e]={},r=n[e])i[o]=fi(ci(r[o]),Ue.call(i,o)?i[o]:[])}function fi(t,n){for(var e=-1,i=[];++e<t.length;)("after"===t[e].add?n:i).push(t[e]);return Qe(n,0,0,i),n}var li,hi=function(t){for(var n={},e=-1;++e<t.length;)si(n,t[e]);return n},di=function(t,n){return t.length?(Qe(t,t.length,0,n),t):n},vi=function(t,n,e){for(var i,r=[],o=-1;++o<t.length;)(i=t[o].resolveAll)&&r.indexOf(i)<0&&(n=i(n,e),r.push(i));return n},pi=function(t,n,e){var i=e?ti(e):{line:1,column:1,offset:0},r={},o=[],u=[],a=[],c={consume:function(t){Ve(t)?(i.line++,i.column=1,i.offset+=-3===t?2:1,g()):-1!==t&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),s.previous=t},enter:function(t,n){var e=n||{};return e.type=t,e.start=h(),s.events.push(["enter",e,s]),a.push(e),e},exit:function(){var t=a.pop();return t.end=h(),s.events.push(["exit",t,s]),t},attempt:p((function(t,n){b(t,n.from)})),check:p(v),interrupt:p(v,{interrupt:!0}),lazy:p(v,{lazy:!0})},s={previous:null,events:[],parser:t,sliceStream:l,sliceSerialize:function(t){return function(t){for(var n,e,i,r=-1,o=[];++r<t.length;){if("string"==typeof(n=t[r]))e=n;else if(-5===n)e="\r";else if(-4===n)e="\n";else if(-3===n)e="\r\n";else if(-2===n)e="\t";else if(-1===n){if(i)continue;e=" "}else e=$e(n);i=-2===n,o.push(e)}return o.join("")}(l(t))},now:h,defineSkip:function(t){r[t.line]=t.column,g()},write:function(t){return u=di(u,t),function(){for(var t,n;i._index<u.length;)if("string"==typeof(n=u[i._index]))for(t=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===t&&i._bufferIndex<n.length;)d(n.charCodeAt(i._bufferIndex));else d(n)}(),null!==u[u.length-1]?[]:(b(n,0),s.events=vi(o,s.events,s),s.events)}},f=n.tokenize.call(s,c);return n.resolveAll&&o.push(n),i._index=0,i._bufferIndex=-1,s;function l(t){return function(t,n){var e,i=n.start._index,r=n.start._bufferIndex,o=n.end._index,u=n.end._bufferIndex;return i===o?e=[t[i].slice(r,u)]:(e=t.slice(i,o),r>-1&&(e[0]=e[0].slice(r)),u>0&&e.push(t[o].slice(0,u))),e}(u,t)}function h(){return ti(i)}function d(t){f=f(t)}function v(t,n){n.restore()}function p(t,n){return function(e,r,o){var u,f,l,d;return e.tokenize||"length"in e?v(ci(e)):function(t){return t in e||null in e?v(e.null?ci(e[t]).concat(ci(e.null)):e[t])(t):o(t)};function v(t){return u=t,p(t[f=0])}function p(t){return function(e){var r,o,u,f,v;return r=h(),o=s.previous,u=s.currentConstruct,f=s.events.length,v=Array.from(a),d={restore:function(){i=r,s.previous=o,s.currentConstruct=u,s.events.length=f,a=v,g()},from:f},l=t,t.partial||(s.currentConstruct=t),t.name&&s.parser.constructs.disable.null.indexOf(t.name)>-1?m():t.tokenize.call(n?Ne({},s,n):s,c,b,m)(e)}}function b(){return t(l,d),r}function m(){return d.restore(),++f<u.length?p(u[f]):o}}}function b(t,n){t.resolveAll&&o.indexOf(t)<0&&o.push(t),t.resolve&&Qe(s.events,n,s.events.length-n,t.resolve(s.events.slice(n),s)),t.resolveTo&&(s.events=t.resolveTo(s.events,s))}function g(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}},bi=function(t){return t<0||32===t},gi=function(t){return function(n){return t.test($e(n))}},mi=gi(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),yi=gi(/\s/),wi=function(t){return null===t||bi(t)||yi(t)?1:mi(t)?2:void 0},ki=function(t,n){return t.column+=n,t.offset+=n,t._bufferIndex+=n,t},xi={name:"attention",tokenize:function(t,n){var e,i=wi(this.previous);return function(n){return t.enter("attentionSequence"),e=n,r(n)};function r(o){var u,a,c,s;return o===e?(t.consume(o),r):(u=t.exit("attentionSequence"),c=!(a=wi(o))||2===a&&i,s=!i||2===i&&a,u._open=42===e?c:c&&(i||!s),u._close=42===e?s:s&&(a||!c),n(o))}},resolveAll:function(t,n){for(var e,i,r,o,u,a,c,s,f=-1;++f<t.length;)if("enter"===t[f][0]&&"attentionSequence"===t[f][1].type&&t[f][1]._close)for(e=f;e--;)if("exit"===t[e][0]&&"attentionSequence"===t[e][1].type&&t[e][1]._open&&n.sliceSerialize(t[e][1]).charCodeAt(0)===n.sliceSerialize(t[f][1]).charCodeAt(0)){if((t[e][1]._close||t[f][1]._open)&&(t[f][1].end.offset-t[f][1].start.offset)%3&&!((t[e][1].end.offset-t[e][1].start.offset+t[f][1].end.offset-t[f][1].start.offset)%3))continue;o={type:(a=t[e][1].end.offset-t[e][1].start.offset>1&&t[f][1].end.offset-t[f][1].start.offset>1?2:1)>1?"strongSequence":"emphasisSequence",start:ki(ti(t[e][1].end),-a),end:ti(t[e][1].end)},u={type:a>1?"strongSequence":"emphasisSequence",start:ti(t[f][1].start),end:ki(ti(t[f][1].start),a)},r={type:a>1?"strongText":"emphasisText",start:ti(t[e][1].end),end:ti(t[f][1].start)},i={type:a>1?"strong":"emphasis",start:ti(o.start),end:ti(u.end)},t[e][1].end=ti(o.start),t[f][1].start=ti(u.end),c=[],t[e][1].end.offset-t[e][1].start.offset&&(c=di(c,[["enter",t[e][1],n],["exit",t[e][1],n]])),c=di(c,[["enter",i,n],["enter",o,n],["exit",o,n],["enter",r,n]]),c=di(c,vi(n.parser.constructs.insideSpan.null,t.slice(e+1,f),n)),c=di(c,[["exit",r,n],["enter",u,n],["exit",u,n],["exit",i,n]]),t[f][1].end.offset-t[f][1].start.offset?(s=2,c=di(c,[["enter",t[f][1],n],["exit",t[f][1],n]])):s=0,Qe(t,e-1,f-e+3,c),f=e+c.length-s-2;break}for(f=-1;++f<t.length;)"attentionSequence"===t[f][1].type&&(t[f][1].type="data");return t}},_i=gi(/[A-Za-z]/),ji=gi(/[\dA-Za-z]/),Ei=gi(/[#-'*+\--9=?A-Z^-~]/),Si=function(t){return t<32||127===t},Oi={name:"autolink",tokenize:function(t,n,e){var i=1;return function(n){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(n),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),r};function r(n){return _i(n)?(t.consume(n),o):Ei(n)?c(n):e(n)}function o(t){return 43===t||45===t||46===t||ji(t)?u(t):c(t)}function u(n){return 58===n?(t.consume(n),a):(43===n||45===n||46===n||ji(n))&&i++<32?(t.consume(n),u):c(n)}function a(n){return 62===n?(t.exit("autolinkProtocol"),h(n)):32===n||60===n||Si(n)?e(n):(t.consume(n),a)}function c(n){return 64===n?(t.consume(n),i=0,s):Ei(n)?(t.consume(n),c):e(n)}function s(t){return ji(t)?f(t):e(t)}function f(n){return 46===n?(t.consume(n),i=0,s):62===n?(t.exit("autolinkProtocol").type="autolinkEmail",h(n)):l(n)}function l(n){return(45===n||ji(n))&&i++<63?(t.consume(n),45===n?l:f):e(n)}function h(e){return t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.exit("autolink"),n}}},Ti={name:"blockQuote",tokenize:function(t,n,e){var i=this;return function(n){return 62===n?(i.containerState.open||(t.enter("blockQuote",{_container:!0}),i.containerState.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(n),t.exit("blockQuoteMarker"),r):e(n)};function r(e){return We(e)?(t.enter("blockQuotePrefixWhitespace"),t.consume(e),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),n):(t.exit("blockQuotePrefix"),n(e))}},continuation:{tokenize:function(t,n,e){return Ge(t,t.attempt(Ti,n,e),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},exit:function(t){t.exit("blockQuote")}},Ai=Ti,Mi=gi(/[!-/:-@[-`{-~]/),Ri={name:"characterEscape",tokenize:function(t,n,e){return function(n){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(n),t.exit("escapeMarker"),i};function i(i){return Mi(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),n):e(i)}}},Fi=function(t){var n,e="&"+t+";";return(li=li||document.createElement("i")).innerHTML=e,(59!==(n=li.textContent).charCodeAt(n.length-1)||"semi"===t)&&(n!==e&&n)},Ci=gi(/\d/),Ii=gi(/[\dA-Fa-f]/);function Bi(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var zi=Bi(Fi),Li={name:"characterReference",tokenize:function(t,n,e){var i,r,o=this,u=0;return function(n){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(n),t.exit("characterReferenceMarker"),a};function a(n){return 35===n?(t.enter("characterReferenceMarkerNumeric"),t.consume(n),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),i=31,r=ji,s(n))}function c(n){return 88===n||120===n?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(n),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,r=Ii,s):(t.enter("characterReferenceValue"),i=7,r=Ci,s(n))}function s(a){var c;return 59===a&&u?(c=t.exit("characterReferenceValue"),r!==ji||zi.default(o.sliceSerialize(c))?(t.enter("characterReferenceMarker"),t.consume(a),t.exit("characterReferenceMarker"),t.exit("characterReference"),n):e(a)):r(a)&&u++<i?(t.consume(a),s):e(a)}}},Di={name:"codeFenced",tokenize:function(t,n,e){var i,r=this,o={tokenize:function(t,n,e){var r=0;return Ge(t,(function(n){return t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),o(n)}),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function o(n){return n===i?(t.consume(n),r++,o):r<a?e(n):(t.exit("codeFencedFenceSequence"),Ge(t,u,"whitespace")(n))}function u(i){return null===i||Ve(i)?(t.exit("codeFencedFence"),n(i)):e(i)}},partial:!0},u=Je(this.events,"linePrefix"),a=0;return function(n){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),i=n,c(n)};function c(n){return n===i?(t.consume(n),a++,c):(t.exit("codeFencedFenceSequence"),a<3?e(n):Ge(t,s,"whitespace")(n))}function s(n){return null===n||Ve(n)?d(n):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(n))}function f(n){return null===n||bi(n)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ge(t,l,"whitespace")(n)):96===n&&n===i?e(n):(t.consume(n),f)}function l(n){return null===n||Ve(n)?d(n):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),h(n))}function h(n){return null===n||Ve(n)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(n)):96===n&&n===i?e(n):(t.consume(n),h)}function d(e){return t.exit("codeFencedFence"),r.interrupt?n(e):v(e)}function v(n){return null===n?b(n):Ve(n)?(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),t.attempt(o,b,u?Ge(t,v,"linePrefix",u+1):v)):(t.enter("codeFlowValue"),p(n))}function p(n){return null===n||Ve(n)?(t.exit("codeFlowValue"),v(n)):(t.consume(n),p)}function b(e){return t.exit("codeFenced"),n(e)}},concrete:!0},Pi={name:"codeIndented",tokenize:function(t,n,e){return t.attempt(Ni,i,e);function i(e){return null===e?n(e):Ve(e)?t.attempt(Ni,i,n)(e):(t.enter("codeFlowValue"),r(e))}function r(n){return null===n||Ve(n)?(t.exit("codeFlowValue"),i(n)):(t.consume(n),r)}},resolve:function(t,n){var e={type:"codeIndented",start:t[0][1].start,end:t[t.length-1][1].end};return Qe(t,0,0,[["enter",e,n]]),Qe(t,t.length,0,[["exit",e,n]]),t}},Ni={tokenize:function(t,n,e){var i=this;return Ge(t,(function r(o){return Ve(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ge(t,r,"linePrefix",5)):Je(i.events,"linePrefix")<4?e(o):n(o)}),"linePrefix",5)},partial:!0},Ui=Pi,Hi={name:"codeText",tokenize:function(t,n,e){var i,r,o=0;return function(n){return t.enter("codeText"),t.enter("codeTextSequence"),u(n)};function u(n){return 96===n?(t.consume(n),o++,u):(t.exit("codeTextSequence"),a(n))}function a(n){return null===n?e(n):96===n?(r=t.enter("codeTextSequence"),i=0,s(n)):32===n?(t.enter("space"),t.consume(n),t.exit("space"),a):Ve(n)?(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),a):(t.enter("codeTextData"),c(n))}function c(n){return null===n||32===n||96===n||Ve(n)?(t.exit("codeTextData"),a(n)):(t.consume(n),c)}function s(e){return 96===e?(t.consume(e),i++,s):i===o?(t.exit("codeTextSequence"),t.exit("codeText"),n(e)):(r.type="codeTextData",c(e))}},resolve:function(t){var n,e,i=t.length-4,r=3;if(!("lineEnding"!==t[r][1].type&&"space"!==t[r][1].type||"lineEnding"!==t[i][1].type&&"space"!==t[i][1].type))for(n=r;++n<i;)if("codeTextData"===t[n][1].type){t[i][1].type=t[r][1].type="codeTextPadding",r+=2,i-=2;break}for(n=r-1,i++;++n<=i;)void 0===e?n!==i&&"lineEnding"!==t[n][1].type&&(e=n):n!==i&&"lineEnding"!==t[n][1].type||(t[e][1].type="codeTextData",n!==e+2&&(t[e][1].end=t[n-1][1].end,t.splice(e+2,n-e-2),i-=n-e-2,n=e+2),e=void 0);return t},previous:function(t){return 96!==t||"characterEscape"===this.events[this.events.length-1][1].type}},$i=function(t,n,e,i,r,o,u,a,c){var s=c||1/0,f=0;return function(n){return 60===n?(t.enter(i),t.enter(r),t.enter(o),t.consume(n),t.exit(o),l):Si(n)||41===n?e(n):(t.enter(i),t.enter(u),t.enter(a),t.enter("chunkString",{contentType:"string"}),v(n))};function l(e){return 62===e?(t.enter(o),t.consume(e),t.exit(o),t.exit(r),t.exit(i),n):(t.enter(a),t.enter("chunkString",{contentType:"string"}),h(e))}function h(n){return 62===n?(t.exit("chunkString"),t.exit(a),l(n)):null===n||60===n||Ve(n)?e(n):(t.consume(n),92===n?d:h)}function d(n){return 60===n||62===n||92===n?(t.consume(n),h):h(n)}function v(r){return 40===r?++f>s?e(r):(t.consume(r),v):41===r?f--?(t.consume(r),v):(t.exit("chunkString"),t.exit(a),t.exit(u),t.exit(i),n(r)):null===r||bi(r)?f?e(r):(t.exit("chunkString"),t.exit(a),t.exit(u),t.exit(i),n(r)):Si(r)?e(r):(t.consume(r),92===r?p:v)}function p(n){return 40===n||41===n||92===n?(t.consume(n),v):v(n)}},Vi=function(t,n,e,i,r,o){var u,a=this,c=0;return function(n){return t.enter(i),t.enter(r),t.consume(n),t.exit(r),t.enter(o),s};function s(l){return null===l||91===l||93===l&&!u||94===l&&!c&&"_hiddenFootnoteSupport"in a.parser.constructs||c>999?e(l):93===l?(t.exit(o),t.enter(r),t.consume(l),t.exit(r),t.exit(i),n):Ve(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):(t.enter("chunkString",{contentType:"string"}),f(l))}function f(n){return null===n||91===n||93===n||Ve(n)||c++>999?(t.exit("chunkString"),s(n)):(t.consume(n),u=u||!We(n),92===n?l:f)}function l(n){return 91===n||92===n||93===n?(t.consume(n),c++,f):f(n)}},Wi=function(t,n){var e;return function i(r){return Ve(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),e=!0,i):We(r)?Ge(t,i,e?"linePrefix":"lineSuffix")(r):n(r)}},Gi=function(t,n,e,i,r,o){var u;return function(n){return t.enter(i),t.enter(r),t.consume(n),t.exit(r),u=40===n?41:n,a};function a(e){return e===u?(t.enter(r),t.consume(e),t.exit(r),t.exit(i),n):(t.enter(o),c(e))}function c(n){return n===u?(t.exit(o),a(u)):null===n?e(n):Ve(n)?(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Ge(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),s(n))}function s(n){return n===u||null===n||Ve(n)?(t.exit("chunkString"),c(n)):(t.consume(n),92===n?f:s)}function f(n){return n===u||92===n?(t.consume(n),s):s(n)}},qi={name:"definition",tokenize:function(t,n,e){var i,r=this;return function(n){return t.enter("definition"),Vi.call(r,t,o,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(n)};function o(n){return i=He(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===n?(t.enter("definitionMarker"),t.consume(n),t.exit("definitionMarker"),Wi(t,$i(t,t.attempt(Xi,Ge(t,u,"whitespace"),Ge(t,u,"whitespace")),e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):e(n)}function u(o){return null===o||Ve(o)?(t.exit("definition"),r.parser.defined.indexOf(i)<0&&r.parser.defined.push(i),n(o)):e(o)}}},Xi={tokenize:function(t,n,e){return function(n){return bi(n)?Wi(t,i)(n):e(n)};function i(n){return 34===n||39===n||40===n?Gi(t,Ge(t,r,"whitespace"),e,"definitionTitle","definitionTitleMarker","definitionTitleString")(n):e(n)}function r(t){return null===t||Ve(t)?n(t):e(t)}},partial:!0},Yi=qi,Zi={name:"hardBreakEscape",tokenize:function(t,n,e){return function(n){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(n),i};function i(i){return Ve(i)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),n(i)):e(i)}}},Ji={name:"headingAtx",tokenize:function(t,n,e){var i=this,r=0;return function(n){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(n)};function o(a){return 35===a&&r++<6?(t.consume(a),o):null===a||bi(a)?(t.exit("atxHeadingSequence"),i.interrupt?n(a):u(a)):e(a)}function u(e){return 35===e?(t.enter("atxHeadingSequence"),a(e)):null===e||Ve(e)?(t.exit("atxHeading"),n(e)):We(e)?Ge(t,u,"whitespace")(e):(t.enter("atxHeadingText"),c(e))}function a(n){return 35===n?(t.consume(n),a):(t.exit("atxHeadingSequence"),u(n))}function c(n){return null===n||35===n||bi(n)?(t.exit("atxHeadingText"),u(n)):(t.consume(n),c)}},resolve:function(t,n){var e,i,r=t.length-2,o=3;return"whitespace"===t[o][1].type&&(o+=2),r-2>o&&"whitespace"===t[r][1].type&&(r-=2),"atxHeadingSequence"===t[r][1].type&&(o===r-1||r-4>o&&"whitespace"===t[r-2][1].type)&&(r-=o+1===r?2:4),r>o&&Qe(t,o,r-o+1,[["enter",e={type:"atxHeadingText",start:t[o][1].start,end:t[r][1].end},n],["enter",i={type:"chunkText",start:t[o][1].start,end:t[r][1].end,contentType:"text"},n],["exit",i,n],["exit",e,n]]),t}},Ki=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Qi=["pre","script","style","textarea"],tr={name:"htmlFlow",tokenize:function(t,n,e){var i,r,o,u,a,c=this;return function(n){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(n),s};function s(u){return 33===u?(t.consume(u),f):47===u?(t.consume(u),d):63===u?(t.consume(u),i=3,c.interrupt?n:C):_i(u)?(t.consume(u),o=$e(u),r=!0,v):e(u)}function f(r){return 45===r?(t.consume(r),i=2,l):91===r?(t.consume(r),i=5,o="CDATA[",u=0,h):_i(r)?(t.consume(r),i=4,c.interrupt?n:C):e(r)}function l(i){return 45===i?(t.consume(i),c.interrupt?n:C):e(i)}function h(i){return i===o.charCodeAt(u++)?(t.consume(i),u===o.length?c.interrupt?n:S:h):e(i)}function d(n){return _i(n)?(t.consume(n),o=$e(n),v):e(n)}function v(u){return null===u||47===u||62===u||bi(u)?47!==u&&r&&Qi.indexOf(o.toLowerCase())>-1?(i=1,c.interrupt?n(u):S(u)):Ki.indexOf(o.toLowerCase())>-1?(i=6,47===u?(t.consume(u),p):c.interrupt?n(u):S(u)):(i=7,c.interrupt?e(u):r?g(u):b(u)):45===u||ji(u)?(t.consume(u),o+=$e(u),v):e(u)}function p(i){return 62===i?(t.consume(i),c.interrupt?n:S):e(i)}function b(n){return We(n)?(t.consume(n),b):j(n)}function g(n){return 47===n?(t.consume(n),j):58===n||95===n||_i(n)?(t.consume(n),m):We(n)?(t.consume(n),g):j(n)}function m(n){return 45===n||46===n||58===n||95===n||ji(n)?(t.consume(n),m):y(n)}function y(n){return 61===n?(t.consume(n),w):We(n)?(t.consume(n),y):g(n)}function w(n){return null===n||60===n||61===n||62===n||96===n?e(n):34===n||39===n?(t.consume(n),a=n,k):We(n)?(t.consume(n),w):(a=void 0,x(n))}function k(n){return n===a?(t.consume(n),_):null===n||Ve(n)?e(n):(t.consume(n),k)}function x(n){return null===n||34===n||39===n||60===n||61===n||62===n||96===n||bi(n)?y(n):(t.consume(n),x)}function _(t){return 47===t||62===t||We(t)?g(t):e(t)}function j(n){return 62===n?(t.consume(n),E):e(n)}function E(n){return We(n)?(t.consume(n),E):null===n||Ve(n)?S(n):e(n)}function S(n){return 45===n&&2===i?(t.consume(n),A):60===n&&1===i?(t.consume(n),M):62===n&&4===i?(t.consume(n),I):63===n&&3===i?(t.consume(n),C):93===n&&5===i?(t.consume(n),F):!Ve(n)||6!==i&&7!==i?null===n||Ve(n)?O(n):(t.consume(n),S):t.check(nr,I,O)(n)}function O(n){return t.exit("htmlFlowData"),T(n)}function T(n){return null===n?B(n):Ve(n)?(t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),T):(t.enter("htmlFlowData"),S(n))}function A(n){return 45===n?(t.consume(n),C):S(n)}function M(n){return 47===n?(t.consume(n),o="",R):S(n)}function R(n){return 62===n&&Qi.indexOf(o.toLowerCase())>-1?(t.consume(n),I):_i(n)&&o.length<8?(t.consume(n),o+=$e(n),R):S(n)}function F(n){return 93===n?(t.consume(n),C):S(n)}function C(n){return 62===n?(t.consume(n),I):S(n)}function I(n){return null===n||Ve(n)?(t.exit("htmlFlowData"),B(n)):(t.consume(n),I)}function B(e){return t.exit("htmlFlow"),n(e)}},resolveTo:function(t){for(var n=t.length;n--&&("enter"!==t[n][0]||"htmlFlow"!==t[n][1].type););return n>1&&"linePrefix"===t[n-2][1].type&&(t[n][1].start=t[n-2][1].start,t[n+1][1].start=t[n-2][1].start,t.splice(n-2,2)),t},concrete:!0},nr={tokenize:function(t,n,e){return function(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(Xe,n,e)}},partial:!0},er=tr,ir={name:"htmlText",tokenize:function(t,n,e){var i,r,o,u,a=this;return function(n){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(n),c};function c(n){return 33===n?(t.consume(n),s):47===n?(t.consume(n),x):63===n?(t.consume(n),w):_i(n)?(t.consume(n),E):e(n)}function s(n){return 45===n?(t.consume(n),f):91===n?(t.consume(n),r="CDATA[",o=0,p):_i(n)?(t.consume(n),y):e(n)}function f(n){return 45===n?(t.consume(n),l):e(n)}function l(n){return null===n||62===n?e(n):45===n?(t.consume(n),h):d(n)}function h(t){return null===t||62===t?e(t):d(t)}function d(n){return null===n?e(n):45===n?(t.consume(n),v):Ve(n)?(u=d,C(n)):(t.consume(n),d)}function v(n){return 45===n?(t.consume(n),B):d(n)}function p(n){return n===r.charCodeAt(o++)?(t.consume(n),o===r.length?b:p):e(n)}function b(n){return null===n?e(n):93===n?(t.consume(n),g):Ve(n)?(u=b,C(n)):(t.consume(n),b)}function g(n){return 93===n?(t.consume(n),m):b(n)}function m(n){return 62===n?B(n):93===n?(t.consume(n),m):b(n)}function y(n){return null===n||62===n?B(n):Ve(n)?(u=y,C(n)):(t.consume(n),y)}function w(n){return null===n?e(n):63===n?(t.consume(n),k):Ve(n)?(u=w,C(n)):(t.consume(n),w)}function k(t){return 62===t?B(t):w(t)}function x(n){return _i(n)?(t.consume(n),_):e(n)}function _(n){return 45===n||ji(n)?(t.consume(n),_):j(n)}function j(n){return Ve(n)?(u=j,C(n)):We(n)?(t.consume(n),j):B(n)}function E(n){return 45===n||ji(n)?(t.consume(n),E):47===n||62===n||bi(n)?S(n):e(n)}function S(n){return 47===n?(t.consume(n),B):58===n||95===n||_i(n)?(t.consume(n),O):Ve(n)?(u=S,C(n)):We(n)?(t.consume(n),S):B(n)}function O(n){return 45===n||46===n||58===n||95===n||ji(n)?(t.consume(n),O):T(n)}function T(n){return 61===n?(t.consume(n),A):Ve(n)?(u=T,C(n)):We(n)?(t.consume(n),T):S(n)}function A(n){return null===n||60===n||61===n||62===n||96===n?e(n):34===n||39===n?(t.consume(n),i=n,M):Ve(n)?(u=A,C(n)):We(n)?(t.consume(n),A):(t.consume(n),i=void 0,F)}function M(n){return n===i?(t.consume(n),R):null===n?e(n):Ve(n)?(u=M,C(n)):(t.consume(n),M)}function R(t){return 62===t||47===t||bi(t)?S(t):e(t)}function F(n){return null===n||34===n||39===n||60===n||61===n||96===n?e(n):62===n||bi(n)?S(n):(t.consume(n),F)}function C(n){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),Ge(t,I,"linePrefix",a.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function I(n){return t.enter("htmlTextData"),u(n)}function B(i){return 62===i?(t.consume(i),t.exit("htmlTextData"),t.exit("htmlText"),n):e(i)}}},rr={name:"labelEnd",tokenize:function(t,n,e){for(var i,r,o=this,u=o.events.length;u--;)if(("labelImage"===o.events[u][1].type||"labelLink"===o.events[u][1].type)&&!o.events[u][1]._balanced){i=o.events[u][1];break}return function(n){return i?i._inactive?c(n):(r=o.parser.defined.indexOf(He(o.sliceSerialize({start:i.end,end:o.now()})))>-1,t.enter("labelEnd"),t.enter("labelMarker"),t.consume(n),t.exit("labelMarker"),t.exit("labelEnd"),a):e(n)};function a(e){return 40===e?t.attempt(or,n,r?n:c)(e):91===e?t.attempt(ur,n,r?t.attempt(ar,n,c):c)(e):r?n(e):c(e)}function c(t){return i._balanced=!0,e(t)}},resolveTo:function(t,n){for(var e,i,r,o,u,a,c,s=t.length,f=0;s--;)if(o=t[s][1],u){if("link"===o.type||"labelLink"===o.type&&o._inactive)break;"enter"===t[s][0]&&"labelLink"===o.type&&(o._inactive=!0)}else if(a){if("enter"===t[s][0]&&("labelImage"===o.type||"labelLink"===o.type)&&!o._balanced&&(u=s,"labelLink"!==o.type)){f=2;break}}else"labelEnd"===o.type&&(a=s);return e={type:"labelLink"===t[u][1].type?"link":"image",start:ti(t[u][1].start),end:ti(t[t.length-1][1].end)},i={type:"label",start:ti(t[u][1].start),end:ti(t[a][1].end)},r={type:"labelText",start:ti(t[u+f+2][1].end),end:ti(t[a-2][1].start)},c=di(c=[["enter",e,n],["enter",i,n]],t.slice(u+1,u+f+3)),c=di(c,[["enter",r,n]]),c=di(c,vi(n.parser.constructs.insideSpan.null,t.slice(u+f+4,a-3),n)),c=di(c,[["exit",r,n],t[a-2],t[a-1],["exit",i,n]]),c=di(c,t.slice(a+1)),c=di(c,[["exit",e,n]]),Qe(t,u,t.length,c),t},resolveAll:function(t){for(var n,e=-1;++e<t.length;)(n=t[e][1])._used||"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(t.splice(e+1,"labelImage"===n.type?4:2),n.type="data",e++);return t}},or={tokenize:function(t,n,e){return function(n){return t.enter("resource"),t.enter("resourceMarker"),t.consume(n),t.exit("resourceMarker"),Wi(t,i)};function i(n){return 41===n?u(n):$i(t,r,e,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(n)}function r(n){return bi(n)?Wi(t,o)(n):u(n)}function o(n){return 34===n||39===n||40===n?Gi(t,Wi(t,u),e,"resourceTitle","resourceTitleMarker","resourceTitleString")(n):u(n)}function u(i){return 41===i?(t.enter("resourceMarker"),t.consume(i),t.exit("resourceMarker"),t.exit("resource"),n):e(i)}}},ur={tokenize:function(t,n,e){var i=this;return function(n){return Vi.call(i,t,r,e,"reference","referenceMarker","referenceString")(n)};function r(t){return i.parser.defined.indexOf(He(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))<0?e(t):n(t)}}},ar={tokenize:function(t,n,e){return function(n){return t.enter("reference"),t.enter("referenceMarker"),t.consume(n),t.exit("referenceMarker"),i};function i(i){return 93===i?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),n):e(i)}}},cr=rr,sr={name:"labelStartImage",tokenize:function(t,n,e){var i=this;return function(n){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(n),t.exit("labelImageMarker"),r};function r(n){return 91===n?(t.enter("labelMarker"),t.consume(n),t.exit("labelMarker"),t.exit("labelImage"),o):e(n)}function o(t){return 94===t&&"_hiddenFootnoteSupport"in i.parser.constructs?e(t):n(t)}},resolveAll:cr.resolveAll},fr={name:"labelStartLink",tokenize:function(t,n,e){var i=this;return function(n){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(n),t.exit("labelMarker"),t.exit("labelLink"),r};function r(t){return 94===t&&"_hiddenFootnoteSupport"in i.parser.constructs?e(t):n(t)}},resolveAll:cr.resolveAll},lr={name:"lineEnding",tokenize:function(t,n){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),Ge(t,n,"linePrefix")}}},hr={name:"thematicBreak",tokenize:function(t,n,e){var i,r=0;return function(n){return t.enter("thematicBreak"),i=n,o(n)};function o(a){return a===i?(t.enter("thematicBreakSequence"),u(a)):We(a)?Ge(t,o,"whitespace")(a):r<3||null!==a&&!Ve(a)?e(a):(t.exit("thematicBreak"),n(a))}function u(n){return n===i?(t.consume(n),r++,u):(t.exit("thematicBreakSequence"),o(n))}}},dr={name:"list",tokenize:function(t,n,e){var i=this,r=Je(i.events,"linePrefix"),o=0;return function(n){var r=i.containerState.type||(42===n||43===n||45===n?"listUnordered":"listOrdered");if("listUnordered"===r?!i.containerState.marker||n===i.containerState.marker:Ci(n)){if(i.containerState.type||(i.containerState.type=r,t.enter(r,{_container:!0})),"listUnordered"===r)return t.enter("listItemPrefix"),42===n||45===n?t.check(hr,e,a)(n):a(n);if(!i.interrupt||49===n)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(n)}return e(n)};function u(n){return Ci(n)&&++o<10?(t.consume(n),u):(!i.interrupt||o<2)&&(i.containerState.marker?n===i.containerState.marker:41===n||46===n)?(t.exit("listItemValue"),a(n)):e(n)}function a(n){return t.enter("listItemMarker"),t.consume(n),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||n,t.check(Xe,i.interrupt?e:c,t.attempt(vr,f,s))}function c(t){return i.containerState.initialBlankLine=!0,r++,f(t)}function s(n){return We(n)?(t.enter("listItemPrefixWhitespace"),t.consume(n),t.exit("listItemPrefixWhitespace"),f):e(n)}function f(e){return i.containerState.size=r+Ze(i.sliceStream(t.exit("listItemPrefix"))),n(e)}},continuation:{tokenize:function(t,n,e){var i=this;return i.containerState._closeFlow=void 0,t.check(Xe,(function(e){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ge(t,n,"listItemIndent",i.containerState.size+1)(e)}),(function(e){return i.containerState.furtherBlankLines||!We(e)?(i.containerState.furtherBlankLines=i.containerState.initialBlankLine=void 0,r(e)):(i.containerState.furtherBlankLines=i.containerState.initialBlankLine=void 0,t.attempt(pr,n,r)(e))}));function r(r){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ge(t,t.attempt(dr,n,e),"linePrefix",i.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(r)}}},exit:function(t){t.exit(this.containerState.type)}},vr={tokenize:function(t,n,e){var i=this;return Ge(t,(function(t){return We(t)||!Je(i.events,"listItemPrefixWhitespace")?e(t):n(t)}),"listItemPrefixWhitespace",i.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5)},partial:!0},pr={tokenize:function(t,n,e){var i=this;return Ge(t,(function(t){return Je(i.events,"listItemIndent")===i.containerState.size?n(t):e(t)}),"listItemIndent",i.containerState.size+1)},partial:!0},br=dr,gr={name:"setextUnderline",tokenize:function(t,n,e){for(var i,r,o=this,u=o.events.length;u--;)if("lineEnding"!==o.events[u][1].type&&"linePrefix"!==o.events[u][1].type&&"content"!==o.events[u][1].type){r="paragraph"===o.events[u][1].type;break}return function(n){return o.lazy||!o.interrupt&&!r?e(n):(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),i=n,a(n))};function a(n){return n===i?(t.consume(n),a):(t.exit("setextHeadingLineSequence"),Ge(t,c,"lineSuffix")(n))}function c(i){return null===i||Ve(i)?(t.exit("setextHeadingLine"),n(i)):e(i)}},resolveTo:function(t,n){for(var e,i,r,o,u=t.length;u--;)if("enter"===t[u][0]){if("content"===t[u][1].type){e=u;break}"paragraph"===t[u][1].type&&(i=u)}else"content"===t[u][1].type&&t.splice(u,1),r||"definition"!==t[u][1].type||(r=u);return o={type:"setextHeading",start:ti(t[i][1].start),end:ti(t[t.length-1][1].end)},t[i][1].type="setextHeadingText",r?(t.splice(i,0,["enter",o,n]),t.splice(r+1,0,["exit",t[e][1],n]),t[e][1].end=ti(t[r][1].end)):t[e][1]=o,t.push(["exit",o,n]),t}},mr=yn((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e={42:br,43:br,45:br,48:br,49:br,50:br,51:br,52:br,53:br,54:br,55:br,56:br,57:br,62:Ai},i={"-2":Ui,"-1":Ui,32:Ui},r={35:Ji,42:hr,45:[gr,hr],60:er,61:gr,95:hr,96:Di,126:Di},o={38:Li,92:Ri},u={"-5":lr,"-4":lr,"-3":lr,33:sr,38:Li,42:xi,60:[Oi,ir],91:fr,92:[Zi,Ri],93:cr,95:xi,96:Hi},a={null:[xi,ai.resolver]};n.contentInitial={91:Yi},n.disable={null:[]},n.document=e,n.flow=r,n.flowInitial=i,n.insideSpan=a,n.string=o,n.text=u})),yr=/[\0\t\n\r]/g;function wr(t,n){var e,i;for(e in n)i=Ue.call(t,e)?t[e]:t[e]={},"canContainEols"===e||"transforms"===e?t[e]=[].concat(i,n[e]):Object.assign(i,n[e])}var kr,xr=function(t,n,e){return"string"!=typeof n&&(e=n,n=void 0),function(t){var n=t||{},e=function(t,n){for(var e=-1;++e<n.length;)wr(t,n[e]);return t}({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(x),autolinkProtocol:v,autolinkEmail:v,atxHeading:c(y),blockQuote:c((function(){return{type:"blockquote",children:[]}})),characterEscape:v,characterReference:v,codeFenced:c(m),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:c(m,s),codeText:c((function(){return{type:"inlineCode",value:""}}),s),codeTextData:v,data:v,codeFlowValue:v,definition:c((function(){return{type:"definition",identifier:"",label:null,title:null,url:""}})),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:c((function(){return{type:"emphasis",children:[]}})),hardBreakEscape:c(w),hardBreakTrailing:c(w),htmlFlow:c(k,s),htmlFlowData:v,htmlText:c(k,s),htmlTextData:v,image:c((function(){return{type:"image",title:null,url:"",alt:null}})),label:s,link:c(x),listItem:c((function(t){return{type:"listItem",spread:t._spread,checked:null,children:[]}})),listItemValue:function(t){u("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(t),10),o("expectingFirstListItemValue"))},listOrdered:c(_,(function(){o("expectingFirstListItemValue",!0)})),listUnordered:c(_),paragraph:c((function(){return{type:"paragraph",children:[]}})),reference:function(){o("referenceType","collapsed")},referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:c(y),strong:c((function(){return{type:"strong",children:[]}})),thematicBreak:c((function(){return{type:"thematicBreak"}}))},exit:{atxHeading:l(),atxHeadingSequence:function(t){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(t).length)},autolink:l(),autolinkEmail:function(t){p.call(this,t),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(t)},autolinkProtocol:function(t){p.call(this,t),this.stack[this.stack.length-1].url=this.sliceSerialize(t)},blockQuote:l(),characterEscapeValue:p,characterReferenceMarkerHexadecimal:g,characterReferenceMarkerNumeric:g,characterReferenceValue:function(t){var n,e,i=this.sliceSerialize(t),r=u("characterReferenceType");r?(n=function(t,n){var e=parseInt(t,n);return e<9||11===e||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||65535==(65535&e)||65534==(65535&e)||e>1114111?"":$e(e)}(i,"characterReferenceMarkerNumeric"===r?10:16),o("characterReferenceType")):n=Fi(i),(e=this.stack.pop()).value+=n,e.position.end=a(t.end)},codeFenced:l((function(){var t=this.resume();this.stack[this.stack.length-1].value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")})),codeFencedFence:function(){u("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))},codeFencedFenceInfo:function(){var t=this.resume();this.stack[this.stack.length-1].lang=t},codeFencedFenceMeta:function(){var t=this.resume();this.stack[this.stack.length-1].meta=t},codeFlowValue:p,codeIndented:l((function(){var t=this.resume();this.stack[this.stack.length-1].value=t})),codeText:l((function(){var t=this.resume();this.stack[this.stack.length-1].value=t})),codeTextData:p,data:p,definition:l(),definitionDestinationString:function(){var t=this.resume();this.stack[this.stack.length-1].url=t},definitionLabelString:function(t){var n=this.resume();this.stack[this.stack.length-1].label=n,this.stack[this.stack.length-1].identifier=He(this.sliceSerialize(t)).toLowerCase()},definitionTitleString:function(){var t=this.resume();this.stack[this.stack.length-1].title=t},emphasis:l(),hardBreakEscape:l(b),hardBreakTrailing:l(b),htmlFlow:l((function(){var t=this.resume();this.stack[this.stack.length-1].value=t})),htmlFlowData:p,htmlText:l((function(){var t=this.resume();this.stack[this.stack.length-1].value=t})),htmlTextData:p,image:l((function(){var t=this.stack[this.stack.length-1];u("inReference")?(t.type+="Reference",t.referenceType=u("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label,delete t.referenceType),o("referenceType")})),label:function(){var t=this.stack[this.stack.length-1],n=this.resume();this.stack[this.stack.length-1].label=n,o("inReference",!0),"link"===this.stack[this.stack.length-1].type?this.stack[this.stack.length-1].children=t.children:this.stack[this.stack.length-1].alt=n},labelText:function(t){this.stack[this.stack.length-2].identifier=He(this.sliceSerialize(t)).toLowerCase()},lineEnding:function(t){var n=this.stack[this.stack.length-1];if(u("atHardBreak"))return n.children[n.children.length-1].position.end=a(t.end),void o("atHardBreak");!u("setextHeadingSlurpLineEnding")&&e.canContainEols.indexOf(n.type)>-1&&(v.call(this,t),p.call(this,t))},link:l((function(){var t=this.stack[this.stack.length-1];u("inReference")?(t.type+="Reference",t.referenceType=u("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label,delete t.referenceType),o("referenceType")})),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:function(t){var n=this.resume();this.stack[this.stack.length-1].label=n,this.stack[this.stack.length-1].identifier=He(this.sliceSerialize(t)).toLowerCase(),o("referenceType","full")},resourceDestinationString:function(){var t=this.resume();this.stack[this.stack.length-1].url=t},resourceTitleString:function(){var t=this.resume();this.stack[this.stack.length-1].title=t},resource:function(){o("inReference")},setextHeading:l((function(){o("setextHeadingSlurpLineEnding")})),setextHeadingLineSequence:function(t){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(t).charCodeAt(0)?1:2},setextHeadingText:function(){o("setextHeadingSlurpLineEnding",!0)},strong:l(),thematicBreak:l()}},n.mdastExtensions||[]),i={};return function(t){for(var n,i={type:"root",children:[]},c=[],l=[],v=-1,p={stack:[i],tokenStack:c,config:e,enter:f,exit:h,buffer:s,resume:d,setData:o,getData:u};++v<t.length;)"listOrdered"!==t[v][1].type&&"listUnordered"!==t[v][1].type||("enter"===t[v][0]?l.push(v):v=r(t,l.pop(v),v));for(v=-1;++v<t.length;)Ue.call(n=e[t[v][0]],t[v][1].type)&&n[t[v][1].type].call(Ne({sliceSerialize:t[v][2].sliceSerialize},p),t[v][1]);if(c.length)throw new Error("Cannot close document, a token (`"+c[c.length-1].type+"`, "+ee({start:c[c.length-1].start,end:c[c.length-1].end})+") is still open");for(i.position={start:a(t.length?t[0][1].start:{line:1,column:1,offset:0}),end:a(t.length?t[t.length-2][1].end:{line:1,column:1,offset:0})},v=-1;++v<e.transforms.length;)i=e.transforms[v](i)||i;return i};function r(t,n,e){for(var i,r,o,u,c,s,f,l=n-1,h=-1,d=!1;++l<=e;)if("listUnordered"===(c=t[l])[1].type||"listOrdered"===c[1].type||"blockQuote"===c[1].type?("enter"===c[0]?h++:h--,f=void 0):"lineEndingBlank"===c[1].type?"enter"===c[0]&&(!i||f||h||s||(s=l),f=void 0):"linePrefix"===c[1].type||"listItemValue"===c[1].type||"listItemMarker"===c[1].type||"listItemPrefix"===c[1].type||"listItemPrefixWhitespace"===c[1].type||(f=void 0),!h&&"enter"===c[0]&&"listItemPrefix"===c[1].type||-1===h&&"exit"===c[0]&&("listUnordered"===c[1].type||"listOrdered"===c[1].type)){if(i){for(r=l,o=void 0;r--;)if("lineEnding"===(u=t[r])[1].type||"lineEndingBlank"===u[1].type){if("exit"===u[0])continue;o&&(t[o][1].type="lineEndingBlank",d=!0),u[1].type="lineEnding",o=r}else if("linePrefix"!==u[1].type&&"blockQuotePrefix"!==u[1].type&&"blockQuotePrefixWhitespace"!==u[1].type&&"blockQuoteMarker"!==u[1].type&&"listItemIndent"!==u[1].type)break;s&&(!o||s<o)&&(i._spread=!0),i.end=a(o?t[o][1].start:c[1].end),t.splice(o||l,0,["exit",i,c[2]]),l++,e++}"listItemPrefix"===c[1].type&&(i={type:"listItem",_spread:!1,start:a(c[1].start)},t.splice(l,0,["enter",i,c[2]]),l++,e++,s=void 0,f=!0)}return t[n][1]._spread=d,e}function o(t,n){i[t]=n}function u(t){return i[t]}function a(t){return{line:t.line,column:t.column,offset:t.offset}}function c(t,n){return function(e){f.call(this,t(e),e),n&&n.call(this,e)}}function s(){this.stack.push({type:"fragment",children:[]})}function f(t,n){return this.stack[this.stack.length-1].children.push(t),this.stack.push(t),this.tokenStack.push(n),t.position={start:a(n.start)},t}function l(t){return function(n){t&&t.call(this,n),h.call(this,n)}}function h(t){var n=this.stack.pop(),e=this.tokenStack.pop();if(!e)throw new Error("Cannot close `"+t.type+"` ("+ee({start:t.start,end:t.end})+"): its not open");if(e.type!==t.type)throw new Error("Cannot close `"+t.type+"` ("+ee({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ee({start:e.start,end:e.end})+") is open");return n.position.end=a(t.end),n}function d(){return Le(this.stack.pop())}function v(t){var n=this.stack[this.stack.length-1].children,e=n[n.length-1];e&&"text"===e.type||((e={type:"text",value:""}).position={start:a(t.start)},this.stack[this.stack.length-1].children.push(e)),this.stack.push(e)}function p(t){var n=this.stack.pop();n.value+=this.sliceSerialize(t),n.position.end=a(t.end)}function b(){o("atHardBreak",!0)}function g(t){o("characterReferenceType",t.type)}function m(){return{type:"code",lang:null,meta:null,value:""}}function y(){return{type:"heading",depth:void 0,children:[]}}function w(){return{type:"break"}}function k(){return{type:"html",value:""}}function x(){return{type:"link",title:null,url:"",children:[]}}function _(t){return{type:"list",ordered:"listOrdered"===t.type,start:null,spread:t._spread,children:[]}}}(e)(function(t){for(;!ei(t););return t}(function(t){var n={defined:[],constructs:hi([mr].concat(ci((t||{}).extensions))),content:e(qe),document:e(Ye),flow:e(ui),string:e(ai.string),text:e(ai.text)};return n;function e(t){return function(e){return pi(n,t,e)}}}(e).document().write((r=!0,o=1,u="",function(t,n,e){var a,c,s,f,l,h=[];for(t=u+t.toString(n),s=0,u="",r&&(65279===t.charCodeAt(0)&&s++,r=void 0);s<t.length;){if(yr.lastIndex=s,a=yr.exec(t),l=t.charCodeAt(f=a?a.index:t.length),!a){u=t.slice(s);break}if(10===l&&s===f&&i)h.push(-3),i=void 0;else if(i&&(h.push(-5),i=void 0),s<f&&(h.push(t.slice(s,f)),o+=f-s),0===l)h.push(65533),o++;else if(9===l)for(c=4*Math.ceil(o/4),h.push(-2);o++<c;)h.push(-1);else 10===l?(h.push(-4),o=1):(i=!0,o=1);s=f+1}return e&&(i&&h.push(-5),u&&h.push(u),h.push(null)),h})(t,n,!0))));var i,r,o,u},_r=Function.prototype,jr={}.hasOwnProperty,Er=function t(n,e){var i,r=-1;if(e.extensions)for(;++r<e.extensions.length;)t(n,e.extensions[r]);for(i in e)"extensions"===i||("unsafe"===i||"join"===i?n[i]=n[i].concat(e[i]||[]):"handlers"===i?n[i]=Object.assign(n[i],e[i]||{}):n.options[i]=e[i]);return n}
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */,Sr="",Or=function(t,n){if("string"!=typeof t)throw new TypeError("expected a string");if(1===n)return t;if(2===n)return t+t;var e=t.length*n;if(kr!==t||void 0===kr)kr=t,Sr="";else if(Sr.length>=e)return Sr.substr(0,e);for(;e>Sr.length&&n>1;)1&n&&(Sr+=t),n>>=1,t+=t;return Sr=(Sr+=t).substr(0,e)},Tr=function(t,n){for(var e,i=t.children||[],r=[],o=-1;++o<i.length;)r.push(n.handle(e=i[o],t,n,{before:"\n",after:"\n"})),o+1<i.length&&r.push(u(e,i[o+1]));return r.join("");function u(e,i){for(var r,o=-1;++o<n.join.length&&!0!==(r=n.join[o](e,i,t,n))&&1!==r;){if("number"==typeof r)return Or("\n",1+Number(r));if(!1===r)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}},Ar=function(t,n){for(var e,i=[],r=0,o=0;e=Mr.exec(t);)u(t.slice(r,e.index)),i.push(e[0]),r=e.index+e[0].length,o++;return u(t.slice(r)),i.join("");function u(t){i.push(n(t,o,!t))}},Mr=/\r?\n|\r/g;function Rr(t,n,e){return">"+(e?"":" ")+t}var Fr=function(t,n){return Cr(t,n.inConstruct,!0)&&!Cr(t,n.notInConstruct)};function Cr(t,n,e){var i;if(!n)return e;for("string"==typeof n&&(n=[n]),i=-1;++i<n.length;)if(-1!==t.indexOf(n[i]))return!0;return!1}var Ir=function(t,n,e,i){for(var r=-1;++r<e.unsafe.length;)if("\n"===e.unsafe[r].character&&Fr(e.stack,e.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return"\\\n"},Br=function(t,n){return!n.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value)},zr=function(t){var n,e;return t._compiled||(n=t.before?"(?:"+t.before+")":"",e=t.after?"(?:"+t.after+")":"",t.atBreak&&(n="[\\r\\n][\\t ]*"+n),t._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(e||""),"g")),t._compiled},Lr=function(t,n,e){for(var i,r,o,u,a,c,s,f,l=(e.before||"")+(n||"")+(e.after||""),h=[],d=[],v={},p=-1;++p<t.unsafe.length;)if(Fr(t.stack,u=t.unsafe[p]))for(a=zr(u);c=a.exec(l);)r="after"in u,-1===h.indexOf(o=c.index+((i="before"in u||u.atBreak)?c[1].length:0))?(h.push(o),v[o]={before:i,after:r}):(v[o].before&&!i&&(v[o].before=!1),v[o].after&&!r&&(v[o].after=!1));for(h.sort(Dr),s=e.before?e.before.length:0,f=l.length-(e.after?e.after.length:0),p=-1;++p<h.length;)(o=h[p])<s||o>=f||o+1<f&&h[p+1]===o+1&&v[o].after&&!v[o+1].before&&!v[o+1].after||(s!==o&&d.push(Pr(l.slice(s,o),"\\")),s=o,!/[!-/:-@[-`{-~]/.test(l.charAt(o))||e.encode&&-1!==e.encode.indexOf(l.charAt(o))?(d.push("&#x"+l.charCodeAt(o).toString(16).toUpperCase()+";"),s++):d.push("\\"));return d.push(Pr(l.slice(s,f),e.after)),d.join("")};function Dr(t,n){return t-n}function Pr(t,n){for(var e,i=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],u=-1,a=0,c=t+n;e=i.exec(c);)r.push(e.index);for(;++u<r.length;)a!==r[u]&&o.push(t.slice(a,r[u])),o.push("\\"),a=r[u];return o.push(t.slice(a)),o.join("")}function Nr(t,n,e){return(e?"":"    ")+t}var Ur=function(t){return t.label||!t.identifier?t.label||"":t.identifier.replace(Hr,"$1").replace($r,Vr)},Hr=/\\([!-/:-@[-`{-~])/g,$r=/&(#(\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Vr(t,n){return Fi(n)||t}var Wr=function(t){var n=t.options.quote||'"';if('"'!==n&&"'"!==n)throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n},Gr=function(t,n,e){for(var i,r,o,u=t.children||[],a=[],c=-1,s=e.before;++c<u.length;)o=u[c],c+1<u.length?((r=n.handle.handlers[u[c+1].type])&&r.peek&&(r=r.peek),i=r?r(u[c+1],t,n,{before:"",after:""}).charAt(0):""):i=e.after,a.length>0&&("\r"===s||"\n"===s)&&"html"===o.type&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),s=" "),a.push(n.handle(o,t,n,{before:s,after:i})),s=a[a.length-1].slice(-1);return a.join("")},qr=Xr;function Xr(t,n,e){var i=function(t){var n=t.options.emphasis||"*";if("*"!==n&&"_"!==n)throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}(e),r=e.enter("emphasis"),o=Gr(t,e,{before:i,after:i});return r(),i+o+i}Xr.peek=function(t,n,e){return e.options.emphasis||"*"};var Yr=function(t,n){return n.options.setext&&(!t.depth||t.depth<3)&&Le(t)},Zr=Jr;function Jr(t){return t.value||""}Jr.peek=function(){return"<"};var Kr=Qr;function Qr(t,n,e){var i=Wr(e),r='"'===i?"Quote":"Apostrophe",o=e.enter("image"),u=e.enter("label"),a="!["+Lr(e,t.alt,{before:"[",after:"]"})+"](";return u(),!t.url&&t.title||/[ \t\r\n]/.test(t.url)?(u=e.enter("destinationLiteral"),a+="<"+Lr(e,t.url,{before:"<",after:">"})+">"):(u=e.enter("destinationRaw"),a+=Lr(e,t.url,{before:"(",after:t.title?" ":")"})),u(),t.title&&(u=e.enter("title"+r),a+=" "+i+Lr(e,t.title,{before:i,after:i})+i,u()),a+=")",o(),a}Qr.peek=function(){return"!"};var to=no;function no(t,n,e){var i,r,o=t.referenceType,u=e.enter("imageReference"),a=e.enter("label"),c=Lr(e,t.alt,{before:"[",after:"]"}),s="!["+c+"]";return a(),r=e.stack,e.stack=[],a=e.enter("reference"),i=Lr(e,Ur(t),{before:"[",after:"]"}),a(),e.stack=r,u(),"full"!==o&&c&&c===i?"shortcut"!==o&&(s+="[]"):s+="["+i+"]",s}no.peek=function(){return"!"};var eo=io;function io(t,n,e){for(var i,r,o,u,a=t.value||"",c="`",s=-1;new RegExp("(^|[^`])"+c+"([^`]|$)").test(a);)c+="`";for(/[^ \r\n]/.test(a)&&(/[ \r\n`]/.test(a.charAt(0))||/[ \r\n`]/.test(a.charAt(a.length-1)))&&(a=" "+a+" ");++s<e.unsafe.length;)if((i=e.unsafe[s]).atBreak)for(r=zr(i);o=r.exec(a);)10===a.charCodeAt(u=o.index)&&13===a.charCodeAt(u-1)&&u--,a=a.slice(0,u)+" "+a.slice(o.index+1);return c+a+c}io.peek=function(){return"`"};var ro=function(t,n){var e=Le(t);return!n.options.resourceLink&&t.url&&!t.title&&t.children&&1===t.children.length&&"text"===t.children[0].type&&(e===t.url||"mailto:"+e===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url)},oo=uo;function uo(t,n,e){var i,r,o,u,a=Wr(e),c='"'===a?"Quote":"Apostrophe";return ro(t,e)?(u=e.stack,e.stack=[],i=e.enter("autolink"),o="<"+Gr(t,e,{before:"<",after:">"})+">",i(),e.stack=u,o):(i=e.enter("link"),r=e.enter("label"),o="["+Gr(t,e,{before:"[",after:"]"})+"](",r(),!t.url&&t.title||/[ \t\r\n]/.test(t.url)?(r=e.enter("destinationLiteral"),o+="<"+Lr(e,t.url,{before:"<",after:">"})+">"):(r=e.enter("destinationRaw"),o+=Lr(e,t.url,{before:"(",after:t.title?" ":")"})),r(),t.title&&(r=e.enter("title"+c),o+=" "+a+Lr(e,t.title,{before:a,after:a})+a,r()),o+=")",i(),o)}uo.peek=function(t,n,e){return ro(t,e)?"<":"["};var ao=co;function co(t,n,e){var i,r,o=t.referenceType,u=e.enter("linkReference"),a=e.enter("label"),c=Gr(t,e,{before:"[",after:"]"}),s="["+c+"]";return a(),r=e.stack,e.stack=[],a=e.enter("reference"),i=Lr(e,Ur(t),{before:"[",after:"]"}),a(),e.stack=r,u(),"full"!==o&&c&&c===i?"shortcut"!==o&&(s+="[]"):s+="["+i+"]",s}co.peek=function(){return"["};var so=fo;function fo(t,n,e){var i=function(t){var n=t.options.strong||"*";if("*"!==n&&"_"!==n)throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}(e),r=e.enter("strong"),o=Gr(t,e,{before:i,after:i});return r(),i+i+o+i+i}fo.peek=function(t,n,e){return e.options.strong||"*"};var lo={blockquote:function(t,n,e){var i=e.enter("blockquote"),r=Ar(Tr(t,e),Rr);return i(),r},break:Ir,code:function(t,n,e){var i,r,o,u,a=function(t){var n=t.options.fence||"`";if("`"!==n&&"~"!==n)throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}(e),c=t.value||"",s="`"===a?"GraveAccent":"Tilde";return Br(t,e)?(o=e.enter("codeIndented"),i=Ar(c,Nr)):(r=Or(a,Math.max(function(t,n){var e,i,r=0,o=0;if("string"!=typeof n||1!==n.length)throw new Error("Expected character");for(e=i=(t=String(t)).indexOf(n);-1!==i;)r++,i===e?r>o&&(o=r):r=1,i=t.indexOf(n,e=i+1);return o}(c,a)+1,3)),o=e.enter("codeFenced"),i=r,t.lang&&(u=e.enter("codeFencedLang"+s),i+=Lr(e,t.lang,{before:"`",after:" ",encode:["`"]}),u()),t.lang&&t.meta&&(u=e.enter("codeFencedMeta"+s),i+=" "+Lr(e,t.meta,{before:" ",after:"\n",encode:["`"]}),u()),i+="\n",c&&(i+=c+"\n"),i+=r),o(),i},definition:function(t,n,e){var i=Wr(e),r='"'===i?"Quote":"Apostrophe",o=e.enter("definition"),u=e.enter("label"),a="["+Lr(e,Ur(t),{before:"[",after:"]"})+"]: ";return u(),!t.url||/[ \t\r\n]/.test(t.url)?(u=e.enter("destinationLiteral"),a+="<"+Lr(e,t.url,{before:"<",after:">"})+">"):(u=e.enter("destinationRaw"),a+=Lr(e,t.url,{before:" ",after:" "})),u(),t.title&&(u=e.enter("title"+r),a+=" "+i+Lr(e,t.title,{before:i,after:i})+i,u()),o(),a},emphasis:qr,hardBreak:Ir,heading:function(t,n,e){var i,r,o,u,a=Math.max(Math.min(6,t.depth||1),1);return Yr(t,e)?(i=e.enter("headingSetext"),r=e.enter("phrasing"),o=Gr(t,e,{before:"\n",after:"\n"}),r(),i(),o+"\n"+Or(1===a?"=":"-",o.length-(Math.max(o.lastIndexOf("\r"),o.lastIndexOf("\n"))+1))):(u=Or("#",a),i=e.enter("headingAtx"),r=e.enter("phrasing"),o=(o=Gr(t,e,{before:"# ",after:"\n"}))?u+" "+o:u,e.options.closeAtx&&(o+=" "+u),r(),i(),o)},html:Zr,image:Kr,imageReference:to,inlineCode:eo,link:oo,linkReference:ao,list:function(t,n,e){var i=e.enter("list"),r=Tr(t,e);return i(),r},listItem:function(t,n,e){var i,r,o,u=function(t){var n=t.options.bullet||"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}(e),a=function(t){var n=t.options.listItemIndent||"tab";if(1===n||"1"===n)return"one";if("tab"!==n&&"one"!==n&&"mixed"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}(e);return n&&n.ordered&&(u=(n.start>-1?n.start:1)+(!1===e.options.incrementListMarker?0:n.children.indexOf(t))+"."),i=u.length+1,("tab"===a||"mixed"===a&&(n&&n.spread||t.spread))&&(i=4*Math.ceil(i/4)),o=e.enter("listItem"),r=Ar(Tr(t,e),(function(t,n,e){return n?(e?"":Or(" ",i))+t:(e?u:u+Or(" ",i-u.length))+t})),o(),r},paragraph:function(t,n,e){var i=e.enter("paragraph"),r=e.enter("phrasing"),o=Gr(t,e,{before:"\n",after:"\n"});return r(),i(),o},root:function(t,n,e){return Tr(t,e)},strong:so,text:function(t,n,e,i){return Lr(e,t.value,i)},thematicBreak:function(t,n,e){var i=Or(function(t){var n=t.options.rule||"*";if("*"!==n&&"-"!==n&&"_"!==n)throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}(e)+(e.options.ruleSpaces?" ":""),function(t){var n=t.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}(e));return e.options.ruleSpaces?i.slice(0,-1):i}},ho=[function(t,n,e,i){if("list"===n.type&&n.type===t.type&&Boolean(t.ordered)===Boolean(n.ordered)||"code"===n.type&&Br(n,i)&&("list"===t.type||t.type===n.type&&Br(t,i)))return!1;if("boolean"==typeof e.spread){if("paragraph"===t.type&&(t.type===n.type||"definition"===n.type||"heading"===n.type&&Yr(n,i)))return;return e.spread?1:0}}],vo=[{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing"},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing"},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing"},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing"},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:["phrasing","label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{before:"[^A-Za-z]",character:"_",inConstruct:"phrasing"},{character:"_",after:"[^A-Za-z]",inConstruct:"phrasing"},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent","phrasing"]},{atBreak:!0,character:"~"}];function po(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function bo(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function go(t,n){if("definition"===t.type&&t.type===n.type)return 0}var mo=function(t,n){var e,i=n||{},r={enter:function(t){return r.stack.push(t),function(){r.stack.pop()}},stack:[],unsafe:[],join:[],handlers:{},options:{}};return Er(r,{unsafe:vo,join:ho,handlers:lo}),Er(r,i),r.options.tightDefinitions&&(r.join=[go].concat(r.join)),r.handle=function(t,n){var e=n||{};function i(n){var e=i.invalid,r=i.handlers;return n&&jr.call(n,t)&&(e=jr.call(r,n[t])?r[n[t]]:i.unknown),(e||_r).apply(this,arguments)}return i.handlers=e.handlers||{},i.invalid=e.invalid,i.unknown=e.unknown,i}("type",{invalid:po,unknown:bo,handlers:r.handlers}),(e=r.handle(t,null,r,{before:"\n",after:"\n"}))&&10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),e},yo=Oe().use((function(t){var n=this;this.Parser=function(e){return xr(e,Object.assign({},n.data("settings"),t,{extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]}))}})).use((function(t){var n=this;this.Compiler=function(e){return mo(e,Object.assign({},n.data("settings"),t,{extensions:n.data("toMarkdownExtensions")||[]}))}})).freeze();const wo=[],ko=class{constructor({data:t,api:n}){this.data=t,this.api=n}static get toolbox(){return{title:"Download Markdown",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="rgb(112, 118, 132)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'}}render(){const t=document.createElement("div");return this.getContent(),t}async getContent(){const t=new Date,n=String(t.getDate()).padStart(2,"0"),e=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),r={},o=await this.api.saver.save();r.content=o.blocks,function(t,n){const e=new File([t],{type:"text/markdown",endings:"transparent"}),i=URL.createObjectURL(e),r=document.createElement("a");document.body.appendChild(r),r.href=i,r.download=n,r.click(),window.URL.revokeObjectURL(i),document.body.removeChild(r)}(r.content.map((t=>{switch(t.type){case"header":return function(t){switch(t.level){case 1:return`# ${t.text}\n`;case 2:return`## ${t.text}\n`;case 3:return`### ${t.text}\n`;case 4:return`#### ${t.text}\n`;case 5:return`##### ${t.text}\n`;case 6:return`###### ${t.text}\n`}}(t.data);case"paragraph":return`${t.data.text}\n`;case"list":return function(t){let n={};switch(t.style){case"unordered":return n=t.items.map((t=>`* ${t}`)),n;case"ordered":return n=t.items.map(((t,n)=>`${n+1} ${t}`)),n}}(t.data);case"delimiter":return"---".concat("\n");case"image":return`![${(n=t.data).caption}](${n.url} "${n.caption}")`.concat("\n");case"quote":return function(t){return`> ${t.text}\n`}(t.data);case"checkbox":return Ln(t.data);case"code":return function(t){return`\`\`\`\n${t.code}\n\`\`\`\n`}(t.data);case"checklist":return Ln(t.data)}var n})).join("\n"),`entry_${n}-${e}-${i}.md`)}save(){return{message:"Downloading Markdown"}}},xo=class{constructor({data:t,api:n}){this.data=t,this.api=n}static get toolbox(){return{title:"Import Markdown",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="rgb(112, 118, 132)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-fileUpload"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>'}}render(){const t=document.createElement("input");return t.setAttribute("id","file-upload"),t.setAttribute("type","file"),t.setAttribute("style","display: none"),t.setAttribute("name","files[]"),t.setAttribute("onload",this.parseMarkdown()),t}async parseMarkdown(){wo.length=0,await this.api.saver.save();const t=document.getElementById("file-upload");t.onchange=t=>{const n=t.target.files[0],e=new FileReader;e.readAsText(n,"UTF-8"),e.onload=t=>{const n=t.target.result;return yo().parse(n).children.forEach((t=>{switch(t.type){case"heading":return wo.push(function(t){let n={};switch(t.depth){case 1:return t.children.forEach((t=>{n={data:{level:1,text:t.value},type:"header"}})),n;case 2:return t.children.forEach((t=>{n={data:{level:2,text:t.value},type:"header"}})),n;case 3:return t.children.forEach((t=>{n={data:{level:3,text:t.value},type:"header"}})),n;case 4:return t.children.forEach((t=>{n={data:{level:4,text:t.value},type:"header"}})),n;case 5:return t.children.forEach((t=>{n={data:{level:5,text:t.value},type:"header"}})),n;case 6:return t.children.forEach((t=>{n={data:{level:6,text:t.value},type:"header"}})),n}}(t));case"paragraph":return wo.push(function(t){let n={};return"paragraph"===t.type&&t.children.forEach((t=>{"text"===t.type&&(n={data:{text:t.value},type:"paragraph"}),"image"===t.type&&(n={data:{caption:t.title,stretched:!1,url:t.url,withBackground:!1,withBorder:!1},type:"image"})})),n}(t));case"list":return wo.push(function(t){let n={};const e=[];return t.children.forEach((t=>{t.children.forEach((t=>{t.children.forEach((t=>{e.push(t.value)}))}))})),n={data:{items:e,style:t.ordered?"ordered":"unordered"},type:"list"},n}(t));case"thematicBreak":return wo.push(function(){let t={};return t={data:{items:[]},type:"delimiter"},t}());case"code":return wo.push({data:{code:t.value},type:"code"});case"blockquote":return wo.push(function(t){let n={};return t.children.forEach((t=>{t.children.forEach((t=>{"text"===t.type&&(n={data:{alignment:"left",caption:"",text:t.value},type:"quote"})}))})),n}(t))}})),this.api.blocks.clear(),this.api.blocks.render({blocks:wo.filter((t=>0!==Object.keys(t).length))}),yo().parse(n)}},t.click()}save(){return{message:"Uploading Markdown"}}};class _o{constructor({data:t,api:n}){this.leftAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path></svg>',this.centerAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"></path></svg>',this.rightAlignIcon='<svg xmlns="http://www.w3.org/2000/svg" id="Layer" enable-background="new 0 0 64 64" height="20" viewBox="0 0 64 64" width="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"></path></svg>',this.alignOptions=["left","center","right"],this.colorOptions=["primary","secondary","tertiary","success","warning","danger","dark","medium","light"],this.settings=[{name:"shape",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><title>Shapes</title><path fill=\"currentColor\" d='M336 336H32a16 16 0 01-14-23.81l152-272a16 16 0 0127.94 0l152 272A16 16 0 01336 336z'/><path fill=\"currentColor\" d='M336 160a161.07 161.07 0 00-32.57 3.32l74.47 133.27A48 48 0 01336 368H183.33A160 160 0 10336 160z'/></svg>",value:"square",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button");t.shape="round"===t.shape?"square":"round"}catch(t){console.log("Error setting button shape!")}}},{name:"href",innerHTML:'<svg class="icon" width="14px" height="10px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#link"></use></svg>',value:"#",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button"),n=prompt("Where do you want this button to link?",t.href);n&&(t.href=n)}catch(t){console.log("Error setting button link!")}}},{name:"align",innerHTML:this.leftAlignIcon,value:"left",onClick:()=>{var t;try{const n=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button"),e=(null===(t=this.data)||void 0===t?void 0:t.align)?this.data.align:"left";"center"===e?(this.data.align="right",n.style.display="table",n.style.margin="10px 20px 10px auto"):"right"===e?(this.data.align="left",n.style.display="inline-block",n.style.margin="10px"):(this.data.align="center",n.style.display="table",n.style.margin="10px auto")}catch(t){console.log("Error setting button alignment!")}}},{name:"color",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Color Fill</title><path d='M416 480c-35.29 0-64-29.11-64-64.88 0-33.29 28.67-65.4 44.08-82.64 1.87-2.1 3.49-3.91 4.68-5.31a19.94 19.94 0 0130.55 0c1.13 1.31 2.63 3 4.36 4.93 15.5 17.3 44.33 49.51 44.33 83.05 0 35.74-28.71 64.85-64 64.85zM398.23 276.64L166.89 47.22a52.1 52.1 0 00-73.6 0l-4.51 4.51a53.2 53.2 0 00-15.89 37.33A51.66 51.66 0 0088.14 126l41.51 41.5L45 252a44.52 44.52 0 00-13 32 42.81 42.81 0 0013.5 30.84l131.24 126a44 44 0 0061.08-.18l124.11-120.28a15.6 15.6 0 018.23-4.29 69.21 69.21 0 0111.93-.86h.3a22.53 22.53 0 0015.84-38.59zM152.29 144.85l-41.53-41.52a20 20 0 010-28.34l5.16-5.15a20.07 20.07 0 0128.39 0L186 111.21z'/></svg>",value:"primary",onClick:()=>{try{const t=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-button");t.color=this.nextArrayItem(this.colorOptions,t.color?t.color:"primary")}catch(t){console.log("Error setting button alignment!")}}}],this.data=Object.assign({text:"New Button",shape:"square",href:"#",align:"left",color:"primary"},t),this.api=n}static get toolbox(){return{title:"Button",icon:'<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="20" width="20"><path fill="currentColor" d="M292.3 311.93c0 42.41-39.72 41.43-43.92 41.43h-80.89v-81.69h80.89c42.56 0 43.92 31.9 43.92 40.26zm-50.15-73.13c.67 0 38.44 1 38.44-36.31 0-15.52-3.51-35.87-38.44-35.87h-74.66v72.18h74.66zM448 106.67v298.66A74.89 74.89 0 0 1 373.33 480H74.67A74.89 74.89 0 0 1 0 405.33V106.67A74.89 74.89 0 0 1 74.67 32h298.66A74.89 74.89 0 0 1 448 106.67zM338.05 317.86c0-21.57-6.65-58.29-49.05-67.35v-.73c22.91-9.78 37.34-28.25 37.34-55.64 0-7 2-64.78-77.6-64.78h-127v261.33c128.23 0 139.87 1.68 163.6-5.71 14.21-4.42 52.71-17.98 52.71-67.12z"/></svg>'}}nextArrayItem(t,n){const e=t.indexOf(n);if(-1!==e)return t[(e+1)%t.length]}render(){var t,n,e,i,r,o;const u=document.createElement("ion-button");return(null===(t=this.data)||void 0===t?void 0:t.shape)&&(u.shape=this.data.shape),(null===(n=this.data)||void 0===n?void 0:n.href)&&(u.href=this.data.href),"center"===(null===(e=this.data)||void 0===e?void 0:e.align)?(u.style.display="table",u.style.margin="10px auto"):"right"===(null===(i=this.data)||void 0===i?void 0:i.align)&&(u.style.display="table",u.style.margin="10px 20px 10px auto"),(null===(r=this.data)||void 0===r?void 0:r.color)&&(u.color=this.data.color),u.innerHTML=`<div contenteditable="true">${null===(o=this.data)||void 0===o?void 0:o.text}</div>`,u}renderSettings(){const t=document.createElement("div");for(const n of this.settings){let e=document.createElement("div");e.classList.add("cdx-settings-button"),e.innerHTML=n.innerHTML,"function"==typeof(null==n?void 0:n.onClick)&&e.addEventListener("click",n.onClick),t.appendChild(e)}return t}save(t){var n;return{text:t.innerText,shape:t.shape?t.shape:"square",align:(null===(n=this.data)||void 0===n?void 0:n.align)?this.data.align:"left",href:t.href?t.href:"#",color:t.color?t.color:"primary"}}}class jo{constructor({data:t,api:n}){this.settings=[{name:"Link",icon:"<svg xmlns='http://www.w3.org/2000/svg' height=\"20\" width=\"20\" class='ionicon' viewBox='0 0 512 512'><title>Link</title><path d='M200.66 352H144a96 96 0 010-192h55.41M312.59 160H368a96 96 0 010 192h-56.66M169.07 256h175.86' fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='48'/></svg>",value:"#"}],this.data=t,this.api=n}static get toolbox(){return{title:"Page",icon:"<svg xmlns='http://www.w3.org/2000/svg' height=\"20\" width=\"20\" class='ionicon' viewBox='0 0 512 512'><title>Document</title><path d='M428 224H288a48 48 0 01-48-48V36a4 4 0 00-4-4h-92a64 64 0 00-64 64v320a64 64 0 0064 64h224a64 64 0 0064-64V228a4 4 0 00-4-4z'/><path d='M419.22 188.59L275.41 44.78a2 2 0 00-3.41 1.41V176a16 16 0 0016 16h129.81a2 2 0 001.41-3.41z'/></svg>"}}render(){var t,n;const e=document.createElement("ion-card");return e.innerHTML=`<ion-item detail lines="none" href="${(null===(t=this.data)||void 0===t?void 0:t.href)?this.data.href:"#"}"><ion-icon slot="start" name="document"></ion-icon><ion-label>${null===(n=this.data)||void 0===n?void 0:n.name}</ion-label></ion-item>`,e}renderSettings(){const t=document.createElement("div");return document.addEventListener("enjinSelectPage",(t=>{var n,e,i,r,o,u;console.log(t);const a=this.api.blocks.getBlockByIndex(t.detail.blockIndex).holder.querySelector("ion-item");a.querySelector("ion-label").textContent=(null===(e=null===(n=t.detail)||void 0===n?void 0:n.page)||void 0===e?void 0:e.name)?t.detail.page.name:"Home",a.href=`/editor/${(null===(r=null===(i=t.detail)||void 0===i?void 0:i.page)||void 0===r?void 0:r.id)?null===(u=null===(o=t.detail)||void 0===o?void 0:o.page)||void 0===u?void 0:u.id:"home"}`})),this.settings.forEach((n=>{let e=document.createElement("div");e.classList.add("cdx-settings-button"),e.innerHTML=n.icon,e.addEventListener("click",(t=>{try{document.body.dispatchEvent(new CustomEvent("enjinToggleMenu",{detail:{event:t,selectingPage:!0,blockIndex:this.api.blocks.getCurrentBlockIndex()}}))}catch(t){console.log("Error setting button shape!")}})),t.appendChild(e)})),t}save(t){return{name:t.querySelector("ion-label").textContent,href:t.querySelector("ion-item").href}}}class Eo{constructor({api:t,data:n,config:e}){this.settings=[{name:"template",innerHTML:"<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>List Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-88 302a24 24 0 1124-24 24 24 0 01-24 24zm0-71a24 24 0 1124-24 24 24 0 01-24 24zm0-73a24 24 0 1124-24 24 24 0 01-24 24zm184 135H224a16 16 0 010-32h128a16 16 0 010 32zm0-71H224a16 16 0 010-32h128a16 16 0 010 32zm0-72H224a16 16 0 010-32h128a16 16 0 010 32z' height='20' width='20' fill='currentColor' /></svg>",value:null,onClick:()=>{this.presentModal()}}],this.loaded=!1,this.partials=[],this.data=n,this.api=t,this.blockId=this.makeid(26),(null==e?void 0:e.partials)&&"object"==typeof e.partials?this.partials=e.partials:(null==e?void 0:e.partials)&&"function"==typeof e.partials?this.partials=e.partials():localStorage.getItem("enjin-editor-partials")&&(this.partials=JSON.parse(localStorage.getItem("enjin-editor-partials"))),this.createModal(),document.addEventListener("enjinModalClose",(()=>{this.modalEl&&this.modalEl.dismiss()})),document.addEventListener("enjinEditorClick",(t=>{var n,e;const i=document.querySelector(`.editor-partial#${this.blockId}`);(null===(n=null==t?void 0:t.detail)||void 0===n?void 0:n.template)&&(null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.blockId)===this.blockId&&i&&(this.selectedPartial=t.detail.template,i.innerHTML=this.selectedPartial.html,this.modalEl&&this.modalEl.dismiss())}))}static get toolbox(){return{title:"Partial",icon:"<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512' height='20' width='20'><title>Extension Puzzle</title><path d='M345.14 480H274a18 18 0 01-18-18v-27.71a31.32 31.32 0 00-9.71-22.77c-7.78-7.59-19.08-11.8-30.89-11.51-21.36.5-39.4 19.3-39.4 41.06V462a18 18 0 01-18 18H87.62A55.62 55.62 0 0132 424.38V354a18 18 0 0118-18h27.71c9.16 0 18.07-3.92 25.09-11a42.06 42.06 0 0012.2-29.92C114.7 273.89 97.26 256 76.91 256H50a18 18 0 01-18-18v-70.38A55.62 55.62 0 0187.62 112h55.24a8 8 0 008-8v-6.48A65.53 65.53 0 01217.54 32c35.49.62 64.36 30.38 64.36 66.33V104a8 8 0 008 8h55.24A54.86 54.86 0 01400 166.86v55.24a8 8 0 008 8h5.66c36.58 0 66.34 29 66.34 64.64 0 36.61-29.39 66.4-65.52 66.4H408a8 8 0 00-8 8v56A54.86 54.86 0 01345.14 480z' fill='currentColor' /></svg>"}}makeid(t){for(var n="",e="abcdefghijklmnopqrstuvwxyz",i=e.length,r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*i));return n}createModal(){const t=this.partials,n=this.blockId;customElements.define(`template-select-modal-${n}`,class extends HTMLElement{connectedCallback(){this.innerHTML=`\n    <ion-header>\n      <ion-toolbar>\n        <ion-title>Select a Template</ion-title>\n        <ion-buttons slot="primary">\n          <ion-button onClick="document.dispatchEvent(new CustomEvent('enjinModalClose', {detail: {event}}));">\n            <ion-icon slot="icon-only" name="close"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content class="ion-padding">\n      <ion-list>\n          ${t.map((t=>`<ion-item onClick='event.preventDefault();document.dispatchEvent(new CustomEvent("enjinEditorClick", {\n              detail: {\n                event: event,\n                template: {\n                  id: \`${t.id}\`,\n                  name: \`${t.name?t.name:t.subject}\`,\n                  html: \`${t.html}\`\n                },\n                blockId: \`${n}\` \n              }\n            }));' detail="true" href="#">\n            <ion-label>\n              <h2>${t.name?t.name:t.subject}</h2>\n              <div style="pointer-events: none;">${t.html}</div>\n            </ion-label>\n          </ion-item>`)).join("")}\n      </ion-list>\n    </ion-content>`}})}presentModal(){var t;return this.modalEl=document.createElement("ion-modal"),this.modalEl.component=`template-select-modal-${this.blockId}`,this.modalEl.cssClass="my-custom-class",this.modalEl.componentProps={partials:(null===(t=this.data)||void 0===t?void 0:t.partials)?this.data.partials:{}},document.body.appendChild(this.modalEl),this.modalEl.present()}render(){var t,n,e;if((null===(t=this.data)||void 0===t?void 0:t.templateId)&&this.partials)for(const t of this.partials)t.id===this.data.templateId&&(this.selectedPartial=t);return this.loaded||(null===(n=this.data)||void 0===n?void 0:n.templateId)||this.presentModal(),this.loaded=!0,this.partialWrapperEl=document.createElement("div"),this.partialWrapperEl.id=this.blockId,this.partialWrapperEl.classList.add("editor-partial"),this.partialWrapperEl.innerHTML=(null===(e=this.selectedPartial)||void 0===e?void 0:e.html)?this.selectedPartial.html:"<caption>Please select a template</caption>",this.partialWrapperEl}renderSettings(){const t=document.createElement("div");for(const n of this.settings){let e=document.createElement("div");e.classList.add("cdx-settings-button"),e.innerHTML=n.innerHTML,"function"==typeof(null==n?void 0:n.onClick)&&e.addEventListener("click",n.onClick),t.appendChild(e)}return t}save(){var t;return{templateId:(null===(t=this.selectedPartial)||void 0===t?void 0:t.id)?this.selectedPartial.id:null}}}function So(){const t=document.activeElement,n=window.getSelection().getRangeAt(0),e=n.cloneRange();return e.selectNodeContents(t),e.setStart(n.endContainer,n.endOffset),e.extractContents()}function Oo(t,n=null,e={}){const i=document.createElement(t);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const t in e)i[t]=e[t];return i}function To(t){return t.innerHTML.replace("<br>"," ").trim()}function Ao(t,n=!1,e){const i=document.createRange(),r=window.getSelection();i.selectNodeContents(t),void 0!==e&&(i.setStart(t,e),i.setEnd(t,e)),i.collapse(n),r.removeAllRanges(),r.addRange(i)}class Mo{constructor({data:t,api:n,readOnly:e}){this.progress=0,this.color="success",this.colorOptions=["primary","secondary","tertiary","success","warning","danger","dark","medium","light"],this.settings=[{name:"color",innerHTML:"<svg width=\"20\" height=\"20\" xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Color Fill</title><path d='M416 480c-35.29 0-64-29.11-64-64.88 0-33.29 28.67-65.4 44.08-82.64 1.87-2.1 3.49-3.91 4.68-5.31a19.94 19.94 0 0130.55 0c1.13 1.31 2.63 3 4.36 4.93 15.5 17.3 44.33 49.51 44.33 83.05 0 35.74-28.71 64.85-64 64.85zM398.23 276.64L166.89 47.22a52.1 52.1 0 00-73.6 0l-4.51 4.51a53.2 53.2 0 00-15.89 37.33A51.66 51.66 0 0088.14 126l41.51 41.5L45 252a44.52 44.52 0 00-13 32 42.81 42.81 0 0013.5 30.84l131.24 126a44 44 0 0061.08-.18l124.11-120.28a15.6 15.6 0 018.23-4.29 69.21 69.21 0 0111.93-.86h.3a22.53 22.53 0 0015.84-38.59zM152.29 144.85l-41.53-41.52a20 20 0 010-28.34l5.16-5.15a20.07 20.07 0 0128.39 0L186 111.21z'/></svg>",value:"success",onClick:()=>{try{this.color=this.nextArrayItem(this.colorOptions,this.color),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelectorAll("ion-checkbox").forEach((t=>{t.color=this.color})),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-progress-bar").color=this.color}catch(t){console.log("Error setting button alignment!")}}}],this.elements={wrapper:null,items:[]},this.readOnly=e,this.api=n,this.data=t||{}}get items(){return Array.from(this.elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:'<svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 15a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15zm0-2.394a5.106 5.106 0 1 0 0-10.212 5.106 5.106 0 0 0 0 10.212zm-.675-4.665l2.708-2.708 1.392 1.392-2.708 2.708-1.392 1.391-2.971-2.971L5.245 6.36l1.58 1.58z"/></svg>',title:"Tasklist"}}static get conversionConfig(){return{export:t=>t.items.map((({text:t})=>t)).join(". "),import:t=>({items:[{text:t,checked:!1}]})}}render(){return this.elements.wrapper=Oo("ion-list",[this.CSS.baseBlock,this.CSS.wrapper],{style:"padding-bottom: 0px;"}),this.data.items||(setTimeout((()=>{this.elements.wrapper.querySelector("ion-item:first-of-type > ion-label").focus()}),200),this.data.items=[{text:"",checked:!1}]),setTimeout((()=>{this.progressBarEl=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.querySelector("ion-progress-bar"),this.setProgress()}),200),this.data.items.forEach((t=>{const n=this.createTasklistItem(t);this.elements.wrapper.appendChild(n)})),this.elements.wrapper.appendChild(Oo("ion-progress-bar",null,{color:this.color,value:this.progress})),this.readOnly||(this.elements.wrapper.addEventListener("keydown",(t=>{const[n,e]=[13,8];switch(t.keyCode){case n:this.enterPressed(t);break;case e:this.backspace(t)}}),!1),this.elements.wrapper.addEventListener("ionChange",(t=>{this.toggleCheckbox(t),this.setProgress()}))),this.elements.wrapper}setProgress(){var t;let n=0;for(const e of this.items)console.log(e),n+=(null===(t=null==e?void 0:e.querySelector("ion-checkbox"))||void 0===t?void 0:t.checked)?1:0;const e=n/this.items.length;this.progress=isFinite(e)&&e>0?e:0,this.progressBarEl.value=this.progress}renderSettings(){const t=document.createElement("div");for(const n of this.settings){let e=document.createElement("div");e.classList.add("cdx-settings-button"),e.innerHTML=n.innerHTML,"function"==typeof(null==n?void 0:n.onClick)&&e.addEventListener("click",n.onClick),t.appendChild(e)}return t}save(){let t=this.items.map((t=>({text:To(this.getItemInput(t)),checked:t.classList.contains(this.CSS.itemChecked)})));return t=t.filter((t=>0!==t.text.trim().length)),{items:t,color:this.color,progress:this.progress}}validate(t){return!!t.items.length}toggleCheckbox(t){const n=t.target.closest(`.${this.CSS.item}`);n.querySelector(`.${this.CSS.checkbox}`).contains(t.target)&&n.classList.toggle(this.CSS.itemChecked)}nextArrayItem(t,n){const e=t.indexOf(n);if(-1!==e)return t[(e+1)%t.length]}createTasklistItem(t={}){const n=Oo("ion-item",this.CSS.item),e=Oo("ion-checkbox",this.CSS.checkbox,{disabled:!!t.disabled,slot:"start",color:this.color}),i=Oo("ion-label",this.CSS.textField,{innerHTML:t.text?t.text:"",contentEditable:!this.readOnly,style:"z-index: 2;"});return t.checked&&n.classList.add(this.CSS.itemChecked),n.appendChild(e),n.appendChild(i),n}enterPressed(t){t.preventDefault();const n=this.items,e=document.activeElement.closest(`.${this.CSS.item}`);if(n.indexOf(e)===n.length-1&&n.length>1&&0===To(this.getItemInput(e)).length){const t=this.api.blocks.getCurrentBlockIndex();return e.remove(),setTimeout((()=>{this.setProgress()}),200),this.api.blocks.insert(),void this.api.caret.setToBlock(t+1)}const i=function(t){const n=document.createElement("div");return n.appendChild(t),n.innerHTML}(So()),r=this.createTasklistItem({text:i,checked:!1});this.elements.wrapper.insertBefore(r,e.nextSibling),Ao(this.getItemInput(r),!0),setTimeout((()=>this.getItemInput(r).focus()),100),this.setProgress()}backspace(t){const n=t.target.closest(`.${this.CSS.item}`),e=this.items.indexOf(n),i=this.items[e-1];if(!i)return;if(0!==window.getSelection().focusOffset)return;t.preventDefault();const r=So(),o=this.getItemInput(i),u=o.childNodes.length;o.appendChild(r),Ao(o,void 0,u),n.remove(),this.setProgress()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"enjin-tasklist",item:"enjin-tasklist__item",itemChecked:"enjin-tasklist__item--checked",checkbox:"enjin-tasklist__item-checkbox",textField:"enjin-tasklist__item-text"}}getItemInput(t){return t.querySelector(`.${this.CSS.textField}`)}}var Ro=yn((function(t){var n=function(t){var n=/\blang(?:uage)?-([\w-]+)\b/i,e=0,i={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function t(n){return n instanceof r?new r(n.type,t(n.content),n.alias):Array.isArray(n)?n.map(t):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++e}),t.__id},clone:function t(n,e){var r,o;switch(e=e||{},i.util.type(n)){case"Object":if(o=i.util.objId(n),e[o])return e[o];for(var u in e[o]=r={},n)n.hasOwnProperty(u)&&(r[u]=t(n[u],e));return r;case"Array":return o=i.util.objId(n),e[o]?e[o]:(e[o]=r=[],n.forEach((function(n,i){r[i]=t(n,e)})),r);default:return n}},getLanguage:function(t){for(;t&&!n.test(t.className);)t=t.parentElement;return t?(t.className.match(n)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(i){var t=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(i.stack)||[])[1];if(t){var n=document.getElementsByTagName("script");for(var e in n)if(n[e].src==t)return n[e]}return null}},isActive:function(t,n,e){for(var i="no-"+n;t;){var r=t.classList;if(r.contains(n))return!0;if(r.contains(i))return!1;t=t.parentElement}return!!e}},languages:{extend:function(t,n){var e=i.util.clone(i.languages[t]);for(var r in n)e[r]=n[r];return e},insertBefore:function(t,n,e,r){var o=(r=r||i.languages)[t],u={};for(var a in o)if(o.hasOwnProperty(a)){if(a==n)for(var c in e)e.hasOwnProperty(c)&&(u[c]=e[c]);e.hasOwnProperty(a)||(u[a]=o[a])}var s=r[t];return r[t]=u,i.languages.DFS(i.languages,(function(n,e){e===s&&n!=t&&(this[n]=u)})),u},DFS:function t(n,e,r,o){o=o||{};var u=i.util.objId;for(var a in n)if(n.hasOwnProperty(a)){e.call(n,a,n[a],r||a);var c=n[a],s=i.util.type(c);"Object"!==s||o[u(c)]?"Array"!==s||o[u(c)]||(o[u(c)]=!0,t(c,e,a,o)):(o[u(c)]=!0,t(c,e,null,o))}}},plugins:{},highlightAll:function(t,n){i.highlightAllUnder(document,t,n)},highlightAllUnder:function(t,n,e){var r={callback:e,container:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,u=0;o=r.elements[u++];)i.highlightElement(o,!0===n,r.callback)},highlightElement:function(e,r,o){var u=i.util.getLanguage(e),a=i.languages[u];e.className=e.className.replace(n,"").replace(/\s+/g," ")+" language-"+u;var c=e.parentElement;c&&"pre"===c.nodeName.toLowerCase()&&(c.className=c.className.replace(n,"").replace(/\s+/g," ")+" language-"+u);var s={element:e,language:u,grammar:a,code:e.textContent};function f(t){s.highlightedCode=t,i.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,i.hooks.run("after-highlight",s),i.hooks.run("complete",s),o&&o.call(s.element)}if(i.hooks.run("before-sanity-check",s),!s.code)return i.hooks.run("complete",s),void(o&&o.call(s.element));if(i.hooks.run("before-highlight",s),s.grammar)if(r&&t.Worker){var l=new Worker(i.filename);l.onmessage=function(t){f(t.data)},l.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else f(i.highlight(s.code,s.grammar,s.language));else f(i.util.encode(s.code))},highlight:function(t,n,e){var o={code:t,grammar:n,language:e};return i.hooks.run("before-tokenize",o),o.tokens=i.tokenize(o.code,o.grammar),i.hooks.run("after-tokenize",o),r.stringify(i.util.encode(o.tokens),o.language)},tokenize:function(t,n){var e=n.rest;if(e){for(var i in e)n[i]=e[i];delete n.rest}var r=new a;return c(r,r.head,t),u(t,r,n,r.head,0),function(t){for(var n=[],e=t.head.next;e!==t.tail;)n.push(e.value),e=e.next;return n}(r)},hooks:{all:{},add:function(t,n){var e=i.hooks.all;e[t]=e[t]||[],e[t].push(n)},run:function(t,n){var e=i.hooks.all[t];if(e&&e.length)for(var r,o=0;r=e[o++];)r(n)}},Token:r};function r(t,n,e,i){this.type=t,this.content=n,this.alias=e,this.length=0|(i||"").length}function o(t,n,e,i){t.lastIndex=n;var r=t.exec(e);if(r&&i&&r[1]){var o=r[1].length;r.index+=o,r[0]=r[0].slice(o)}return r}function u(t,n,e,a,f,l){for(var h in e)if(e.hasOwnProperty(h)&&e[h]){var d=e[h];d=Array.isArray(d)?d:[d];for(var v=0;v<d.length;++v){if(l&&l.cause==h+","+v)return;var p=d[v],b=p.inside,g=!!p.lookbehind,m=!!p.greedy,y=p.alias;if(m&&!p.pattern.global){var w=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,w+"g")}for(var k=p.pattern||p,x=a.next,_=f;x!==n.tail&&!(l&&_>=l.reach);_+=x.value.length,x=x.next){var j=x.value;if(n.length>t.length)return;if(!(j instanceof r)){var E,S=1;if(m){if(!(E=o(k,_,t,g)))break;var O=E.index,T=E.index+E[0].length,A=_;for(A+=x.value.length;O>=A;)A+=(x=x.next).value.length;if(_=A-=x.value.length,x.value instanceof r)continue;for(var M=x;M!==n.tail&&(A<T||"string"==typeof M.value);M=M.next)S++,A+=M.value.length;S--,j=t.slice(_,A),E.index-=_}else if(!(E=o(k,0,j,g)))continue;var R=E[0],F=j.slice(0,O=E.index),C=j.slice(O+R.length),I=_+j.length;l&&I>l.reach&&(l.reach=I);var B=x.prev;F&&(B=c(n,B,F),_+=F.length),s(n,B,S),x=c(n,B,new r(h,b?i.tokenize(R,b):R,y,R)),C&&c(n,x,C),S>1&&u(t,n,e,x.prev,_,{cause:h+","+v,reach:I})}}}}}function a(){var t={value:null,prev:null,next:null},n={value:null,prev:t,next:null};t.next=n,this.head=t,this.tail=n,this.length=0}function c(t,n,e){var i=n.next,r={value:e,prev:n,next:i};return n.next=r,i.prev=r,t.length++,r}function s(t,n,e){for(var i=n.next,r=0;r<e&&i!==t.tail;r++)i=i.next;n.next=i,i.prev=n,t.length-=r}if(t.Prism=i,r.stringify=function t(n,e){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=t(n,e)})),r}var o={type:n.type,content:t(n.content,e),tag:"span",classes:["token",n.type],attributes:{},language:e},u=n.alias;u&&(Array.isArray(u)?Array.prototype.push.apply(o.classes,u):o.classes.push(u)),i.hooks.run("wrap",o);var a="";for(var c in o.attributes)a+=" "+c+'="'+(o.attributes[c]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+a+">"+o.content+"</"+o.tag+">"},!t.document)return t.addEventListener?(i.disableWorkerMessageHandler||t.addEventListener("message",(function(n){var e=JSON.parse(n.data),r=e.language,o=e.immediateClose;t.postMessage(i.highlight(e.code,i.languages[r],r)),o&&t.close()}),!1),i):i;var f=i.util.currentScript();function l(){i.manual||i.highlightAll()}if(f&&(i.filename=f.src,f.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var h=document.readyState;"loading"===h||"interactive"===h&&f&&f.defer?document.addEventListener("DOMContentLoaded",l):window.requestAnimationFrame?window.requestAnimationFrame(l):window.setTimeout(l,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */t.exports&&(t.exports=n),void 0!==gn&&(gn.Prism=n),n.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(t,e){var i={};i["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[e]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};r["language-"+e]={pattern:/[\s\S]+/,inside:n.languages[e]};var o={};o[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return t})),"i"),lookbehind:!0,greedy:!0,inside:r},n.languages.insertBefore("markup","cdata",o)}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(t){var n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+n.source+")*(?=\\s*\\{)"),string:{pattern:n,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var e=t.languages.markup;e&&(e.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:t.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},e.tag))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}}}),n.languages.markup&&n.languages.markup.tag.addInlined("script","javascript"),n.languages.js=n.languages.javascript,function(){if("undefined"!=typeof self&&self.Prism&&self.document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var t=window.Prism,n={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},e="data-src-status",i='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',r=/\blang(?:uage)?-([\w-]+)\b/i;t.hooks.add("before-highlightall",(function(t){t.selector+=", "+i})),t.hooks.add("before-sanity-check",(function(r){var o=r.element;if(o.matches(i)){r.code="",o.setAttribute(e,"loading");var a=o.appendChild(document.createElement("CODE"));a.textContent="Loading";var c=o.getAttribute("data-src"),s=r.language;if("none"===s){var f=(/\.(\w+)$/.exec(c)||[,"none"])[1];s=n[f]||f}u(a,s),u(o,s);var l=t.plugins.autoloader;l&&l.loadLanguages(s);var h=new XMLHttpRequest;h.open("GET",c,!0),h.onreadystatechange=function(){4==h.readyState&&(h.status<400&&h.responseText?(o.setAttribute(e,"loaded"),a.textContent=h.responseText,t.highlightElement(a)):(o.setAttribute(e,"failed"),a.textContent=h.status>=400?" Error "+h.status+" while fetching file: "+h.statusText:" Error: File does not exist or is empty"))},h.send(null)}})),t.plugins.fileHighlight={highlight:function(n){for(var e,r=(n||document).querySelectorAll(i),o=0;e=r[o++];)t.highlightElement(e)}};var o=!1;t.fileHighlight=function(){o||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),o=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}function u(t,n){var e=t.className;e=e.replace(r," ")+" language-"+n,t.className=e.replace(/\s+/g," ").trim()}}()}));class Fo{constructor({data:t,config:n,api:e,readOnly:i}){this.api=e,this.readOnly=i,this.placeholder=n.placeholder?n.placeholder:"",this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:t.html||""},this.textarea=null,this.resizeDebounce=null,Ro.highlight("<p>test</p>",Ro.languages.javascript,"markup"),this.injectScript("/build/prism-live/prism-live.js?load=html,css,javascript")}static get isReadOnlySupported(){return!0}static get displayInToolbox(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:'<svg width="19" height="13"><path d="M18.004 5.794c.24.422.18.968-.18 1.328l-4.943 4.943a1.105 1.105 0 1 1-1.562-1.562l4.162-4.162-4.103-4.103A1.125 1.125 0 1 1 12.97.648l4.796 4.796c.104.104.184.223.239.35zm-15.142.547l4.162 4.162a1.105 1.105 0 1 1-1.562 1.562L.519 7.122c-.36-.36-.42-.906-.18-1.328a1.13 1.13 0 0 1 .239-.35L5.374.647a1.125 1.125 0 0 1 1.591 1.591L2.862 6.341z"/></svg>',title:"Raw HTML"}}injectScript(t){return new Promise(((n,e)=>{const i=document.createElement("script");i.async=!0,i.src=t,i.addEventListener("load",n),i.addEventListener("error",(()=>e("Error loading script."))),i.addEventListener("abort",(()=>e("Script loading aborted."))),document.head.appendChild(i)}))}render(){const t=document.createElement("div");return this.textarea=document.createElement("textarea"),t.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.textarea.classList.add(this.CSS.textarea,this.CSS.input,"prism-live","language-html"),this.textarea.textContent=this.data.html,this.textarea.placeholder=this.placeholder,this.readOnly?this.textarea.disabled=!0:this.textarea.addEventListener("input",(()=>{this.onInput()})),t.appendChild(this.textarea),setTimeout((()=>{this.resize()}),100),t}save(t){return{html:t.querySelector("textarea").value}}static get DEFAULT_PLACEHOLDER(){return"Enter HTML code"}static get sanitize(){return{html:!0}}onInput(){this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout((()=>{this.resize()}),200)}resize(){this.textarea.style.height="auto",this.textarea.style.height=this.textarea.scrollHeight+"px"}}const Co=class{constructor(e){t(this,e),this.enjinChange=n(this,"enjinChange",7),this.placeholder="Let's Write Something!",this.tools={},this.readOnly=!1,this.autofocus=!0}async getInstance(){return this.editorJS}async exportHTML(){return new Bn(null,{button:t=>`<ion-button shape="${t.shape?t.shape:"square"}" color="${t.color?t.color:"primary"}" class="${"center"===t.align?"enjin-align-center":"right"===t.align?"enjin-align-right":"enjin-align-left"}" href="${t.href?t.href:"#"}">${t.text}</ion-button>`,partial:t=>`<div class="editor-partial">{{> ${t.templateId}}}</div>`,tasklist:t=>{const n=(null==t?void 0:t.color)?t.color:"success",e=(null==t?void 0:t.progress)?t.progress:0,i=["<ion-list>"];for(const e of(null==t?void 0:t.items)?t.items:[])i.push(`<ion-item><ion-checkbox slot="start" color="${n}" ${e.checked?'checked="true"':""}></ion-checkbox><ion-label>${e.text}</ion-label></ion-item>`);return i.push(`<ion-progress-bar color="${n}" value="${e}"></ion-progress-bar>`,"</ion-list>"),i.join("")},code:t=>t.html}).parse(await this.editorJS.save())}async componentDidLoad(){this.editorJS=new wn({onChange:()=>{this.enjinChange.emit({instance:this.editorJS})},placeholder:this.placeholder,holder:this.editorEl,readOnly:this.readOnly,autofocus:this.autofocus,tools:Object.assign({paragraph:{class:En,inlineToolbar:!0},header:{class:jn,inlineToolbar:!0},button:{class:_o},image:{class:kn,config:{uploader:{uploadByFile:t=>new Promise(((n,e)=>{const i=Y.storage().ref(`${this.fileStoragePath?this.fileStoragePath:this.userId?`/users/${this.userId}`:"/enjin-editor"}/${t.name}`).put(t,{});i.on("state_changed",(function(t){switch(console.log("Upload is "+t.bytesTransferred/t.totalBytes*100+"% done"),t.state){case Y.storage.TaskState.PAUSED:console.log("Upload is paused");break;case Y.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(t){e(t)}),(function(){i.snapshot.ref.getDownloadURL().then((function(t){n({success:!0,file:{url:t}})}))}))})),uploadByUrl:async t=>({success:!0,file:{url:t}})}}},list:{class:xn,inlineToolbar:!0},tasklist:{class:Mo,inlineToolbar:!0},table:{class:zn},page:jo,code:Fo,partial:{class:Eo,config:{partials:this.partials?this.partials:null}},editorJSStyle:Sn,markdownParser:ko,markdownImporter:xo,embed:{class:_n}},this.tools)})}render(){return e(r,null)}static get assetsDirs(){return["prism-live"]}get editorEl(){return i(this)}};Co.style='enjin-editor{display:block;color:var(--ion-text-color)}enjin-editor editorjs-style{display:block}enjin-editor .ce-toolbox__button--active,enjin-editor .ce-toolbox__button:hover,enjin-editor .ce-toolbar__plus--active,enjin-editor .ce-toolbar__plus:hover,enjin-editor .cdx-settings-button--active,enjin-editor .cdx-settings-button:hover{color:var(--ion-color-primary)}enjin-editor .ce-settings__button--confirm{background-color:var(--ion-color-danger) !important;color:var(--ion-color-danger-contrast)}enjin-editor .ce-block--selected .ce-block__content{background:var(--ion-color-base-tint)}enjin-editor .ce-toolbox{background-color:var(--ion-background-color)}enjin-editor .ce-toolbar__settings-btn{background-color:var(--ion-color-base-shade)}enjin-editor .ce-inline-toolbar,enjin-editor .ce-conversion-toolbar,enjin-editor .ce-settings{color:var(--ion-text-color);background-color:var(--ion-color-base-shade);border-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-toolbar__dropdown{border-right-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-toolbar__dropdown:hover,enjin-editor .ce-inline-tool:hover,enjin-editor .ce-settings__button:hover,enjin-editor .cdx-settings-button:hover{background-color:var(--ion-color-base-tint)}enjin-editor .ce-inline-tool,enjin-editor .ce-settings,enjin-editor .cdx-settings-button{color:var(--ion-text-color)}enjin-editor .ce-inline-tool svg,enjin-editor .ce-settings svg,enjin-editor .cdx-settings-button svg{fill:var(--ion-text-color)}enjin-editor .ce-inline-tool--active svg,enjin-editor .cdx-settings-button--active svg{fill:var(--ion-color-primary)}enjin-editor .ce-conversion-tool__icon{border-color:var(--ion-color-base-tint);background:var(--ion-color-base)}enjin-editor .ce-conversion-tool--focused{background:rgba(var(--ion-color-primary-rgb), 0.2) !important}enjin-editor .ce-conversion-tool:hover{background-color:var(--ion-color-primary);color:var(--ion-text-color)}enjin-editor .ce-conversion-tool:hover svg{color:var(--ion-text-color)}enjin-editor .ce-inline-toolbar__actions input{background:transparent}enjin-editor textarea.cdx-input{background-color:transparent}enjin-editor .editor-partial{min-height:40px}enjin-editor .ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo, Monaco, Consolas, Courier New, monospace;font-size:12px;line-height:1.6;letter-spacing:-0.2px;color:#a1a7b6;overscroll-behavior:contain}@media (min-width: 651px){enjin-editor .codex-editor--narrow .ce-toolbar__plus{left:-60px}}code[class*="language-"],pre[class*="language-"]{color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*="language-"]::-moz-selection,pre[class*="language-"] ::-moz-selection,code[class*="language-"]::-moz-selection,code[class*="language-"] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*="language-"]::selection,pre[class*="language-"] ::selection,code[class*="language-"]::selection,code[class*="language-"] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*="language-"],pre[class*="language-"]{text-shadow:none}}pre[class*="language-"]{padding:1em;margin:0.5em 0;overflow:auto}:not(pre)>code[class*="language-"],pre[class*="language-"]{background:#f5f2f0}:not(pre)>code[class*="language-"]{padding:0.1em;border-radius:0.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray}.token.punctuation{color:#999}.token.namespace{opacity:0.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0, 0%, 100%, 0.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}div.prism-live{position:relative;box-sizing:border-box;display:flex;flex-flow:column}textarea.prism-live,pre.prism-live{padding:0.2rem 0.5rem;box-sizing:border-box;margin:0}textarea.prism-live{position:absolute;top:0;right:0;width:100%;height:100%;z-index:1;color:transparent;cursor:text;white-space:pre;border:0;outline:none;background:transparent;resize:none;--selection-background:hsl(320, 80%, 25%);--selection-color:hsla(0, 0%, 100%, 0.8)}@supports (not (caret-color: black)) and (-webkit-text-fill-color: black){textarea.prism-live{color:inherit;-webkit-text-fill-color:transparent}}textarea.prism-live::-moz-selection{background:var(--selection-background);color:var(--selection-color)}textarea.prism-live::selection{background:var(--selection-background);color:var(--selection-color)}pre.prism-live{flex:1;position:relative;pointer-events:none;overflow:hidden;max-height:100%;--scrollbar-width:17px;padding-bottom:var(--scrollbar-width);padding-right:var(--scrollbar-width)}pre.prism-live>code:empty::before{content:" "}';export{Co as enjin_editor}