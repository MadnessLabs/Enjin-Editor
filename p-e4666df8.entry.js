import{r as t,c as i,h as e,a as r}from"./p-b8756f4d.js";import{a as s}from"./p-3e8ff66b.js";var n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,a=/^0o[0-7]+$/i,d=parseInt,l="object"==typeof self&&self&&self.Object===Object&&self,c="object"==typeof s&&s&&s.Object===Object&&s||l||Function("return this")(),v=Object.prototype.toString,u=Math.max,f=Math.min,p=function(){return c.Date.now()};function g(t){var i=typeof t;return!!t&&("object"==i||"function"==i)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==v.call(t)}(t))return NaN;if(g(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=g(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var e=h.test(t);return e||a.test(t)?d(t.slice(2),e?2:8):o.test(t)?NaN:+t}var w=function(t,i,e){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return g(e)&&(r="leading"in e?!!e.leading:r,s="trailing"in e?!!e.trailing:s),function(t,i,e){var r,s,n,o,h,a,d=0,l=!1,c=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function w(i){var e=r,n=s;return r=s=void 0,d=i,o=t.apply(n,e)}function b(t){return d=t,h=setTimeout(z,i),l?w(t):o}function y(t){var e=t-a;return void 0===a||e>=i||e<0||c&&t-d>=n}function z(){var t=p();if(y(t))return k(t);h=setTimeout(z,function(t){var e=i-(t-a);return c?f(e,n-(t-d)):e}(t))}function k(t){return h=void 0,v&&r?w(t):(r=s=void 0,o)}function S(){var t=p(),e=y(t);if(r=arguments,s=this,a=t,e){if(void 0===h)return b(a);if(c)return h=setTimeout(z,i),w(a)}return void 0===h&&(h=setTimeout(z,i)),o}return i=m(i)||0,g(e)&&(l=!!e.leading,n=(c="maxWait"in e)?u(m(e.maxWait)||0,i):n,v="trailing"in e?!!e.trailing:v),S.cancel=function(){void 0!==h&&clearTimeout(h),d=0,r=a=s=h=void 0},S.flush=function(){return void 0===h?o:k(p())},S}(t,i,{leading:r,maxWait:i,trailing:s})};const b=class{constructor(e){t(this,e),this.slotResized=i(this,"slotResized",7),this.n=1,this.d="horizontal",this.fixed=!1,this.sizes="",this.minSizes="",this.maxSizes="",this.throttle=0,this.nChanged=!1,this.sizesChanged=!1,this.minSizesChanged=!1,this.maxSizesChanged=!1,this.onTouchMove=(t,i)=>{t.preventDefault(),t.touches.length>0&&this.throttledResize(t.touches[0].clientX,t.touches[0].clientY,i,t)}}watchN(){this.nChanged=!0}watchSizes(){this.sizesChanged=!0}watchMinSizes(){this.minSizesChanged=!0}watchMaxSizes(){this.maxSizesChanged=!0}watchThrottle(t){this.throttledResize=w(this.resize.bind(this),t)}componentWillLoad(){this.throttledResize=w(this.resize.bind(this),this.throttle);let t=this.parseSizes(this.sizes);this.slotEnd=t.length===this.n?this.assignedSlotEnd(t):this.defaultSlotEnd(this.n);let i=this.parseSizes(this.minSizes);this.minSizesArr=i.length===this.n?i:this.defaultMinSizes(this.n);let e=this.parseSizes(this.maxSizes);this.maxSizesArr=e.length===this.n?e:this.defaultMaxSizes(this.n)}componentWillUpdate(){let t;if(this.sizesChanged&&(t=this.parseSizes(this.sizes),t.length!==this.n&&(this.sizesChanged=!1)),this.sizesChanged?(this.slotEnd=this.assignedSlotEnd(t),this.nChanged=!1,this.sizesChanged=!1):this.nChanged&&(this.slotEnd=this.rescaleSlotEnd(this.n,this.slotEnd),this.nChanged=!1),this.minSizesChanged){let t=this.parseSizes(this.minSizes);this.minSizesArr=t.length===this.n?t:this.defaultMinSizes(this.n),this.minSizesChanged=!1}if(this.maxSizesChanged){let t=this.parseSizes(this.minSizes);this.maxSizesArr=t.length===this.n?t:this.defaultMaxSizes(this.n),this.maxSizesChanged=!1}}defaultSlotEnd(t){let i=[];for(let e=0;e<t;++e)i.push((e+1)/t);return i}assignedSlotEnd(t){let i=[],e=0;for(let r=0;r<t.length;++r)e+=t[r],i.push(Math.min(1,e));return i}rescaleSlotEnd(t,i){let e=i.length/t,r=[];for(let s=0;s<t-1;++s)r.push(s<i.length?i[s]*e:(s+1)/t);return r.push(1),r}defaultMinSizes(t){let i=[];for(let e=0;e<t;++e)i.push(0);return i}defaultMaxSizes(t){let i=[];for(let e=0;e<t;++e)i.push(1);return i}parseSizes(t){if(!t)return[];if(Array.isArray(t))return t.length===this.n?t:[];try{const i=JSON.parse(t);if(Array.isArray(i))return i.length===this.n?i:[]}catch(t){}let i=t.split(",");if(i.length!==this.n)return[];let e=[];const r=/^\s*\d+(\.\d*)?\%\s*$/,s=/^\s*(0|1)(\.\d*)?\s*$/;for(let t=0;t<i.length;++t){let n=i[t];if(n.match(r))e.push(parseFloat(n)/100);else{if(!n.match(s))return[];e.push(parseFloat(n))}}return e}onDragStart(t,i){t.preventDefault();const e=t=>{this.throttledResize(t.clientX,t.clientY,i,t)},r=()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",r)};window.addEventListener("mousemove",e),window.addEventListener("mouseup",r)}resize(t,i,e,r){let s=e>0?this.slotEnd[e-1]:0,n=s+this.minSizesArr[e];n=Math.max(n,this.slotEnd[e+1]-this.maxSizesArr[e+1]);let o,h=e<this.n-1?this.slotEnd[e+1]:1;h-=this.minSizesArr[e+1],h=Math.min(h,s+this.maxSizesArr[e]);let a=this.el.getBoundingClientRect();o="vertical"===this.d?(i-a.top)/a.height:(t-a.left)/a.width;let d=!1;o<n?this.slotEnd[e]>n&&(o=n,d=!0):o>h?this.slotEnd[e]<h&&(o=h,d=!0):d=!0,d&&(this.slotEnd=[...this.slotEnd.slice(0,e),o,...this.slotEnd.slice(e+1)],this.slotResized.emit({divider:e,sizes:this.slotEndToSizes(this.slotEnd),originalEvent:r}))}slotEndToSizes(t){const i=[];for(let e=0;e<t.length;++e)i.push(this.getSlotSize(e,t));return i}getSlotSize(t,i){return 0===t?i[t]:i[t]-i[t-1]}render(){if(!this.slotEnd||0===this.slotEnd.length)return null;let t=[],i=[],r=[];for(let i=0;i<this.n;++i){let r,s="container"+i,n=""+i,o=this.getSlotSize(i,this.slotEnd);r="vertical"===this.d?{width:"100%",height:100*o+"%"}:{width:100*o+"%",height:"100%"},t.push(e("div",{id:s,style:r},e("slot",{name:n})))}for(let t=0;t<this.n-1;++t){let s,n,o;"vertical"===this.d?(s={top:100*this.slotEnd[t]+"%"},n="divider-v display-divider-v",o="divider-v phantom-divider-v"):(s={left:100*this.slotEnd[t]+"%"},n="divider-h display-divider-h",o="divider-h phantom-divider-h"),i.push(e("div",{class:n,style:s})),this.fixed||r.push(e("div",{class:o,draggable:!0,onDragStart:i=>{this.onDragStart(i,t)},onTouchMove:i=>{this.onTouchMove(i,t)},style:s}))}return e("div",{class:"top-container"},e("div",{class:"dividers-container"},i,r),e("div",{class:"vertical"===this.d?"slots-container-v":"slots-container-h"},t))}get el(){return r(this)}static get watchers(){return{n:["watchN"],sizes:["watchSizes"],minSizes:["watchMinSizes"],maxSizes:["watchMaxSizes"],throttle:["watchThrottle"]}}};b.style=":host{--divider-length:100%;--divider-thickness:0.15rem;--divider-color:#eeeeee;--divider-shadow:0 0 0.3rem black;--divider-image-h:none;--divider-image-v:none;--divider-background-repeat:no-repeat;--divider-background-position:center;--phantom-divider-thickness:2rem;}.divider-h{height:100%;position:absolute;top:0;transform:translateX(-50%)}.divider-v{width:100%;position:absolute;left:0;transform:translateY(-50%)}.display-divider-h{width:var(--divider-thickness);height:var(--divider-length);box-shadow:var(--divider-shadow);background-color:var(--divider-color);background-image:var(--divider-image-h);background-repeat:var(--divider-background-repeat);background-position:var(--divider-background-position);top:50%;transform:translate(-50%, -50%);z-index:1}.display-divider-v{height:var(--divider-thickness);width:var(--divider-length);box-shadow:var(--divider-shadow);background-color:var(--divider-color);background-image:var(--divider-image-v);background-repeat:var(--divider-background-repeat);background-position:var(--divider-background-position);left:50%;transform:translate(-50%, -50%);z-index:1}.phantom-divider-h{background-color:transparent;cursor:col-resize;width:var(--phantom-divider-thickness);height:var(--divider-length);top:50%;transform:translate(-50%, -50%);z-index:2}.phantom-divider-v{background-color:transparent;cursor:row-resize;height:var(--phantom-divider-thickness);width:var(--divider-length);left:50%;transform:translate(-50%, -50%);z-index:2}.top-container{position:relative;width:100%;height:100%;overflow:hidden}.slots-container-h{position:relative;display:flex;height:100%;}.slots-container-v{position:relative;display:flex;flex-direction:column;height:100%}.dividers-container{position:absolute;left:0;top:0;height:100%;width:100%}";export{b as split_me}