import{w as i,B as a}from"./p-b19fa89e.js";import{c as e}from"./p-c73722f4.js";const n="ionViewWillLeave",o="ionViewDidLeave",s="ionViewWillUnload",t=a=>new Promise(((e,n)=>{i((()=>{r(a),c(a).then((i=>{i.animation&&i.animation.destroy(),w(a),e(i)}),(i=>{w(a),n(i)}))}))})),r=i=>{const a=i.enteringEl,e=i.leavingEl;P(a,e,i.direction),i.showGoBack?a.classList.add("can-go-back"):a.classList.remove("can-go-back"),h(a,!1),e&&h(e,!1)},c=async i=>{const e=await l(i);return e&&a.isBrowser?d(e,i):p(i)},w=i=>{const a=i.leavingEl;i.enteringEl.classList.remove("ion-page-invisible"),void 0!==a&&a.classList.remove("ion-page-invisible")},l=async i=>{if(i.leavingEl&&i.animated&&0!==i.duration)return i.animationBuilder?i.animationBuilder:"ios"===i.mode?(await import("./p-c2f77c0e.js")).iosTransitionAnimation:(await import("./p-3e6c4370.js")).mdTransitionAnimation},d=async(i,a)=>{await m(a,!0);const e=i(a.baseEl,a);b(a.enteringEl,a.leavingEl);const n=await v(e,a);return a.progressCallback&&a.progressCallback(void 0),n&&f(a.enteringEl,a.leavingEl),{hasCompleted:n,animation:e}},p=async i=>{const a=i.enteringEl,e=i.leavingEl;return await m(i,!1),b(a,e),f(a,e),{hasCompleted:!0}},m=async(i,a)=>{const e=(void 0!==i.deepWait?i.deepWait:a)?[V(i.enteringEl),V(i.leavingEl)]:[y(i.enteringEl),y(i.leavingEl)];await Promise.all(e),await u(i.viewIsReady,i.enteringEl)},u=async(i,a)=>{i&&await i(a)},v=(i,a)=>{const e=a.progressCallback,n=new Promise((a=>{i.onFinish((i=>a(1===i)))}));return e?(i.progressStart(!0),e(i)):i.play(),n},b=(i,a)=>{g(a,"ionViewWillLeave"),g(i,"ionViewWillEnter")},f=(i,a)=>{g(i,"ionViewDidEnter"),g(a,"ionViewDidLeave")},g=(i,a)=>{if(i){const e=new CustomEvent(a,{bubbles:!1,cancelable:!1});i.dispatchEvent(e)}},y=i=>i?new Promise((a=>e(i,a))):Promise.resolve(),V=async i=>{const a=i;if(a){if(null!=a.componentOnReady&&null!=await a.componentOnReady())return;await Promise.all(Array.from(a.children).map(V))}},h=(i,a)=>{a?(i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden")):(i.hidden=!1,i.removeAttribute("aria-hidden"),i.classList.remove("ion-page-hidden"))},P=(i,a,e)=>{void 0!==i&&(i.style.zIndex="back"===e?"99":"101"),void 0!==a&&(a.style.zIndex="100")},L=i=>{if(i.classList.contains("ion-page"))return i;return i.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||i};export{s as L,n as a,o as b,V as d,L as g,g as l,h as s,t}